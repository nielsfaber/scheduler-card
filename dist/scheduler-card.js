!function(e){"use strict";
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation. All rights reserved.
    Licensed under the Apache License, Version 2.0 (the "License"); you may not use
    this file except in compliance with the License. You may obtain a copy of the
    License at http://www.apache.org/licenses/LICENSE-2.0

    THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
    KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
    WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
    MERCHANTABLITY OR NON-INFRINGEMENT.

    See the Apache Version 2.0 License for specific language governing permissions
    and limitations under the License.
    ***************************************************************************** */function t(e,t,r,a){var i,s=arguments.length,o=s<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,a);else for(var n=e.length-1;n>=0;n--)(i=e[n])&&(o=(s<3?i(o):s>3?i(t,r,o):i(t,r))||o);return s>3&&o&&Object.defineProperty(t,r,o),o
/**
     * @license
     * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
     * This code may only be used under the BSD style license found at
     * http://polymer.github.io/LICENSE.txt
     * The complete set of authors may be found at
     * http://polymer.github.io/AUTHORS.txt
     * The complete set of contributors may be found at
     * http://polymer.github.io/CONTRIBUTORS.txt
     * Code distributed by Google as part of the polymer project is also
     * subject to an additional IP rights grant found at
     * http://polymer.github.io/PATENTS.txt
     */}const r="undefined"!=typeof window&&null!=window.customElements&&void 0!==window.customElements.polyfillWrapFlushCallback,a=(e,t,r=null)=>{for(;t!==r;){const r=t.nextSibling;e.removeChild(t),t=r}},i=`{{lit-${String(Math.random()).slice(2)}}}`,s=`\x3c!--${i}--\x3e`,o=new RegExp(`${i}|${s}`);class n{constructor(e,t){this.parts=[],this.element=t;const r=[],a=[],s=document.createTreeWalker(t.content,133,null,!1);let n=0,l=-1,h=0;const{strings:p,values:{length:m}}=e;for(;h<m;){const e=s.nextNode();if(null!==e){if(l++,1===e.nodeType){if(e.hasAttributes()){const t=e.attributes,{length:r}=t;let a=0;for(let e=0;e<r;e++)c(t[e].name,"$lit$")&&a++;for(;a-- >0;){const t=p[h],r=u.exec(t)[2],a=r.toLowerCase()+"$lit$",i=e.getAttribute(a);e.removeAttribute(a);const s=i.split(o);this.parts.push({type:"attribute",index:l,name:r,strings:s}),h+=s.length-1}}"TEMPLATE"===e.tagName&&(a.push(e),s.currentNode=e.content)}else if(3===e.nodeType){const t=e.data;if(t.indexOf(i)>=0){const a=e.parentNode,i=t.split(o),s=i.length-1;for(let t=0;t<s;t++){let r,s=i[t];if(""===s)r=d();else{const e=u.exec(s);null!==e&&c(e[2],"$lit$")&&(s=s.slice(0,e.index)+e[1]+e[2].slice(0,-"$lit$".length)+e[3]),r=document.createTextNode(s)}a.insertBefore(r,e),this.parts.push({type:"node",index:++l})}""===i[s]?(a.insertBefore(d(),e),r.push(e)):e.data=i[s],h+=s}}else if(8===e.nodeType)if(e.data===i){const t=e.parentNode;null!==e.previousSibling&&l!==n||(l++,t.insertBefore(d(),e)),n=l,this.parts.push({type:"node",index:l}),null===e.nextSibling?e.data="":(r.push(e),l--),h++}else{let t=-1;for(;-1!==(t=e.data.indexOf(i,t+1));)this.parts.push({type:"node",index:-1}),h++}}else s.currentNode=a.pop()}for(const e of r)e.parentNode.removeChild(e)}}const c=(e,t)=>{const r=e.length-t.length;return r>=0&&e.slice(r)===t},l=e=>-1!==e.index,d=()=>document.createComment(""),u=/([ \x09\x0a\x0c\x0d])([^\0-\x1F\x7F-\x9F "'>=/]+)([ \x09\x0a\x0c\x0d]*=[ \x09\x0a\x0c\x0d]*(?:[^ \x09\x0a\x0c\x0d"'`<>=]*|"[^"]*|'[^']*))$/;function h(e,t){const{element:{content:r},parts:a}=e,i=document.createTreeWalker(r,133,null,!1);let s=m(a),o=a[s],n=-1,c=0;const l=[];let d=null;for(;i.nextNode();){n++;const e=i.currentNode;for(e.previousSibling===d&&(d=null),t.has(e)&&(l.push(e),null===d&&(d=e)),null!==d&&c++;void 0!==o&&o.index===n;)o.index=null!==d?-1:o.index-c,s=m(a,s),o=a[s]}l.forEach(e=>e.parentNode.removeChild(e))}const p=e=>{let t=11===e.nodeType?0:1;const r=document.createTreeWalker(e,133,null,!1);for(;r.nextNode();)t++;return t},m=(e,t=-1)=>{for(let r=t+1;r<e.length;r++){const t=e[r];if(l(t))return r}return-1};
/**
     * @license
     * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
     * This code may only be used under the BSD style license found at
     * http://polymer.github.io/LICENSE.txt
     * The complete set of authors may be found at
     * http://polymer.github.io/AUTHORS.txt
     * The complete set of contributors may be found at
     * http://polymer.github.io/CONTRIBUTORS.txt
     * Code distributed by Google as part of the polymer project is also
     * subject to an additional IP rights grant found at
     * http://polymer.github.io/PATENTS.txt
     */
const f=new WeakMap,v=e=>(...t)=>{const r=e(...t);return f.set(r,!0),r},g=e=>"function"==typeof e&&f.has(e),y={},b={};
/**
     * @license
     * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
     * This code may only be used under the BSD style license found at
     * http://polymer.github.io/LICENSE.txt
     * The complete set of authors may be found at
     * http://polymer.github.io/AUTHORS.txt
     * The complete set of contributors may be found at
     * http://polymer.github.io/CONTRIBUTORS.txt
     * Code distributed by Google as part of the polymer project is also
     * subject to an additional IP rights grant found at
     * http://polymer.github.io/PATENTS.txt
     */
class _{constructor(e,t,r){this.__parts=[],this.template=e,this.processor=t,this.options=r}update(e){let t=0;for(const r of this.__parts)void 0!==r&&r.setValue(e[t]),t++;for(const e of this.__parts)void 0!==e&&e.commit()}_clone(){const e=r?this.template.element.content.cloneNode(!0):document.importNode(this.template.element.content,!0),t=[],a=this.template.parts,i=document.createTreeWalker(e,133,null,!1);let s,o=0,n=0,c=i.nextNode();for(;o<a.length;)if(s=a[o],l(s)){for(;n<s.index;)n++,"TEMPLATE"===c.nodeName&&(t.push(c),i.currentNode=c.content),null===(c=i.nextNode())&&(i.currentNode=t.pop(),c=i.nextNode());if("node"===s.type){const e=this.processor.handleTextExpression(this.options);e.insertAfterNode(c.previousSibling),this.__parts.push(e)}else this.__parts.push(...this.processor.handleAttributeExpressions(c,s.name,s.strings,this.options));o++}else this.__parts.push(void 0),o++;return r&&(document.adoptNode(e),customElements.upgrade(e)),e}}
/**
     * @license
     * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
     * This code may only be used under the BSD style license found at
     * http://polymer.github.io/LICENSE.txt
     * The complete set of authors may be found at
     * http://polymer.github.io/AUTHORS.txt
     * The complete set of contributors may be found at
     * http://polymer.github.io/CONTRIBUTORS.txt
     * Code distributed by Google as part of the polymer project is also
     * subject to an additional IP rights grant found at
     * http://polymer.github.io/PATENTS.txt
     */const w=window.trustedTypes&&trustedTypes.createPolicy("lit-html",{createHTML:e=>e}),k=` ${i} `;class x{constructor(e,t,r,a){this.strings=e,this.values=t,this.type=r,this.processor=a}getHTML(){const e=this.strings.length-1;let t="",r=!1;for(let a=0;a<e;a++){const e=this.strings[a],o=e.lastIndexOf("\x3c!--");r=(o>-1||r)&&-1===e.indexOf("--\x3e",o+1);const n=u.exec(e);t+=null===n?e+(r?k:s):e.substr(0,n.index)+n[1]+n[2]+"$lit$"+n[3]+i}return t+=this.strings[e],t}getTemplateElement(){const e=document.createElement("template");let t=this.getHTML();return void 0!==w&&(t=w.createHTML(t)),e.innerHTML=t,e}}
/**
     * @license
     * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
     * This code may only be used under the BSD style license found at
     * http://polymer.github.io/LICENSE.txt
     * The complete set of authors may be found at
     * http://polymer.github.io/AUTHORS.txt
     * The complete set of contributors may be found at
     * http://polymer.github.io/CONTRIBUTORS.txt
     * Code distributed by Google as part of the polymer project is also
     * subject to an additional IP rights grant found at
     * http://polymer.github.io/PATENTS.txt
     */const P=e=>null===e||!("object"==typeof e||"function"==typeof e),E=e=>Array.isArray(e)||!(!e||!e[Symbol.iterator]);class S{constructor(e,t,r){this.dirty=!0,this.element=e,this.name=t,this.strings=r,this.parts=[];for(let e=0;e<r.length-1;e++)this.parts[e]=this._createPart()}_createPart(){return new j(this)}_getValue(){const e=this.strings,t=e.length-1,r=this.parts;if(1===t&&""===e[0]&&""===e[1]){const e=r[0].value;if("symbol"==typeof e)return String(e);if("string"==typeof e||!E(e))return e}let a="";for(let i=0;i<t;i++){a+=e[i];const t=r[i];if(void 0!==t){const e=t.value;if(P(e)||!E(e))a+="string"==typeof e?e:String(e);else for(const t of e)a+="string"==typeof t?t:String(t)}}return a+=e[t],a}commit(){this.dirty&&(this.dirty=!1,this.element.setAttribute(this.name,this._getValue()))}}class j{constructor(e){this.value=void 0,this.committer=e}setValue(e){e===y||P(e)&&e===this.value||(this.value=e,g(e)||(this.committer.dirty=!0))}commit(){for(;g(this.value);){const e=this.value;this.value=y,e(this)}this.value!==y&&this.committer.commit()}}class ${constructor(e){this.value=void 0,this.__pendingValue=void 0,this.options=e}appendInto(e){this.startNode=e.appendChild(d()),this.endNode=e.appendChild(d())}insertAfterNode(e){this.startNode=e,this.endNode=e.nextSibling}appendIntoPart(e){e.__insert(this.startNode=d()),e.__insert(this.endNode=d())}insertAfterPart(e){e.__insert(this.startNode=d()),this.endNode=e.endNode,e.endNode=this.startNode}setValue(e){this.__pendingValue=e}commit(){if(null===this.startNode.parentNode)return;for(;g(this.__pendingValue);){const e=this.__pendingValue;this.__pendingValue=y,e(this)}const e=this.__pendingValue;e!==y&&(P(e)?e!==this.value&&this.__commitText(e):e instanceof x?this.__commitTemplateResult(e):e instanceof Node?this.__commitNode(e):E(e)?this.__commitIterable(e):e===b?(this.value=b,this.clear()):this.__commitText(e))}__insert(e){this.endNode.parentNode.insertBefore(e,this.endNode)}__commitNode(e){this.value!==e&&(this.clear(),this.__insert(e),this.value=e)}__commitText(e){const t=this.startNode.nextSibling,r="string"==typeof(e=null==e?"":e)?e:String(e);t===this.endNode.previousSibling&&3===t.nodeType?t.data=r:this.__commitNode(document.createTextNode(r)),this.value=e}__commitTemplateResult(e){const t=this.options.templateFactory(e);if(this.value instanceof _&&this.value.template===t)this.value.update(e.values);else{const r=new _(t,e.processor,this.options),a=r._clone();r.update(e.values),this.__commitNode(a),this.value=r}}__commitIterable(e){Array.isArray(this.value)||(this.value=[],this.clear());const t=this.value;let r,a=0;for(const i of e)r=t[a],void 0===r&&(r=new $(this.options),t.push(r),0===a?r.appendIntoPart(this):r.insertAfterPart(t[a-1])),r.setValue(i),r.commit(),a++;a<t.length&&(t.length=a,this.clear(r&&r.endNode))}clear(e=this.startNode){a(this.startNode.parentNode,e.nextSibling,this.endNode)}}class O{constructor(e,t,r){if(this.value=void 0,this.__pendingValue=void 0,2!==r.length||""!==r[0]||""!==r[1])throw new Error("Boolean attributes can only contain a single expression");this.element=e,this.name=t,this.strings=r}setValue(e){this.__pendingValue=e}commit(){for(;g(this.__pendingValue);){const e=this.__pendingValue;this.__pendingValue=y,e(this)}if(this.__pendingValue===y)return;const e=!!this.__pendingValue;this.value!==e&&(e?this.element.setAttribute(this.name,""):this.element.removeAttribute(this.name),this.value=e),this.__pendingValue=y}}class A extends S{constructor(e,t,r){super(e,t,r),this.single=2===r.length&&""===r[0]&&""===r[1]}_createPart(){return new C(this)}_getValue(){return this.single?this.parts[0].value:super._getValue()}commit(){this.dirty&&(this.dirty=!1,this.element[this.name]=this._getValue())}}class C extends j{}let F=!1;(()=>{try{const e={get capture(){return F=!0,!1}};window.addEventListener("test",e,e),window.removeEventListener("test",e,e)}catch(e){}})();class z{constructor(e,t,r){this.value=void 0,this.__pendingValue=void 0,this.element=e,this.eventName=t,this.eventContext=r,this.__boundHandleEvent=e=>this.handleEvent(e)}setValue(e){this.__pendingValue=e}commit(){for(;g(this.__pendingValue);){const e=this.__pendingValue;this.__pendingValue=y,e(this)}if(this.__pendingValue===y)return;const e=this.__pendingValue,t=this.value,r=null==e||null!=t&&(e.capture!==t.capture||e.once!==t.once||e.passive!==t.passive),a=null!=e&&(null==t||r);r&&this.element.removeEventListener(this.eventName,this.__boundHandleEvent,this.__options),a&&(this.__options=R(e),this.element.addEventListener(this.eventName,this.__boundHandleEvent,this.__options)),this.value=e,this.__pendingValue=y}handleEvent(e){"function"==typeof this.value?this.value.call(this.eventContext||this.element,e):this.value.handleEvent(e)}}const R=e=>e&&(F?{capture:e.capture,passive:e.passive,once:e.once}:e.capture)
/**
     * @license
     * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
     * This code may only be used under the BSD style license found at
     * http://polymer.github.io/LICENSE.txt
     * The complete set of authors may be found at
     * http://polymer.github.io/AUTHORS.txt
     * The complete set of contributors may be found at
     * http://polymer.github.io/CONTRIBUTORS.txt
     * Code distributed by Google as part of the polymer project is also
     * subject to an additional IP rights grant found at
     * http://polymer.github.io/PATENTS.txt
     */;function D(e){let t=T.get(e.type);void 0===t&&(t={stringsArray:new WeakMap,keyString:new Map},T.set(e.type,t));let r=t.stringsArray.get(e.strings);if(void 0!==r)return r;const a=e.strings.join(i);return r=t.keyString.get(a),void 0===r&&(r=new n(e,e.getTemplateElement()),t.keyString.set(a,r)),t.stringsArray.set(e.strings,r),r}const T=new Map,N=new WeakMap;
/**
     * @license
     * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
     * This code may only be used under the BSD style license found at
     * http://polymer.github.io/LICENSE.txt
     * The complete set of authors may be found at
     * http://polymer.github.io/AUTHORS.txt
     * The complete set of contributors may be found at
     * http://polymer.github.io/CONTRIBUTORS.txt
     * Code distributed by Google as part of the polymer project is also
     * subject to an additional IP rights grant found at
     * http://polymer.github.io/PATENTS.txt
     */const I=new
/**
     * @license
     * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
     * This code may only be used under the BSD style license found at
     * http://polymer.github.io/LICENSE.txt
     * The complete set of authors may be found at
     * http://polymer.github.io/AUTHORS.txt
     * The complete set of contributors may be found at
     * http://polymer.github.io/CONTRIBUTORS.txt
     * Code distributed by Google as part of the polymer project is also
     * subject to an additional IP rights grant found at
     * http://polymer.github.io/PATENTS.txt
     */
class{handleAttributeExpressions(e,t,r,a){const i=t[0];if("."===i){return new A(e,t.slice(1),r).parts}if("@"===i)return[new z(e,t.slice(1),a.eventContext)];if("?"===i)return[new O(e,t.slice(1),r)];return new S(e,t,r).parts}handleTextExpression(e){return new $(e)}};
/**
     * @license
     * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
     * This code may only be used under the BSD style license found at
     * http://polymer.github.io/LICENSE.txt
     * The complete set of authors may be found at
     * http://polymer.github.io/AUTHORS.txt
     * The complete set of contributors may be found at
     * http://polymer.github.io/CONTRIBUTORS.txt
     * Code distributed by Google as part of the polymer project is also
     * subject to an additional IP rights grant found at
     * http://polymer.github.io/PATENTS.txt
     */"undefined"!=typeof window&&(window.litHtmlVersions||(window.litHtmlVersions=[])).push("1.3.0");const L=(e,...t)=>new x(e,t,"html",I)
/**
     * @license
     * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
     * This code may only be used under the BSD style license found at
     * http://polymer.github.io/LICENSE.txt
     * The complete set of authors may be found at
     * http://polymer.github.io/AUTHORS.txt
     * The complete set of contributors may be found at
     * http://polymer.github.io/CONTRIBUTORS.txt
     * Code distributed by Google as part of the polymer project is also
     * subject to an additional IP rights grant found at
     * http://polymer.github.io/PATENTS.txt
     */,U=(e,t)=>`${e}--${t}`;let q=!0;void 0===window.ShadyCSS?q=!1:void 0===window.ShadyCSS.prepareTemplateDom&&(console.warn("Incompatible ShadyCSS version detected. Please update to at least @webcomponents/webcomponentsjs@2.0.2 and @webcomponents/shadycss@1.3.1."),q=!1);const V=e=>t=>{const r=U(t.type,e);let a=T.get(r);void 0===a&&(a={stringsArray:new WeakMap,keyString:new Map},T.set(r,a));let s=a.stringsArray.get(t.strings);if(void 0!==s)return s;const o=t.strings.join(i);if(s=a.keyString.get(o),void 0===s){const r=t.getTemplateElement();q&&window.ShadyCSS.prepareTemplateDom(r,e),s=new n(t,r),a.keyString.set(o,s)}return a.stringsArray.set(t.strings,s),s},M=["html","svg"],H=new Set,Q=(e,t,r)=>{H.add(e);const a=r?r.element:document.createElement("template"),i=t.querySelectorAll("style"),{length:s}=i;if(0===s)return void window.ShadyCSS.prepareTemplateStyles(a,e);const o=document.createElement("style");for(let e=0;e<s;e++){const t=i[e];t.parentNode.removeChild(t),o.textContent+=t.textContent}(e=>{M.forEach(t=>{const r=T.get(U(t,e));void 0!==r&&r.keyString.forEach(e=>{const{element:{content:t}}=e,r=new Set;Array.from(t.querySelectorAll("style")).forEach(e=>{r.add(e)}),h(e,r)})})})(e);const n=a.content;r?function(e,t,r=null){const{element:{content:a},parts:i}=e;if(null==r)return void a.appendChild(t);const s=document.createTreeWalker(a,133,null,!1);let o=m(i),n=0,c=-1;for(;s.nextNode();){c++;for(s.currentNode===r&&(n=p(t),r.parentNode.insertBefore(t,r));-1!==o&&i[o].index===c;){if(n>0){for(;-1!==o;)i[o].index+=n,o=m(i,o);return}o=m(i,o)}}}(r,o,n.firstChild):n.insertBefore(o,n.firstChild),window.ShadyCSS.prepareTemplateStyles(a,e);const c=n.querySelector("style");if(window.ShadyCSS.nativeShadow&&null!==c)t.insertBefore(c.cloneNode(!0),t.firstChild);else if(r){n.insertBefore(o,n.firstChild);const e=new Set;e.add(o),h(r,e)}};window.JSCompiler_renameProperty=(e,t)=>e;const B={toAttribute(e,t){switch(t){case Boolean:return e?"":null;case Object:case Array:return null==e?e:JSON.stringify(e)}return e},fromAttribute(e,t){switch(t){case Boolean:return null!==e;case Number:return null===e?null:Number(e);case Object:case Array:return JSON.parse(e)}return e}},G=(e,t)=>t!==e&&(t==t||e==e),K={attribute:!0,type:String,converter:B,reflect:!1,hasChanged:G};class J extends HTMLElement{constructor(){super(),this.initialize()}static get observedAttributes(){this.finalize();const e=[];return this._classProperties.forEach((t,r)=>{const a=this._attributeNameForProperty(r,t);void 0!==a&&(this._attributeToPropertyMap.set(a,r),e.push(a))}),e}static _ensureClassProperties(){if(!this.hasOwnProperty(JSCompiler_renameProperty("_classProperties",this))){this._classProperties=new Map;const e=Object.getPrototypeOf(this)._classProperties;void 0!==e&&e.forEach((e,t)=>this._classProperties.set(t,e))}}static createProperty(e,t=K){if(this._ensureClassProperties(),this._classProperties.set(e,t),t.noAccessor||this.prototype.hasOwnProperty(e))return;const r="symbol"==typeof e?Symbol():"__"+e,a=this.getPropertyDescriptor(e,r,t);void 0!==a&&Object.defineProperty(this.prototype,e,a)}static getPropertyDescriptor(e,t,r){return{get(){return this[t]},set(a){const i=this[e];this[t]=a,this.requestUpdateInternal(e,i,r)},configurable:!0,enumerable:!0}}static getPropertyOptions(e){return this._classProperties&&this._classProperties.get(e)||K}static finalize(){const e=Object.getPrototypeOf(this);if(e.hasOwnProperty("finalized")||e.finalize(),this.finalized=!0,this._ensureClassProperties(),this._attributeToPropertyMap=new Map,this.hasOwnProperty(JSCompiler_renameProperty("properties",this))){const e=this.properties,t=[...Object.getOwnPropertyNames(e),..."function"==typeof Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(e):[]];for(const r of t)this.createProperty(r,e[r])}}static _attributeNameForProperty(e,t){const r=t.attribute;return!1===r?void 0:"string"==typeof r?r:"string"==typeof e?e.toLowerCase():void 0}static _valueHasChanged(e,t,r=G){return r(e,t)}static _propertyValueFromAttribute(e,t){const r=t.type,a=t.converter||B,i="function"==typeof a?a:a.fromAttribute;return i?i(e,r):e}static _propertyValueToAttribute(e,t){if(void 0===t.reflect)return;const r=t.type,a=t.converter;return(a&&a.toAttribute||B.toAttribute)(e,r)}initialize(){this._updateState=0,this._updatePromise=new Promise(e=>this._enableUpdatingResolver=e),this._changedProperties=new Map,this._saveInstanceProperties(),this.requestUpdateInternal()}_saveInstanceProperties(){this.constructor._classProperties.forEach((e,t)=>{if(this.hasOwnProperty(t)){const e=this[t];delete this[t],this._instanceProperties||(this._instanceProperties=new Map),this._instanceProperties.set(t,e)}})}_applyInstanceProperties(){this._instanceProperties.forEach((e,t)=>this[t]=e),this._instanceProperties=void 0}connectedCallback(){this.enableUpdating()}enableUpdating(){void 0!==this._enableUpdatingResolver&&(this._enableUpdatingResolver(),this._enableUpdatingResolver=void 0)}disconnectedCallback(){}attributeChangedCallback(e,t,r){t!==r&&this._attributeToProperty(e,r)}_propertyToAttribute(e,t,r=K){const a=this.constructor,i=a._attributeNameForProperty(e,r);if(void 0!==i){const e=a._propertyValueToAttribute(t,r);if(void 0===e)return;this._updateState=8|this._updateState,null==e?this.removeAttribute(i):this.setAttribute(i,e),this._updateState=-9&this._updateState}}_attributeToProperty(e,t){if(8&this._updateState)return;const r=this.constructor,a=r._attributeToPropertyMap.get(e);if(void 0!==a){const e=r.getPropertyOptions(a);this._updateState=16|this._updateState,this[a]=r._propertyValueFromAttribute(t,e),this._updateState=-17&this._updateState}}requestUpdateInternal(e,t,r){let a=!0;if(void 0!==e){const i=this.constructor;r=r||i.getPropertyOptions(e),i._valueHasChanged(this[e],t,r.hasChanged)?(this._changedProperties.has(e)||this._changedProperties.set(e,t),!0!==r.reflect||16&this._updateState||(void 0===this._reflectingProperties&&(this._reflectingProperties=new Map),this._reflectingProperties.set(e,r))):a=!1}!this._hasRequestedUpdate&&a&&(this._updatePromise=this._enqueueUpdate())}requestUpdate(e,t){return this.requestUpdateInternal(e,t),this.updateComplete}async _enqueueUpdate(){this._updateState=4|this._updateState;try{await this._updatePromise}catch(e){}const e=this.performUpdate();return null!=e&&await e,!this._hasRequestedUpdate}get _hasRequestedUpdate(){return 4&this._updateState}get hasUpdated(){return 1&this._updateState}performUpdate(){if(!this._hasRequestedUpdate)return;this._instanceProperties&&this._applyInstanceProperties();let e=!1;const t=this._changedProperties;try{e=this.shouldUpdate(t),e?this.update(t):this._markUpdated()}catch(t){throw e=!1,this._markUpdated(),t}e&&(1&this._updateState||(this._updateState=1|this._updateState,this.firstUpdated(t)),this.updated(t))}_markUpdated(){this._changedProperties=new Map,this._updateState=-5&this._updateState}get updateComplete(){return this._getUpdateComplete()}_getUpdateComplete(){return this._updatePromise}shouldUpdate(e){return!0}update(e){void 0!==this._reflectingProperties&&this._reflectingProperties.size>0&&(this._reflectingProperties.forEach((e,t)=>this._propertyToAttribute(t,this[t],e)),this._reflectingProperties=void 0),this._markUpdated()}updated(e){}firstUpdated(e){}}J.finalized=!0;
/**
     * @license
     * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
     * This code may only be used under the BSD style license found at
     * http://polymer.github.io/LICENSE.txt
     * The complete set of authors may be found at
     * http://polymer.github.io/AUTHORS.txt
     * The complete set of contributors may be found at
     * http://polymer.github.io/CONTRIBUTORS.txt
     * Code distributed by Google as part of the polymer project is also
     * subject to an additional IP rights grant found at
     * http://polymer.github.io/PATENTS.txt
     */
const W=e=>t=>"function"==typeof t?((e,t)=>(window.customElements.define(e,t),t))(e,t):((e,t)=>{const{kind:r,elements:a}=t;return{kind:r,elements:a,finisher(t){window.customElements.define(e,t)}}})(e,t),Z=(e,t)=>"method"===t.kind&&t.descriptor&&!("value"in t.descriptor)?Object.assign(Object.assign({},t),{finisher(r){r.createProperty(t.key,e)}}):{kind:"field",key:Symbol(),placement:"own",descriptor:{},initializer(){"function"==typeof t.initializer&&(this[t.key]=t.initializer.call(this))},finisher(r){r.createProperty(t.key,e)}};function Y(e){return(t,r)=>void 0!==r?((e,t,r)=>{t.constructor.createProperty(r,e)})(e,t,r):Z(e,t)}function X(e){return Y({attribute:!1,hasChanged:null==e?void 0:e.hasChanged})}function ee(e,t){return(r,a)=>{const i={get(){return this.renderRoot.querySelector(e)},enumerable:!0,configurable:!0};if(t){const t="symbol"==typeof a?Symbol():"__"+a;i.get=function(){return void 0===this[t]&&(this[t]=this.renderRoot.querySelector(e)),this[t]}}return void 0!==a?te(i,r,a):re(i,r)}}const te=(e,t,r)=>{Object.defineProperty(t,r,e)},re=(e,t)=>({kind:"method",placement:"prototype",key:t.key,descriptor:e});
/**
    @license
    Copyright (c) 2019 The Polymer Project Authors. All rights reserved.
    This code may only be used under the BSD style license found at
    http://polymer.github.io/LICENSE.txt The complete set of authors may be found at
    http://polymer.github.io/AUTHORS.txt The complete set of contributors may be
    found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as
    part of the polymer project is also subject to an additional IP rights grant
    found at http://polymer.github.io/PATENTS.txt
    */
const ae=window.ShadowRoot&&(void 0===window.ShadyCSS||window.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,ie=Symbol();class se{constructor(e,t){if(t!==ie)throw new Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=e}get styleSheet(){return void 0===this._styleSheet&&(ae?(this._styleSheet=new CSSStyleSheet,this._styleSheet.replaceSync(this.cssText)):this._styleSheet=null),this._styleSheet}toString(){return this.cssText}}const oe=(e,...t)=>{const r=t.reduce((t,r,a)=>t+(e=>{if(e instanceof se)return e.cssText;if("number"==typeof e)return e;throw new Error(`Value passed to 'css' function must be a 'css' function result: ${e}. Use 'unsafeCSS' to pass non-literal values, but\n            take care to ensure page security.`)})(r)+e[a+1],e[0]);return new se(r,ie)};
/**
     * @license
     * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
     * This code may only be used under the BSD style license found at
     * http://polymer.github.io/LICENSE.txt
     * The complete set of authors may be found at
     * http://polymer.github.io/AUTHORS.txt
     * The complete set of contributors may be found at
     * http://polymer.github.io/CONTRIBUTORS.txt
     * Code distributed by Google as part of the polymer project is also
     * subject to an additional IP rights grant found at
     * http://polymer.github.io/PATENTS.txt
     */
(window.litElementVersions||(window.litElementVersions=[])).push("2.4.0");const ne={};class ce extends J{static getStyles(){return this.styles}static _getUniqueStyles(){if(this.hasOwnProperty(JSCompiler_renameProperty("_styles",this)))return;const e=this.getStyles();if(Array.isArray(e)){const t=(e,r)=>e.reduceRight((e,r)=>Array.isArray(r)?t(r,e):(e.add(r),e),r),r=t(e,new Set),a=[];r.forEach(e=>a.unshift(e)),this._styles=a}else this._styles=void 0===e?[]:[e];this._styles=this._styles.map(e=>{if(e instanceof CSSStyleSheet&&!ae){const t=Array.prototype.slice.call(e.cssRules).reduce((e,t)=>e+t.cssText,"");return new se(String(t),ie)}return e})}initialize(){super.initialize(),this.constructor._getUniqueStyles(),this.renderRoot=this.createRenderRoot(),window.ShadowRoot&&this.renderRoot instanceof window.ShadowRoot&&this.adoptStyles()}createRenderRoot(){return this.attachShadow({mode:"open"})}adoptStyles(){const e=this.constructor._styles;0!==e.length&&(void 0===window.ShadyCSS||window.ShadyCSS.nativeShadow?ae?this.renderRoot.adoptedStyleSheets=e.map(e=>e instanceof CSSStyleSheet?e:e.styleSheet):this._needsShimAdoptedStyleSheets=!0:window.ShadyCSS.ScopingShim.prepareAdoptedCssText(e.map(e=>e.cssText),this.localName))}connectedCallback(){super.connectedCallback(),this.hasUpdated&&void 0!==window.ShadyCSS&&window.ShadyCSS.styleElement(this)}update(e){const t=this.render();super.update(e),t!==ne&&this.constructor.render(t,this.renderRoot,{scopeName:this.localName,eventContext:this}),this._needsShimAdoptedStyleSheets&&(this._needsShimAdoptedStyleSheets=!1,this.constructor._styles.forEach(e=>{const t=document.createElement("style");t.textContent=e.cssText,this.renderRoot.appendChild(t)}))}render(){return ne}}ce.finalized=!0,ce.render=(e,t,r)=>{if(!r||"object"!=typeof r||!r.scopeName)throw new Error("The `scopeName` option is required.");const i=r.scopeName,s=N.has(t),o=q&&11===t.nodeType&&!!t.host,n=o&&!H.has(i),c=n?document.createDocumentFragment():t;if(((e,t,r)=>{let i=N.get(t);void 0===i&&(a(t,t.firstChild),N.set(t,i=new $(Object.assign({templateFactory:D},r))),i.appendInto(t)),i.setValue(e),i.commit()})(e,c,Object.assign({templateFactory:V(i)},r)),n){const e=N.get(c);N.delete(c);const r=e.value instanceof _?e.value.template:void 0;Q(i,c,r),a(t,t.firstChild),t.appendChild(c),N.set(t,e)}!s&&o&&window.ShadyCSS.styleElement(t.host)};var le="object"==typeof global&&global&&global.Object===Object&&global,de="object"==typeof self&&self&&self.Object===Object&&self,ue=le||de||Function("return this")(),he=ue.Symbol,pe=Object.prototype,me=pe.hasOwnProperty,fe=pe.toString,ve=he?he.toStringTag:void 0;var ge=Object.prototype.toString;var ye=he?he.toStringTag:void 0;function be(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":ye&&ye in Object(e)?function(e){var t=me.call(e,ve),r=e[ve];try{e[ve]=void 0;var a=!0}catch(e){}var i=fe.call(e);return a&&(t?e[ve]=r:delete e[ve]),i}(e):function(e){return ge.call(e)}(e)}function _e(e){return null!=e&&"object"==typeof e}function we(e){return"symbol"==typeof e||_e(e)&&"[object Symbol]"==be(e)}function ke(e,t){for(var r=-1,a=null==e?0:e.length,i=Array(a);++r<a;)i[r]=t(e[r],r,e);return i}var xe=Array.isArray,Pe=he?he.prototype:void 0,Ee=Pe?Pe.toString:void 0;function Se(e){if("string"==typeof e)return e;if(xe(e))return ke(e,Se)+"";if(we(e))return Ee?Ee.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function je(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}var $e=/^\s+|\s+$/g,Oe=/^[-+]0x[0-9a-f]+$/i,Ae=/^0b[01]+$/i,Ce=/^0o[0-7]+$/i,Fe=parseInt;function ze(e){return e?(e=function(e){if("number"==typeof e)return e;if(we(e))return NaN;if(je(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=je(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace($e,"");var r=Ae.test(e);return r||Ce.test(e)?Fe(e.slice(2),r?2:8):Oe.test(e)?NaN:+e}(e))===1/0||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}function Re(e){return e}function De(e){if(!je(e))return!1;var t=be(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}var Te,Ne=ue["__core-js_shared__"],Ie=(Te=/[^.]+$/.exec(Ne&&Ne.keys&&Ne.keys.IE_PROTO||""))?"Symbol(src)_1."+Te:"";var Le=Function.prototype.toString;function Ue(e){if(null!=e){try{return Le.call(e)}catch(e){}try{return e+""}catch(e){}}return""}var qe=/^\[object .+?Constructor\]$/,Ve=Function.prototype,Me=Object.prototype,He=Ve.toString,Qe=Me.hasOwnProperty,Be=RegExp("^"+He.call(Qe).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Ge(e){return!(!je(e)||(t=e,Ie&&Ie in t))&&(De(e)?Be:qe).test(Ue(e));var t}function Ke(e,t){var r=function(e,t){return null==e?void 0:e[t]}(e,t);return Ge(r)?r:void 0}var Je=Ke(ue,"WeakMap"),We=Object.create,Ze=function(){function e(){}return function(t){if(!je(t))return{};if(We)return We(t);e.prototype=t;var r=new e;return e.prototype=void 0,r}}();function Ye(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}function Xe(e,t){var r=-1,a=e.length;for(t||(t=Array(a));++r<a;)t[r]=e[r];return t}var et=Date.now;var tt,rt,at,it=function(){try{var e=Ke(Object,"defineProperty");return e({},"",{}),e}catch(e){}}(),st=(tt=it?function(e,t){return it(e,"toString",{configurable:!0,enumerable:!1,value:(r=t,function(){return r}),writable:!0});var r}:Re,rt=0,at=0,function(){var e=et(),t=16-(e-at);if(at=e,t>0){if(++rt>=800)return arguments[0]}else rt=0;return tt.apply(void 0,arguments)});function ot(e,t){for(var r=-1,a=null==e?0:e.length;++r<a&&!1!==t(e[r],r,e););return e}function nt(e,t,r,a){for(var i=e.length,s=r+(a?1:-1);a?s--:++s<i;)if(t(e[s],s,e))return s;return-1}function ct(e){return e!=e}function lt(e,t,r){return t==t?function(e,t,r){for(var a=r-1,i=e.length;++a<i;)if(e[a]===t)return a;return-1}(e,t,r):nt(e,ct,r)}var dt=/^(?:0|[1-9]\d*)$/;function ut(e,t){var r=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==r||"symbol"!=r&&dt.test(e))&&e>-1&&e%1==0&&e<t}function ht(e,t,r){"__proto__"==t&&it?it(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}function pt(e,t){return e===t||e!=e&&t!=t}var mt=Object.prototype.hasOwnProperty;function ft(e,t,r){var a=e[t];mt.call(e,t)&&pt(a,r)&&(void 0!==r||t in e)||ht(e,t,r)}function vt(e,t,r,a){var i=!r;r||(r={});for(var s=-1,o=t.length;++s<o;){var n=t[s],c=a?a(r[n],e[n],n,r,e):void 0;void 0===c&&(c=e[n]),i?ht(r,n,c):ft(r,n,c)}return r}var gt=Math.max;function yt(e,t,r){return t=gt(void 0===t?e.length-1:t,0),function(){for(var a=arguments,i=-1,s=gt(a.length-t,0),o=Array(s);++i<s;)o[i]=a[t+i];i=-1;for(var n=Array(t+1);++i<t;)n[i]=a[i];return n[t]=r(o),Ye(e,this,n)}}function bt(e,t){return st(yt(e,t,Re),e+"")}function _t(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}function wt(e){return null!=e&&_t(e.length)&&!De(e)}function kt(e,t,r){if(!je(r))return!1;var a=typeof t;return!!("number"==a?wt(r)&&ut(t,r.length):"string"==a&&t in r)&&pt(r[t],e)}var xt=Object.prototype;function Pt(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||xt)}function Et(e){return _e(e)&&"[object Arguments]"==be(e)}var St=Object.prototype,jt=St.hasOwnProperty,$t=St.propertyIsEnumerable,Ot=Et(function(){return arguments}())?Et:function(e){return _e(e)&&jt.call(e,"callee")&&!$t.call(e,"callee")};var At="object"==typeof e&&e&&!e.nodeType&&e,Ct=At&&"object"==typeof module&&module&&!module.nodeType&&module,Ft=Ct&&Ct.exports===At?ue.Buffer:void 0,zt=(Ft?Ft.isBuffer:void 0)||function(){return!1},Rt={};function Dt(e){return function(t){return e(t)}}Rt["[object Float32Array]"]=Rt["[object Float64Array]"]=Rt["[object Int8Array]"]=Rt["[object Int16Array]"]=Rt["[object Int32Array]"]=Rt["[object Uint8Array]"]=Rt["[object Uint8ClampedArray]"]=Rt["[object Uint16Array]"]=Rt["[object Uint32Array]"]=!0,Rt["[object Arguments]"]=Rt["[object Array]"]=Rt["[object ArrayBuffer]"]=Rt["[object Boolean]"]=Rt["[object DataView]"]=Rt["[object Date]"]=Rt["[object Error]"]=Rt["[object Function]"]=Rt["[object Map]"]=Rt["[object Number]"]=Rt["[object Object]"]=Rt["[object RegExp]"]=Rt["[object Set]"]=Rt["[object String]"]=Rt["[object WeakMap]"]=!1;var Tt="object"==typeof e&&e&&!e.nodeType&&e,Nt=Tt&&"object"==typeof module&&module&&!module.nodeType&&module,It=Nt&&Nt.exports===Tt&&le.process,Lt=function(){try{var e=Nt&&Nt.require&&Nt.require("util").types;return e||It&&It.binding&&It.binding("util")}catch(e){}}(),Ut=Lt&&Lt.isTypedArray,qt=Ut?Dt(Ut):function(e){return _e(e)&&_t(e.length)&&!!Rt[be(e)]},Vt=Object.prototype.hasOwnProperty;function Mt(e,t){var r=xe(e),a=!r&&Ot(e),i=!r&&!a&&zt(e),s=!r&&!a&&!i&&qt(e),o=r||a||i||s,n=o?function(e,t){for(var r=-1,a=Array(e);++r<e;)a[r]=t(r);return a}(e.length,String):[],c=n.length;for(var l in e)!t&&!Vt.call(e,l)||o&&("length"==l||i&&("offset"==l||"parent"==l)||s&&("buffer"==l||"byteLength"==l||"byteOffset"==l)||ut(l,c))||n.push(l);return n}function Ht(e,t){return function(r){return e(t(r))}}var Qt=Ht(Object.keys,Object),Bt=Object.prototype.hasOwnProperty;function Gt(e){if(!Pt(e))return Qt(e);var t=[];for(var r in Object(e))Bt.call(e,r)&&"constructor"!=r&&t.push(r);return t}function Kt(e){return wt(e)?Mt(e):Gt(e)}var Jt=Object.prototype.hasOwnProperty;function Wt(e){if(!je(e))return function(e){var t=[];if(null!=e)for(var r in Object(e))t.push(r);return t}(e);var t=Pt(e),r=[];for(var a in e)("constructor"!=a||!t&&Jt.call(e,a))&&r.push(a);return r}function Zt(e){return wt(e)?Mt(e,!0):Wt(e)}var Yt,Xt=(Yt=function(e,t){vt(t,Zt(t),e)},bt((function(e,t){var r=-1,a=t.length,i=a>1?t[a-1]:void 0,s=a>2?t[2]:void 0;for(i=Yt.length>3&&"function"==typeof i?(a--,i):void 0,s&&kt(t[0],t[1],s)&&(i=a<3?void 0:i,a=1),e=Object(e);++r<a;){var o=t[r];o&&Yt(e,o,r,i)}return e}))),er=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,tr=/^\w*$/;function rr(e,t){if(xe(e))return!1;var r=typeof e;return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=e&&!we(e))||(tr.test(e)||!er.test(e)||null!=t&&e in Object(t))}var ar=Ke(Object,"create");var ir=Object.prototype.hasOwnProperty;var sr=Object.prototype.hasOwnProperty;function or(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var a=e[t];this.set(a[0],a[1])}}function nr(e,t){for(var r=e.length;r--;)if(pt(e[r][0],t))return r;return-1}or.prototype.clear=function(){this.__data__=ar?ar(null):{},this.size=0},or.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},or.prototype.get=function(e){var t=this.__data__;if(ar){var r=t[e];return"__lodash_hash_undefined__"===r?void 0:r}return ir.call(t,e)?t[e]:void 0},or.prototype.has=function(e){var t=this.__data__;return ar?void 0!==t[e]:sr.call(t,e)},or.prototype.set=function(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=ar&&void 0===t?"__lodash_hash_undefined__":t,this};var cr=Array.prototype.splice;function lr(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var a=e[t];this.set(a[0],a[1])}}lr.prototype.clear=function(){this.__data__=[],this.size=0},lr.prototype.delete=function(e){var t=this.__data__,r=nr(t,e);return!(r<0)&&(r==t.length-1?t.pop():cr.call(t,r,1),--this.size,!0)},lr.prototype.get=function(e){var t=this.__data__,r=nr(t,e);return r<0?void 0:t[r][1]},lr.prototype.has=function(e){return nr(this.__data__,e)>-1},lr.prototype.set=function(e,t){var r=this.__data__,a=nr(r,e);return a<0?(++this.size,r.push([e,t])):r[a][1]=t,this};var dr=Ke(ue,"Map");function ur(e,t){var r=e.__data__;return function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}(t)?r["string"==typeof t?"string":"hash"]:r.map}function hr(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var a=e[t];this.set(a[0],a[1])}}hr.prototype.clear=function(){this.size=0,this.__data__={hash:new or,map:new(dr||lr),string:new or}},hr.prototype.delete=function(e){var t=ur(this,e).delete(e);return this.size-=t?1:0,t},hr.prototype.get=function(e){return ur(this,e).get(e)},hr.prototype.has=function(e){return ur(this,e).has(e)},hr.prototype.set=function(e,t){var r=ur(this,e),a=r.size;return r.set(e,t),this.size+=r.size==a?0:1,this};function pr(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var r=function(){var a=arguments,i=t?t.apply(this,a):a[0],s=r.cache;if(s.has(i))return s.get(i);var o=e.apply(this,a);return r.cache=s.set(i,o)||s,o};return r.cache=new(pr.Cache||hr),r}pr.Cache=hr;var mr=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,fr=/\\(\\)?/g,vr=function(e){var t=pr(e,(function(e){return 500===r.size&&r.clear(),e})),r=t.cache;return t}((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(mr,(function(e,r,a,i){t.push(a?i.replace(fr,"$1"):r||e)})),t}));function gr(e,t){return xe(e)?e:rr(e,t)?[e]:vr(function(e){return null==e?"":Se(e)}(e))}function yr(e){if("string"==typeof e||we(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function br(e,t){for(var r=0,a=(t=gr(t,e)).length;null!=e&&r<a;)e=e[yr(t[r++])];return r&&r==a?e:void 0}function _r(e,t){for(var r=-1,a=t.length,i=e.length;++r<a;)e[i+r]=t[r];return e}var wr=he?he.isConcatSpreadable:void 0;function kr(e){return xe(e)||Ot(e)||!!(wr&&e&&e[wr])}function xr(e,t,r,a,i){var s=-1,o=e.length;for(r||(r=kr),i||(i=[]);++s<o;){var n=e[s];t>0&&r(n)?t>1?xr(n,t-1,r,a,i):_r(i,n):a||(i[i.length]=n)}return i}function Pr(e){return(null==e?0:e.length)?xr(e,1):[]}function Er(e){return st(yt(e,void 0,Pr),e+"")}var Sr=Ht(Object.getPrototypeOf,Object),jr=Function.prototype,$r=Object.prototype,Or=jr.toString,Ar=$r.hasOwnProperty,Cr=Or.call(Object);function Fr(e){var t=this.__data__=new lr(e);this.size=t.size}Fr.prototype.clear=function(){this.__data__=new lr,this.size=0},Fr.prototype.delete=function(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r},Fr.prototype.get=function(e){return this.__data__.get(e)},Fr.prototype.has=function(e){return this.__data__.has(e)},Fr.prototype.set=function(e,t){var r=this.__data__;if(r instanceof lr){var a=r.__data__;if(!dr||a.length<199)return a.push([e,t]),this.size=++r.size,this;r=this.__data__=new hr(a)}return r.set(e,t),this.size=r.size,this};var zr="object"==typeof e&&e&&!e.nodeType&&e,Rr=zr&&"object"==typeof module&&module&&!module.nodeType&&module,Dr=Rr&&Rr.exports===zr?ue.Buffer:void 0,Tr=Dr?Dr.allocUnsafe:void 0;function Nr(e,t){for(var r=-1,a=null==e?0:e.length,i=0,s=[];++r<a;){var o=e[r];t(o,r,e)&&(s[i++]=o)}return s}function Ir(){return[]}var Lr=Object.prototype.propertyIsEnumerable,Ur=Object.getOwnPropertySymbols,qr=Ur?function(e){return null==e?[]:(e=Object(e),Nr(Ur(e),(function(t){return Lr.call(e,t)})))}:Ir;var Vr=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)_r(t,qr(e)),e=Sr(e);return t}:Ir;function Mr(e,t,r){var a=t(e);return xe(e)?a:_r(a,r(e))}function Hr(e){return Mr(e,Kt,qr)}function Qr(e){return Mr(e,Zt,Vr)}var Br=Ke(ue,"DataView"),Gr=Ke(ue,"Promise"),Kr=Ke(ue,"Set"),Jr=Ue(Br),Wr=Ue(dr),Zr=Ue(Gr),Yr=Ue(Kr),Xr=Ue(Je),ea=be;(Br&&"[object DataView]"!=ea(new Br(new ArrayBuffer(1)))||dr&&"[object Map]"!=ea(new dr)||Gr&&"[object Promise]"!=ea(Gr.resolve())||Kr&&"[object Set]"!=ea(new Kr)||Je&&"[object WeakMap]"!=ea(new Je))&&(ea=function(e){var t=be(e),r="[object Object]"==t?e.constructor:void 0,a=r?Ue(r):"";if(a)switch(a){case Jr:return"[object DataView]";case Wr:return"[object Map]";case Zr:return"[object Promise]";case Yr:return"[object Set]";case Xr:return"[object WeakMap]"}return t});var ta=ea,ra=Object.prototype.hasOwnProperty;var aa=ue.Uint8Array;function ia(e){var t=new e.constructor(e.byteLength);return new aa(t).set(new aa(e)),t}var sa=/\w*$/;var oa=he?he.prototype:void 0,na=oa?oa.valueOf:void 0;function ca(e,t,r){var a,i,s,o=e.constructor;switch(t){case"[object ArrayBuffer]":return ia(e);case"[object Boolean]":case"[object Date]":return new o(+e);case"[object DataView]":return function(e,t){var r=t?ia(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.byteLength)}(e,r);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return function(e,t){var r=t?ia(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)}(e,r);case"[object Map]":return new o;case"[object Number]":case"[object String]":return new o(e);case"[object RegExp]":return(s=new(i=e).constructor(i.source,sa.exec(i))).lastIndex=i.lastIndex,s;case"[object Set]":return new o;case"[object Symbol]":return a=e,na?Object(na.call(a)):{}}}var la=Lt&&Lt.isMap,da=la?Dt(la):function(e){return _e(e)&&"[object Map]"==ta(e)};var ua=Lt&&Lt.isSet,ha=ua?Dt(ua):function(e){return _e(e)&&"[object Set]"==ta(e)},pa={};function ma(e,t,r,a,i,s){var o,n=1&t,c=2&t,l=4&t;if(r&&(o=i?r(e,a,i,s):r(e)),void 0!==o)return o;if(!je(e))return e;var d=xe(e);if(d){if(o=function(e){var t=e.length,r=new e.constructor(t);return t&&"string"==typeof e[0]&&ra.call(e,"index")&&(r.index=e.index,r.input=e.input),r}(e),!n)return Xe(e,o)}else{var u=ta(e),h="[object Function]"==u||"[object GeneratorFunction]"==u;if(zt(e))return function(e,t){if(t)return e.slice();var r=e.length,a=Tr?Tr(r):new e.constructor(r);return e.copy(a),a}(e,n);if("[object Object]"==u||"[object Arguments]"==u||h&&!i){if(o=c||h?{}:function(e){return"function"!=typeof e.constructor||Pt(e)?{}:Ze(Sr(e))}(e),!n)return c?function(e,t){return vt(e,Vr(e),t)}(e,function(e,t){return e&&vt(t,Zt(t),e)}(o,e)):function(e,t){return vt(e,qr(e),t)}(e,function(e,t){return e&&vt(t,Kt(t),e)}(o,e))}else{if(!pa[u])return i?e:{};o=ca(e,u,n)}}s||(s=new Fr);var p=s.get(e);if(p)return p;s.set(e,o),ha(e)?e.forEach((function(a){o.add(ma(a,t,r,a,e,s))})):da(e)&&e.forEach((function(a,i){o.set(i,ma(a,t,r,i,e,s))}));var m=l?c?Qr:Hr:c?keysIn:Kt,f=d?void 0:m(e);return ot(f||e,(function(a,i){f&&(a=e[i=a]),ft(o,i,ma(a,t,r,i,e,s))})),o}pa["[object Arguments]"]=pa["[object Array]"]=pa["[object ArrayBuffer]"]=pa["[object DataView]"]=pa["[object Boolean]"]=pa["[object Date]"]=pa["[object Float32Array]"]=pa["[object Float64Array]"]=pa["[object Int8Array]"]=pa["[object Int16Array]"]=pa["[object Int32Array]"]=pa["[object Map]"]=pa["[object Number]"]=pa["[object Object]"]=pa["[object RegExp]"]=pa["[object Set]"]=pa["[object String]"]=pa["[object Symbol]"]=pa["[object Uint8Array]"]=pa["[object Uint8ClampedArray]"]=pa["[object Uint16Array]"]=pa["[object Uint32Array]"]=!0,pa["[object Error]"]=pa["[object Function]"]=pa["[object WeakMap]"]=!1;function fa(e){var t=-1,r=null==e?0:e.length;for(this.__data__=new hr;++t<r;)this.add(e[t])}function va(e,t){for(var r=-1,a=null==e?0:e.length;++r<a;)if(t(e[r],r,e))return!0;return!1}function ga(e,t){return e.has(t)}fa.prototype.add=fa.prototype.push=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this},fa.prototype.has=function(e){return this.__data__.has(e)};function ya(e,t,r,a,i,s){var o=1&r,n=e.length,c=t.length;if(n!=c&&!(o&&c>n))return!1;var l=s.get(e);if(l&&s.get(t))return l==t;var d=-1,u=!0,h=2&r?new fa:void 0;for(s.set(e,t),s.set(t,e);++d<n;){var p=e[d],m=t[d];if(a)var f=o?a(m,p,d,t,e,s):a(p,m,d,e,t,s);if(void 0!==f){if(f)continue;u=!1;break}if(h){if(!va(t,(function(e,t){if(!ga(h,t)&&(p===e||i(p,e,r,a,s)))return h.push(t)}))){u=!1;break}}else if(p!==m&&!i(p,m,r,a,s)){u=!1;break}}return s.delete(e),s.delete(t),u}function ba(e){var t=-1,r=Array(e.size);return e.forEach((function(e,a){r[++t]=[a,e]})),r}function _a(e){var t=-1,r=Array(e.size);return e.forEach((function(e){r[++t]=e})),r}var wa=he?he.prototype:void 0,ka=wa?wa.valueOf:void 0;var xa=Object.prototype.hasOwnProperty;var Pa=Object.prototype.hasOwnProperty;function Ea(e,t,r,a,i,s){var o=xe(e),n=xe(t),c=o?"[object Array]":ta(e),l=n?"[object Array]":ta(t),d="[object Object]"==(c="[object Arguments]"==c?"[object Object]":c),u="[object Object]"==(l="[object Arguments]"==l?"[object Object]":l),h=c==l;if(h&&zt(e)){if(!zt(t))return!1;o=!0,d=!1}if(h&&!d)return s||(s=new Fr),o||qt(e)?ya(e,t,r,a,i,s):function(e,t,r,a,i,s,o){switch(r){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!s(new aa(e),new aa(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return pt(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var n=ba;case"[object Set]":var c=1&a;if(n||(n=_a),e.size!=t.size&&!c)return!1;var l=o.get(e);if(l)return l==t;a|=2,o.set(e,t);var d=ya(n(e),n(t),a,i,s,o);return o.delete(e),d;case"[object Symbol]":if(ka)return ka.call(e)==ka.call(t)}return!1}(e,t,c,r,a,i,s);if(!(1&r)){var p=d&&Pa.call(e,"__wrapped__"),m=u&&Pa.call(t,"__wrapped__");if(p||m){var f=p?e.value():e,v=m?t.value():t;return s||(s=new Fr),i(f,v,r,a,s)}}return!!h&&(s||(s=new Fr),function(e,t,r,a,i,s){var o=1&r,n=Hr(e),c=n.length;if(c!=Hr(t).length&&!o)return!1;for(var l=c;l--;){var d=n[l];if(!(o?d in t:xa.call(t,d)))return!1}var u=s.get(e);if(u&&s.get(t))return u==t;var h=!0;s.set(e,t),s.set(t,e);for(var p=o;++l<c;){var m=e[d=n[l]],f=t[d];if(a)var v=o?a(f,m,d,t,e,s):a(m,f,d,e,t,s);if(!(void 0===v?m===f||i(m,f,r,a,s):v)){h=!1;break}p||(p="constructor"==d)}if(h&&!p){var g=e.constructor,y=t.constructor;g==y||!("constructor"in e)||!("constructor"in t)||"function"==typeof g&&g instanceof g&&"function"==typeof y&&y instanceof y||(h=!1)}return s.delete(e),s.delete(t),h}(e,t,r,a,i,s))}function Sa(e,t,r,a,i){return e===t||(null==e||null==t||!_e(e)&&!_e(t)?e!=e&&t!=t:Ea(e,t,r,a,Sa,i))}function ja(e){return e==e&&!je(e)}function $a(e,t){return function(r){return null!=r&&(r[e]===t&&(void 0!==t||e in Object(r)))}}function Oa(e){var t=function(e){for(var t=Kt(e),r=t.length;r--;){var a=t[r],i=e[a];t[r]=[a,i,ja(i)]}return t}(e);return 1==t.length&&t[0][2]?$a(t[0][0],t[0][1]):function(r){return r===e||function(e,t,r,a){var i=r.length,s=i,o=!a;if(null==e)return!s;for(e=Object(e);i--;){var n=r[i];if(o&&n[2]?n[1]!==e[n[0]]:!(n[0]in e))return!1}for(;++i<s;){var c=(n=r[i])[0],l=e[c],d=n[1];if(o&&n[2]){if(void 0===l&&!(c in e))return!1}else{var u=new Fr;if(a)var h=a(l,d,c,e,t,u);if(!(void 0===h?Sa(d,l,3,a,u):h))return!1}}return!0}(r,e,t)}}function Aa(e,t){return null!=e&&t in Object(e)}function Ca(e,t,r){for(var a=-1,i=(t=gr(t,e)).length,s=!1;++a<i;){var o=yr(t[a]);if(!(s=null!=e&&r(e,o)))break;e=e[o]}return s||++a!=i?s:!!(i=null==e?0:e.length)&&_t(i)&&ut(o,i)&&(xe(e)||Ot(e))}function Fa(e,t){return null!=e&&Ca(e,t,Aa)}function za(e,t){return rr(e)&&ja(t)?$a(yr(e),t):function(r){var a=function(e,t,r){var a=null==e?void 0:br(e,t);return void 0===a?r:a}(r,e);return void 0===a&&a===t?Fa(r,e):Sa(t,a,3)}}function Ra(e){return rr(e)?(t=yr(e),function(e){return null==e?void 0:e[t]}):function(e){return function(t){return br(t,e)}}(e);var t}function Da(e){return"function"==typeof e?e:null==e?Re:"object"==typeof e?xe(e)?za(e[0],e[1]):Oa(e):Ra(e)}var Ta,Na=function(e,t,r){for(var a=-1,i=Object(e),s=r(e),o=s.length;o--;){var n=s[Ta?o:++a];if(!1===t(i[n],n,i))break}return e};function Ia(e,t){return e&&Na(e,t,Kt)}var La=function(e,t){return function(r,a){if(null==r)return r;if(!wt(r))return e(r,a);for(var i=r.length,s=t?i:-1,o=Object(r);(t?s--:++s<i)&&!1!==a(o[s],s,o););return r}}(Ia);function Ua(e,t){var r;return(xe(e)?ot:La)(e,"function"==typeof(r=t)?r:Re)}function qa(e,t){var r=[];return La(e,(function(e,a,i){t(e,a,i)&&r.push(e)})),r}function Va(e,t){return(xe(e)?Nr:qa)(e,Da(t))}var Ma=Math.max;var Ha,Qa=(Ha=function(e,t,r){var a=null==e?0:e.length;if(!a)return-1;var i,s,o=null==r?0:(i=ze(r),s=i%1,i==i?s?i-s:i:0);return o<0&&(o=Ma(a+o,0)),nt(e,Da(t),o)},function(e,t,r){var a=Object(e);if(!wt(e)){var i=Da(t);e=Kt(e),t=function(e){return i(a[e],e,a)}}var s=Ha(e,t,r);return s>-1?a[i?e[s]:s]:void 0});function Ba(e,t){var r=-1,a=wt(e)?Array(e.length):[];return La(e,(function(e,i,s){a[++r]=t(e,i,s)})),a}var Ga=Object.prototype.hasOwnProperty;function Ka(e,t){return null!=e&&Ga.call(e,t)}function Ja(e,t){return null!=e&&Ca(e,t,Ka)}function Wa(e){return null==e?[]:function(e,t){return ke(t,(function(t){return e[t]}))}(e,Kt(e))}function Za(e,t){return t.length<2?e:br(e,function(e,t,r){var a=-1,i=e.length;t<0&&(t=-t>i?0:i+t),(r=r>i?i:r)<0&&(r+=i),i=t>r?0:r-t>>>0,t>>>=0;for(var s=Array(i);++a<i;)s[a]=e[a+t];return s}(t,0,-1))}var Ya=Object.prototype.hasOwnProperty;function Xa(e){return void 0===e}function ei(e,t){var r={};return t=Da(t),Ia(e,(function(e,a,i){ht(r,a,t(e,a,i))})),r}function ti(e,t){return null==(e=Za(e,t=gr(t,e)))||delete e[yr((r=t,a=null==r?0:r.length,a?r[a-1]:void 0))];var r,a}function ri(e){return function(e){if(!_e(e)||"[object Object]"!=be(e))return!1;var t=Sr(e);if(null===t)return!0;var r=Ar.call(t,"constructor")&&t.constructor;return"function"==typeof r&&r instanceof r&&Or.call(r)==Cr}(e)?void 0:e}var ai=Er((function(e,t){var r={};if(null==e)return r;var a=!1;t=ke(t,(function(t){return t=gr(t,e),a||(a=t.length>1),t})),vt(e,Qr(e),r),a&&(r=ma(r,7,ri));for(var i=t.length;i--;)ti(r,t[i]);return r}));function ii(e,t,r,a){if(!je(e))return e;for(var i=-1,s=(t=gr(t,e)).length,o=s-1,n=e;null!=n&&++i<s;){var c=yr(t[i]),l=r;if(i!=o){var d=n[c];void 0===(l=a?a(d,c,n):void 0)&&(l=je(d)?d:ut(t[i+1])?[]:{})}ft(n,c,l),n=n[c]}return e}function si(e,t,r){for(var a=-1,i=t.length,s={};++a<i;){var o=t[a],n=br(e,o);r(n,o)&&ii(s,gr(o,e),n)}return s}function oi(e,t){return function(e,t){if(null==e)return{};var r=ke(Qr(e),(function(e){return[e]}));return t=Da(t),si(e,r,(function(e,r){return t(e,r[0])}))}(e,function(e){if("function"!=typeof e)throw new TypeError("Expected a function");return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}(Da(t)))}function ni(e,t){if(e!==t){var r=void 0!==e,a=null===e,i=e==e,s=we(e),o=void 0!==t,n=null===t,c=t==t,l=we(t);if(!n&&!l&&!s&&e>t||s&&o&&c&&!n&&!l||a&&o&&c||!r&&c||!i)return 1;if(!a&&!s&&!l&&e<t||l&&r&&i&&!a&&!s||n&&r&&i||!o&&i||!c)return-1}return 0}function ci(e,t,r){var a=-1;return t=ke(t.length?t:[Re],Dt(Da)),function(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}(Ba(e,(function(e,r,i){return{criteria:ke(t,(function(t){return t(e)})),index:++a,value:e}})),(function(e,t){return function(e,t,r){for(var a=-1,i=e.criteria,s=t.criteria,o=i.length,n=r.length;++a<o;){var c=ni(i[a],s[a]);if(c)return a>=n?c:c*("desc"==r[a]?-1:1)}return e.index-t.index}(e,t,r)}))}var li=Er((function(e,t){return null==e?{}:function(e,t){return si(e,t,(function(t,r){return Fa(e,r)}))}(e,t)}));function di(e,t,r,a){for(var i=r-1,s=e.length;++i<s;)if(a(e[i],t))return i;return-1}var ui=Array.prototype.splice;var hi=bt((function(e,t){return e&&e.length&&t&&t.length?function(e,t,r,a){var i=a?di:lt,s=-1,o=t.length,n=e;for(e===t&&(t=Xe(t)),r&&(n=ke(e,Dt(r)));++s<o;)for(var c=0,l=t[s],d=r?r(l):l;(c=i(n,d,c,a))>-1;)n!==e&&ui.call(n,c,1),ui.call(e,c,1);return e}(e,t):e})),pi=bt((function(e,t){if(null==e)return[];var r=t.length;return r>1&&kt(e,t[0],t[1])?t=[]:r>2&&kt(t[0],t[1],t[2])&&(t=[t[0]]),ci(e,xr(t,1),[])})),mi={add:"hinzufgen",cancel:"abbrechen",next:"weiter",save:"speichern",delete:"lschen"},fi={no_group_selected:"Whle zuerst eine Gruppe aus",no_entity_selected:"Whle zuerst eine Entity aus",no_groups_defined:"Es gibt keine Gruppe",no_entities_for_group:"Es gibt keine Entities in dieser Gruppe",no_actions_for_entity:"Es gibt keine Aktionen fr diese Entity",no_entries_defined:"Es gibt keine Eintrge"},vi={group:"Gruppe",entity:"Entity",action:"Aktion",days:"Tage",time:"Zeit",options:"Optionen",day_type_daily:"jeden Tag",day_type_weekdays:"Werktags",day_type_custom:"benutzerdefiniert",shift_with_sun:"Zeit automatisch an Sonnenauf- bzw. Sonnenuntergang anpassen",brightness:"Helligkeit",temperature:"Temperatur",position:"Position"},gi={mon:"Mo",tue:"Di",wed:"Mi",thu:"Do",fri:"Fr",sat:"Sa",sun:"So"},yi={mon:"Montag",tue:"Dienstag",wed:"Mittwoch",thu:"Donnerstag",fri:"Freitag",sat:"Samstag",sun:"Sonntag"},bi={on:"An",every:"jeden",and:"und",at:"um",before:"vor",after:"nach",sunrise:"Sonnenaufgang",sunset:"Sonnenuntergang"},_i={turn_on:"anschalten",turn_off:"ausschalten",close_cover:"schlieen",open_cover:"ffnen",set_temperature:"Temperatur einstellen",set_to:"setzen auf",set_position:"Position setzen"},wi={climate:"Heizung",cover:"Beschattung",fan:"Lfter",light:"Licht",switch:"Schalter",vacuum:"Staubsauger"},ki={scheduler:"Zeitplaner",actions:mi,instructions:fi,fields:vi,days_short:gi,days_long:yi,words:bi,services:_i,domains:wi},xi=Object.freeze({__proto__:null,scheduler:"Zeitplaner",actions:mi,instructions:fi,fields:vi,days_short:gi,days_long:yi,words:bi,services:_i,domains:wi,default:ki}),Pi={add:"add item",cancel:"cancel",next:"next",save:"save",delete:"delete"},Ei={no_group_selected:"Select a group first",no_entity_selected:"Select an entity first",no_groups_defined:"There are no groups defined",no_entities_for_group:"There are no entities in this group",no_actions_for_entity:"There are no actions for this entity",no_entries_defined:"There are no items to show"},Si={group:"Group",entity:"Entity",action:"Action",days:"Days",time:"Time",options:"Options",day_type_daily:"every day",day_type_weekdays:"weekdays",day_type_custom:"custom",shift_with_sun:"automatically adjust time to sunrise/sunset",brightness:"Brightness",temperature:"Temperature",position:"Position"},ji={mon:"mon",tue:"tue",wed:"wed",thu:"thu",fri:"fri",sat:"sat",sun:"sun"},$i={mon:"monday",tue:"tuesday",wed:"wednesday",thu:"thursday",fri:"friday",sat:"saturday",sun:"sunday"},Oi={on:"on",every:"every",and:"and",at:"at",before:"before",after:"after",sunrise:"sunrise",sunset:"sunset"},Ai={turn_on:"turn on",turn_off:"turn off",close_cover:"close",open_cover:"open",set_temperature:"set temperature",set_to:"set to",set_position:"set position"},Ci={climate:"climate",cover:"covers",fan:"fans",light:"lights",switch:"switches",vacuum:"vacuum"},Fi={scheduler:"Scheduler",actions:Pi,instructions:Ei,fields:Si,days_short:ji,days_long:$i,words:Oi,services:Ai,domains:Ci},zi=Object.freeze({__proto__:null,scheduler:"Scheduler",actions:Pi,instructions:Ei,fields:Si,days_short:ji,days_long:$i,words:Oi,services:Ai,domains:Ci,default:Fi}),Ri={add:"Agregar",cancel:"cancelar",next:"siguiente",save:"guardar",delete:"borrar"},Di={no_group_selected:"Selecciona un grupo primero",no_entity_selected:"Selecciona una entidad primero",no_groups_defined:"No hay grupos definidos",no_entities_for_group:"No hay entidades en este grupo",no_actions_for_entity:"No hay acciones para esta entidad",no_entries_defined:"No hay dispositivos definidos"},Ti={group:"Grupo",entity:"Entidad",action:"Accin",days:"Das",time:"Hora",options:"Opciones",day_type_daily:"cada da",day_type_weekdays:"dias semanales",day_type_custom:"personalizado",shift_with_sun:"ajusta automaticamente la hora al amanecer/atardecer",brightness:"Brillo",temperature:"Temperatura",position:"Posicin"},Ni={mon:"lun",tue:"mar",wed:"mie",thu:"jue",fri:"vie",sat:"sab",sun:"dom"},Ii={mon:"lunes",tue:"martes",wed:"mircoles",thu:"jueves",fri:"viernes",sat:"sbado",sun:"domingo"},Li={on:"el",every:"cada",and:"y",at:"a las",before:"antes",after:"despus",sunrise:"amanecer",sunset:"atardecer"},Ui={turn_on:"encender",turn_off:"apagar",close_cover:"cerrar",open_cover:"abrir",set_temperature:"establecer temperatura",set_to:"establecer a",set_position:"posicin de ajuste"},qi={climate:"climatizacin",cover:"persiana",fan:"ventilador",light:"luces",switch:"interruptores",vacuum:"aspirador"},Vi={scheduler:"Programador",actions:Ri,instructions:Di,fields:Ti,days_short:Ni,days_long:Ii,words:Li,services:Ui,domains:qi},Mi=Object.freeze({__proto__:null,scheduler:"Programador",actions:Ri,instructions:Di,fields:Ti,days_short:Ni,days_long:Ii,words:Li,services:Ui,domains:qi,default:Vi}),Hi={add:"lisa ajastus",cancel:"loobu",next:"jrgmine",save:"salvesta",delete:"kustuta"},Qi={no_group_selected:"Vali grupp",no_entity_selected:"Vali olem",no_groups_defined:"Gruppe pole mratud",no_entities_for_group:"Antud grupis puuduvad olemid",no_actions_for_entity:"Selles olemis puuduvad tegevused",no_entries_defined:"Pole midagi kuvada"},Bi={group:"Grupp",entity:"Olem",action:"Tegevus",days:"Pev",time:"Aeg",options:"Suvandid",day_type_daily:"iga pev",day_type_weekdays:"ndalapev",day_type_custom:"seadistatud",shift_with_sun:"mrake automaatselt Pikese tus/loojang",brightness:"Heledus",temperature:"Temperatuur",position:"Asukoht"},Gi={mon:"E",tue:"T",wed:"K",thu:"N",fri:"R",sat:"L",sun:"P"},Ki={mon:"Esmaspev",tue:"Teisipev",wed:"Kolmapev",thu:"Neljapev",fri:"Reede",sat:"Laupev",sun:"Phapev"},Ji={on:"sisse",every:"iga",and:"ja",at:"ajal",before:"enne",after:"prast",sunrise:"pikesetus",sunset:"loojang"},Wi={turn_on:"llita sisse",turn_off:"llita vlja",close_cover:"sulge",open_cover:"ava",set_temperature:"mra temperatuur",set_to:"seadista vrtusele",set_position:"seadista asendisse"},Zi={climate:"kliimaseade",cover:"(akna)katted",fan:"ventilaatorid",light:"tuled",switch:"llitid",vacuum:"tolmuimejad"},Yi={scheduler:"Ajastaja",actions:Hi,instructions:Qi,fields:Bi,days_short:Gi,days_long:Ki,words:Ji,services:Wi,domains:Zi},Xi=Object.freeze({__proto__:null,scheduler:"Ajastaja",actions:Hi,instructions:Qi,fields:Bi,days_short:Gi,days_long:Ki,words:Ji,services:Wi,domains:Zi,default:Yi}),es={add:"ajouter un item",cancel:"annuler",next:"suivant",save:"sauvegarder",delete:"effacer"},ts={no_group_selected:"Slectionner un groupe en premier",no_entity_selected:"Slectionner une entit en premier",no_groups_defined:"Il n'y a pas de groupe dfini",no_entities_for_group:"Il n'y a pas d'entit dans ce groupe",no_actions_for_entity:"Il n'y a pas d'action pour cette entit",no_entries_defined:"Il n'y a pas d'item  afficher"},rs={group:"Groupe",entity:"Entit",action:"Action",days:"Jours",time:"Temps",options:"Options",day_type_daily:"chaque jour",day_type_weekdays:"en semaine",day_type_custom:"sur mesure",shift_with_sun:"ajuster automatiquement l'heure au lever/coucher du soleil",brightness:"Luminosit",temperature:"Temprature",position:"Position"},as={mon:"lun",tue:"mar",wed:"mer",thu:"jeu",fri:"ven",sat:"sam",sun:"dim"},is={mon:"lundi",tue:"mardi",wed:"mercredi",thu:"jeudi",fri:"vendredi",sat:"samedi",sun:"dimanche"},ss={on:"marche",every:"tout",and:"et",at:"",before:"avant",after:"aprs",sunrise:"lever du soleil",sunset:"coucher du soleil"},os={turn_on:"allumer",turn_off:"teindre",close_cover:"fermer",open_cover:"ouvrir",set_temperature:"rgler la temprature",set_to:"dfini ",set_position:"position dfinie"},ns={climate:"climat",cover:"contrleur",fan:"ventilateur",light:"lumire",switch:"interrupteurs",vacuum:"aspirateur"},cs={scheduler:"Planificateur",actions:es,instructions:ts,fields:rs,days_short:as,days_long:is,words:ss,services:os,domains:ns},ls=Object.freeze({__proto__:null,scheduler:"Planificateur",actions:es,instructions:ts,fields:rs,days_short:as,days_long:is,words:ss,services:os,domains:ns,default:cs}),ds={add:"j idzts",cancel:"mgse",next:"tovbb",save:"trls",delete:"delete"},us={no_group_selected:"Elbb egy csoportot szksges vlasztani",no_entity_selected:"Elbb egy entitst szksges vlasztani",no_groups_defined:"Nincsenek deffinilt csoportok",no_entities_for_group:"Ebben a csoportban nem tallhatk entitsok",no_actions_for_entity:"Ehhez az entitshoz nem tartoznak mveletek",no_entries_defined:"Nincs megjelenthet elem"},hs={group:"Csoport",entity:"Entits",action:"Mvelet",days:"Napokon",time:"Idpontban",options:"Opcik",day_type_daily:"minden nap",day_type_weekdays:"munkanapokon",day_type_custom:"egyedi",shift_with_sun:"Az id automatikus igaztsa napkelthez/naplementhez",brightness:"Fnyer",temperature:"Hmrsklet",position:"Pozcit"},ps={mon:"ht",tue:"ked",wed:"sze",thu:"cs",fri:"pn",sat:"szo",sun:"vas"},ms={mon:"htf",tue:"kedd",wed:"szerda",thu:"cstrtk",fri:"pntek",sat:"szombat",sun:"vasrnap"},fs={on:"on",every:"minden",and:"s",at:"at",before:"eltt",after:"utn",sunrise:"napkelte",sunset:"naplemente"},vs={turn_on:"bekapcsols",turn_off:"kikapcsols",close_cover:"zrs",open_cover:"nyits",set_temperature:"hmrsklet",set_to:"belltva",set_position:"vltoztass pozcit"},gs={climate:"termosztt",cover:"redny",fan:"ventiltor",light:"lmpa",switch:"kapcsol",vacuum:"prszv"},ys={scheduler:"Idztsek",actions:ds,instructions:us,fields:hs,days_short:ps,days_long:ms,words:fs,services:vs,domains:gs},bs=Object.freeze({__proto__:null,scheduler:"Idztsek",actions:ds,instructions:us,fields:hs,days_short:ps,days_long:ms,words:fs,services:vs,domains:gs,default:ys}),_s={add:"Nieuw item",cancel:"annuleren",next:"verder",save:"opslaan",delete:"verwijder"},ws={no_group_selected:"Selecteer eerst een groep",no_entity_selected:"Selecteer eerst een entiteit",no_groups_defined:"Er zijn geen groepen gedefinieerd",no_entities_for_group:"Deze groep heeft geen entiteiten",no_actions_for_entity:"Deze entiteit heeft geen acties",no_entries_defined:"Er zijn geen items aangemaakt"},ks={group:"Groep",entity:"Entiteit",action:"Actie",days:"Dagen",time:"Tijdstip",options:"Opties",day_type_daily:"Dagelijks",day_type_weekdays:"werkdagen",day_type_custom:"Anders",shift_with_sun:"Automatisch aanpassen aan zonsopgang/zonsondergang",brightness:"Helderheid",temperature:"Temperatuur",position:"Positie"},xs={mon:"ma",tue:"di",wed:"wo",thu:"do",fri:"vr",sat:"za",sun:"zo"},Ps={mon:"maandag",tue:"dinsdag",wed:"woensdag",thu:"donderdag",fri:"vrijdag",sat:"zaterdag",sun:"zondag"},Es={on:"op",every:"elke",and:"en",at:"om",before:"voor",after:"na",sunrise:"zonsopgang",sunset:"zonsondergang"},Ss={turn_on:"aanzetten",turn_off:"uitzetten",close_cover:"sluiten",open_cover:"openen",set_temperature:"temperatuur instellen",set_to:"Zet op",set_position:"positie instellen"},js={climate:"verwarming",cover:"zonwering",fan:"ventilatie",light:"verlichting",switch:"schakelaars",vacuum:"stofzuiger"},$s={scheduler:"Tijdplanner",actions:_s,instructions:ws,fields:ks,days_short:xs,days_long:Ps,words:Es,services:Ss,domains:js},Os=Object.freeze({__proto__:null,scheduler:"Tijdplanner",actions:_s,instructions:ws,fields:ks,days_short:xs,days_long:Ps,words:Es,services:Ss,domains:js,default:$s}),As={add:"legg til",cancel:"avbryt",next:"neste",save:"lagre",delete:"slett"},Cs={no_group_selected:"Velg en gruppe frst",no_entity_selected:"Velg en entitet frst",no_groups_defined:"Ingen grupper definert",no_entities_for_group:"Det finnes ingen entiteter i denne gruppen",no_actions_for_entity:"Det finnes ingen handlinger for denne entiteten",no_entries_defined:"Det er ingen definerte tidsplaner  vise"},Fs={group:"Gruppe",entity:"Entitet",action:"Handling",days:"Dager",time:"Tid",options:"Valg",day_type_daily:"hver dag",day_type_weekdays:"ukedager",day_type_custom:"egendefinert",shift_with_sun:"automatisk juster tid for soloppgang/solnedgang",brightness:"Lysstyrke",temperature:"Temperatur",position:"Posisjon"},zs={mon:"man",tue:"tir",wed:"ons",thu:"tor",fri:"fre",sat:"lr",sun:"sn"},Rs={mon:"mandag",tue:"tirsdag",wed:"onsdag",thu:"torsdag",fri:"fredag",sat:"lrdag",sun:"sndag"},Ds={on:"den",every:"hver",and:"og",at:"p",before:"fr",after:"etter",sunrise:"soloppgang",sunset:"solnedgang"},Ts={turn_on:"sl p",turn_off:"sl av",close_cover:"lukk",open_cover:"pne",set_temperature:"sett temperatur",set_to:"sett til",set_position:"sett posisjon"},Ns={climate:"klima",cover:"cover",fan:"vifter",light:"lys",switch:"brytere",vacuum:"stvsugere"},Is={scheduler:"Tidsplan",actions:As,instructions:Cs,fields:Fs,days_short:zs,days_long:Rs,words:Ds,services:Ts,domains:Ns},Ls=Object.freeze({__proto__:null,scheduler:"Tidsplan",actions:As,instructions:Cs,fields:Fs,days_short:zs,days_long:Rs,words:Ds,services:Ts,domains:Ns,default:Is}),Us={add:"dodaj",cancel:"anuluj",next:"dalej",save:"zapisz",delete:"usu"},qs={no_group_selected:"Najpierw wybierz grup",no_entity_selected:"Najpierw wybierz encj",no_groups_defined:"Nie ma zdefiniowanych grup",no_entities_for_group:"Nie ma encji w tej grupie",no_actions_for_entity:"Nie ma akcji dla tej encji",no_entries_defined:"Nie ma elementw do pokazania"},Vs={group:"Grupa",entity:"Encja",action:"Akcja",days:"Dni",time:"Czas",options:"Opcje",day_type_daily:"codziennie",day_type_weekdays:"dni tygodnia",day_type_custom:"niestandardowy",shift_with_sun:"automatycznie dopasuj czas do wschodw/zachodw",brightness:"Jasno",temperature:"Temperatura",position:"Pozycj"},Ms={mon:"pon",tue:"wt",wed:"r",thu:"czw",fri:"pt",sat:"sob",sun:"niedz"},Hs={mon:"poniedziaek",tue:"wtorek",wed:"roda",thu:"czwartek",fri:"pitek",sat:"sobota",sun:"niedziela"},Qs={on:"w",every:"kady",and:"oraz",at:"o",before:"przed",after:"po",sunrise:"wschd",sunset:"zachodw"},Bs={turn_on:"wcz",turn_off:"wycz",close_cover:"zamknij",open_cover:"otwrz",set_temperature:"Ustaw temperatur",set_to:"ustaw na",set_position:"Ustaw pozycj"},Gs={climate:"termostat",cover:"roleta",fan:"wiatrak",light:"wiato",switch:"wcznik",vacuum:"odkurzacz"},Ks={scheduler:"Harmonogram",actions:Us,instructions:qs,fields:Vs,days_short:Ms,days_long:Hs,words:Qs,services:Bs,domains:Gs},Js=Object.freeze({__proto__:null,scheduler:"Harmonogram",actions:Us,instructions:qs,fields:Vs,days_short:Ms,days_long:Hs,words:Qs,services:Bs,domains:Gs,default:Ks}),Ws={add:"adicionar item",cancel:"cancelar",next:"prximo",save:"gravar",delete:"apagar"},Zs={no_group_selected:"Selecione um grupo primeiro",no_entity_selected:"Selecione uma entidade primeiro",no_groups_defined:"No tem grupo definido",no_entities_for_group:"No tem entidade no grupo",no_actions_for_entity:"No h aes para esta entidade",no_entries_defined:"No tem item pra mostar"},Ys={group:"Grupo",entity:"Entidade",action:"Ao",days:"Dias",time:"Hora",options:"Opes",day_type_daily:"todos os dias",day_type_weekdays:"dias da semana",day_type_custom:"personalizado",shift_with_sun:"automaticamente ajusta hora pelo nascer do sol/pr do sol",brightness:"Brilho",temperature:"Temperatura",position:"Posio"},Xs={mon:"seg",tue:"ter",wed:"qua",thu:"qui",fri:"sex",sat:"sab",sun:"dom"},eo={mon:"segunda",tue:"tera",wed:"quarta",thu:"quinta",fri:"sexta",sat:"sabdo",sun:"domingo"},to={on:"on",every:"cada",and:"e",at:"s",before:"antes",after:"depois",sunrise:"nascer do sol",sunset:"pr do sol"},ro={turn_on:"ligar",turn_off:"desligar",close_cover:"fechar",open_cover:"abrir",set_temperature:"ajustar temperatura",set_to:"ajustar para",set_position:"ajustar posio"},ao={climate:"ar condicionado",cover:"persiana",fan:"ventilador",light:"luz",switch:"interruptor",vacuum:"aspirador"},io={scheduler:"Agenda",actions:Ws,instructions:Zs,fields:Ys,days_short:Xs,days_long:eo,words:to,services:ro,domains:ao},so=Object.freeze({__proto__:null,scheduler:"Agenda",actions:Ws,instructions:Zs,fields:Ys,days_short:Xs,days_long:eo,words:to,services:ro,domains:ao,default:io}),oo={add:"",cancel:"",next:"",save:"",delete:""},no={no_group_selected:"  ",no_entity_selected:"  ",no_groups_defined:"    ",no_entities_for_group:"    ",no_actions_for_entity:"    ",no_entries_defined:" "},co={group:"",entity:"",action:"",days:"",time:"",options:"",day_type_daily:"",day_type_weekdays:" ",day_type_custom:" ",shift_with_sun:"     / ",brightness:"",temperature:"",position:""},lo={mon:"",tue:"",wed:"",thu:"",fri:"",sat:"",sun:""},uo={mon:"",tue:"",wed:"",thu:"",fri:"",sat:"",sun:""},ho={on:"",every:"",and:"",at:"",before:"",after:"",sunrise:"",sunset:""},po={turn_on:"",turn_off:"",close_cover:"",open_cover:"",set_temperature:" ",set_to:"",set_position:" "},mo={climate:"",cover:"",fan:"",light:"",switch:"",vacuum:""},fo={scheduler:"",actions:oo,instructions:no,fields:co,days_short:lo,days_long:uo,words:ho,services:po,domains:mo},vo={de:xi,en:zi,es:Mi,et:Xi,es_419:Mi,fr:ls,hu:bs,nb:Ls,nl:Os,nn:Ls,no:Ls,pl:Js,pt:so,pt_BR:so,ru:Object.freeze({__proto__:null,scheduler:"",actions:oo,instructions:no,fields:co,days_short:lo,days_long:uo,words:ho,services:po,domains:mo,default:fo})};function go(e,t="",r=""){const a=yo();var i;try{i=e.split(".").reduce((e,t)=>e[t],vo[a])}catch(t){i=e.split(".").reduce((e,t)=>e[t],vo.en)}return void 0===i&&(i=e.split(".").reduce((e,t)=>e[t],vo.en)),""!==t&&""!==r&&(i=i.replace(t,r)),i}function yo(){var e;let t=null===(e=localStorage.getItem("selectedLanguage"))||void 0===e?void 0:e.replace(/['"]+/g,"").replace("-","_");if(!t||"null"==t){const e=document.querySelector("home-assistant").hass;t=e.selectedLanguage||e.language||"en"}return String(t)}function bo(e,t){let r=e>=0?Math.floor(e/60):Math.ceil(e/60),a=e-60*r;return a%t!=0&&(a=Math.round(a/t)*t),a>=60&&(r++,a-=60),r>=24&&(r-=24),60*r+a}function _o(e,t={}){let r=!!t.amPm&&t.amPm,a=!!t.absolute&&t.absolute,i=e>=0?Math.floor(e/60):Math.ceil(e/60),s=e-60*i,o="";r&&(o=i>=12?"PM":"AM",(i>12||12==i&&s>0)&&(i-=12));let n=String(Math.abs(i)).padStart(2,"0"),c=String(Math.abs(s)).padStart(2,"0"),l=i<0||s<0;return{hours:n,minutes:c,time:`${l&&!a?"-":""}${n}:${c}${r?" "+o:""}`,signed:l,amPm:o}}function wo(e,t={}){let r=t.stepSize?t.stepSize:1,a=!!t.signed&&t.signed,i=t.max?t.max:1440,s=bo(e,r);return s<0&&!a?e+=1440:s>=1440&&(e-=1440),s<-i?-i:s>i?i:e}function ko(e){let t,r,a;if(null!==(a=/^([0-9]{2}):([0-9]{2})$/.exec(e)))[t,r]=[Number(a[1]),Number(a[2])];else if(null!==(a=/^([0-9]{2})([0-9]{2})$/.exec(e)))[t,r]=[Number(a[1]),Number(a[2])];else{if(null!==(a=/^[0-9]{4}-[0-9]{2}-[0-9]{2}T[0-9]{2}:[0-9]{2}:[0-9]{2}[\+|\-][0-9]{2}:[0-9]{2}$/.exec(e))){let e=new Date(a[0]);return ko(`${String(e.getHours()).padStart(2,"0")}:${String(e.getMinutes()).padStart(2,"0")}`)}console.log(`failed to parse timestamp '${e}'`)}return 60*t+r}function xo(e){return"weekdays"==e.daysType?[1,2,3,4,5]:"custom"==e.daysType?e.daysCustom.sort().filter(e=>0!=e):[]}const Po={light:{actions:[{service:"turn_on",icon:"lightbulb-on-outline",variable:{field:"brightness"}},{service:"turn_off",icon:"lightbulb-off-outline"}]},switch:{actions:[{service:"turn_on"},{service:"turn_off"}]},cover:{actions:[{service:"open_cover",name:go("services.open_cover")},{service:"close_cover",name:go("services.close_cover")},{service:"set_cover_position",name:go("services.set_position"),variable:{field:"position"}}]},climate:{actions:[{service:"set_temperature",variable:{field:"temperature"},icon:"thermometer"},{service:"turn_off",icon:"thermometer-off"}]},fan:{actions:[{service:"turn_on",icon:"fan"},{service:"turn_off",icon:"fan-off"}]}};function Eo(e){var t={automation:"robot",camera:"camera",climate:"home-thermometer-outline",cover:"window-shutter",fan:"fan",input_number:"sort-numeric-variant",input_select:"form-select",input_text:"form-textbox",input_time:"clock",light:"lightbulb-outline",media_player:"speaker",script:"script-text",switch:"flash",vacuum:"robot-vacuum"};return e in t?t[e]:"folder-outline"}function So(e){let t=null;return"climate"==e?t=go("domains.climate"):"cover"==e?t=go("domains.cover"):"fan"==e?t=go("domains.fan"):"light"==e?t=go("domains.light"):"switch"==e?t=go("domains.switch"):"vacuum"==e&&(t=go("domains.vacuum")),t||e}function jo(e){const t={brightness:{name:go("fields.brightness"),unit:"",min:0,max:255,step:1,optional:!0,show_percentage:!0},temperature:{name:go("fields.temperature"),unit:"C",min:10,max:30,step:1,optional:!1,show_percentage:!1},position:{name:go("fields.position"),unit:"%",min:0,max:100,step:1,optional:!1,show_percentage:!1},default:{name:e,unit:"",min:0,max:255,step:1,optional:!1,show_percentage:!1}};return void 0!==t[e]?Object.assign({},t[e]):Object.assign({},t.default)}const $o={id:"create_routine",service:"create_routine",name:"create routine",icon:"hass:cog-refresh-outline",routine:!1},Oo=[{startTime:ko("00:00"),endTime:ko("08:00")},{startTime:ko("08:00"),endTime:ko("16:00")},{startTime:ko("16:00"),endTime:1440}];"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self&&self;function Ao(e,t,r){return e(r={path:t,exports:{},require:function(e,t){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}(null==t&&r.path)}},r.exports),r.exports}var Co=Ao((function(e,t){var r;r=function(){var e=JSON.parse('{"$":"dollar","%":"percent","&":"and","<":"less",">":"greater","|":"or","":"cent","":"pound","":"currency","":"yen","":"(c)","":"a","":"(r)","":"o","":"A","":"A","":"A","":"A","":"A","":"A","":"AE","":"C","":"E","":"E","":"E","":"E","":"I","":"I","":"I","":"I","":"D","":"N","":"O","":"O","":"O","":"O","":"O","":"O","":"U","":"U","":"U","":"U","":"Y","":"TH","":"ss","":"a","":"a","":"a","":"a","":"a","":"a","":"ae","":"c","":"e","":"e","":"e","":"e","":"i","":"i","":"i","":"i","":"d","":"n","":"o","":"o","":"o","":"o","":"o","":"o","":"u","":"u","":"u","":"u","":"y","":"th","":"y","":"A","":"a","":"A","":"a","":"A","":"a","":"C","":"c","":"C","":"c","":"D","":"d","":"DJ","":"dj","":"E","":"e","":"E","":"e","":"e","":"e","":"E","":"e","":"G","":"g","":"G","":"g","":"I","":"i","":"i","":"i","":"I","":"i","":"I","":"i","":"k","":"k","":"L","":"l","":"L","":"l","":"L","":"l","":"N","":"n","":"N","":"n","":"N","":"n","":"O","":"o","":"O","":"o","":"OE","":"oe","":"R","":"r","":"R","":"r","":"S","":"s","":"S","":"s","":"S","":"s","":"T","":"t","":"T","":"t","":"U","":"u","":"u","":"u","":"U","":"u","":"U","":"u","":"U","":"u","":"W","":"w","":"Y","":"y","":"Y","":"Z","":"z","":"Z","":"z","":"Z","":"z","":"f","":"O","":"o","":"U","":"u","":"LJ","":"lj","":"NJ","":"nj","":"S","":"s","":"T","":"t","":"o","":"A","":"E","":"H","":"I","":"O","":"Y","":"W","":"i","":"A","":"B","":"G","":"D","":"E","":"Z","":"H","":"8","":"I","":"K","":"L","":"M","":"N","":"3","":"O","":"P","":"R","":"S","":"T","":"Y","":"F","":"X","":"PS","":"W","":"I","":"Y","":"a","":"e","":"h","":"i","":"y","":"a","":"b","":"g","":"d","":"e","":"z","":"h","":"8","":"i","":"k","":"l","":"m","":"n","":"3","":"o","":"p","":"r","":"s","":"s","":"t","":"y","":"f","":"x","":"ps","":"w","":"i","":"y","":"o","":"y","":"w","":"Yo","":"DJ","":"Ye","":"I","":"Yi","":"J","":"LJ","":"NJ","":"C","":"DZ","":"A","":"B","":"V","":"G","":"D","":"E","":"Zh","":"Z","":"I","":"J","":"K","":"L","":"M","":"N","":"O","":"P","":"R","":"S","":"T","":"U","":"F","":"H","":"C","":"Ch","":"Sh","":"Sh","":"U","":"Y","":"","":"E","":"Yu","":"Ya","":"a","":"b","":"v","":"g","":"d","":"e","":"zh","":"z","":"i","":"j","":"k","":"l","":"m","":"n","":"o","":"p","":"r","":"s","":"t","":"u","":"f","":"h","":"c","":"ch","":"sh","":"sh","":"u","":"y","":"","":"e","":"yu","":"ya","":"yo","":"dj","":"ye","":"i","":"yi","":"j","":"lj","":"nj","":"c","":"u","":"dz","":"G","":"g","":"GH","":"gh","":"KH","":"kh","":"NG","":"ng","":"UE","":"ue","":"U","":"u","":"H","":"h","":"AE","":"ae","":"OE","":"oe","":"baht","":"a","":"b","":"g","":"d","":"e","":"v","":"z","":"t","":"i","":"k","":"l","":"m","":"n","":"o","":"p","":"zh","":"r","":"s","":"t","":"u","":"f","":"k","":"gh","":"q","":"sh","":"ch","":"ts","":"dz","":"ts","":"ch","":"kh","":"j","":"h","":"W","":"w","":"W","":"w","":"W","":"w","":"SS","":"A","":"a","":"A","":"a","":"A","":"a","":"A","":"a","":"A","":"a","":"A","":"a","":"A","":"a","":"A","":"a","":"A","":"a","":"A","":"a","":"A","":"a","":"A","":"a","":"E","":"e","":"E","":"e","":"E","":"e","":"E","":"e","":"E","":"e","":"E","":"e","":"E","":"e","":"E","":"e","":"I","":"i","":"I","":"i","":"O","":"o","":"O","":"o","":"O","":"o","":"O","":"o","":"O","":"o","":"O","":"o","":"O","":"o","":"O","":"o","":"O","":"o","":"O","":"o","":"O","":"o","":"O","":"o","":"U","":"u","":"U","":"u","":"U","":"u","":"U","":"u","":"U","":"u","":"U","":"u","":"U","":"u","":"Y","":"y","":"Y","":"y","":"Y","":"y","":"Y","":"y","":"\'","":"\'","":"\\"","":"\\"","":"+","":"*","":"...","":"ecu","":"cruzeiro","":"french franc","":"lira","":"mill","":"naira","":"peseta","":"rupee","":"won","":"new shequel","":"dong","":"euro","":"kip","":"tugrik","":"drachma","":"penny","":"peso","":"guarani","":"austral","":"hryvnia","":"cedi","":"kazakhstani tenge","":"indian rupee","":"turkish lira","":"russian ruble","":"bitcoin","":"sm","":"tm","":"d","":"delta","":"sum","":"infinity","":"love","":"yuan","":"yen","":"rial"}'),t=JSON.parse('{"de":{"":"AE","":"ae","":"OE","":"oe","":"UE","":"ue"},"vi":{"":"D","":"d"}}');function r(r,a){if("string"!=typeof r)throw new Error("slugify: string argument expected");var i=t[(a="string"==typeof a?{replacement:a}:a||{}).locale]||{},s=void 0===a.replacement?"-":a.replacement,o=r.split("").reduce((function(t,r){return t+(i[r]||e[r]||r).replace(a.remove||/[^\w\s$*_+~.()'"!\-:@]+/g,"")}),"").trim().replace(new RegExp("[\\s"+s+"]+","g"),s);return a.lower&&(o=o.toLowerCase()),a.strict&&(o=o.replace(new RegExp("[^a-zA-Z0-9"+s+"]","g"),"").replace(new RegExp("[\\s"+s+"]+","g"),s)),o}return r.extend=function(t){for(var r in t)e[r]=t[r]},r},e.exports=r(),e.exports.default=r()}));const Fo=/^D([0-7]+)T([0-9SR\-\+]+)([A0-9+]+)$/,zo=/^(A([0-9]+))+$/,Ro=/^([0-9]{4})?(S[SR])([0-9]{4})?$/;function Do(e,t){let r=[],a=[];return e.forEach(e=>{var i;let s=t.FindAction(e.entity,e.action),o={entity:e.entity,service:To(s.service)?s.service:`${To(e.entity)}.${s.service}`};if(s.hasOwnProperty("service_data")&&Object.assign(o,{service_data:s.service_data}),e.levelEnabled){let t=String(null===(i=s.variable)||void 0===i?void 0:i.field),r=Number(e.level),a=o.hasOwnProperty("service_data")?o.service_data:{};Object.assign(a,{[t]:r}),Object.assign(o,{service_data:a})}let n=a.findIndex(e=>Sa(e,o));n<0&&(n=a.push(o)-1);let c={actions:[n]};e.time.event?Object.assign(c,{event:e.time.event,offset:_o(e.time.value).time}):Object.assign(c,{time:_o(e.time.value).time}),e.days.length&&Object.assign(c,{days:e.days}),r.push(c)}),{actions:a,entries:r}}function To(e){if(-1===e.indexOf("."))return"";return String(e.split(".").shift())}function No(e){let t=Kt(e);t=t.sort();let r={};return t.forEach(t=>r[t]=e[t]),Co(JSON.stringify(Wa(r)).replace(/\W/g," "),"_")}function Io(e){return e.match(/^switch.schedule_[0-9a-f]{6}$/)}function Lo(e){return!e||!e.length||1==e.length&&0==e[0]?"daily":5!=e.length||e.includes(6)||e.includes(7)?"custom":"weekdays"}function Uo(e){if("daily"==Lo(e))return go("fields.day_type_daily");if("weekdays"==Lo(e))return`${go("words.on")} ${go("fields.day_type_weekdays")}`;{let r=Array();e.includes(1)&&r.push(go("days_long.mon")),e.includes(2)&&r.push(go("days_long.tue")),e.includes(3)&&r.push(go("days_long.wed")),e.includes(4)&&r.push(go("days_long.thu")),e.includes(5)&&r.push(go("days_long.fri")),e.includes(6)&&r.push(go("days_long.sat")),e.includes(7)&&r.push(go("days_long.sun"));let a=r.join(", ");var t=a.lastIndexOf(", ");return t&&(a=a.slice(0,t)+a.slice(t).replace(", ",` ${go("words.and")} `)),`${go("words.every")} ${a}`}}function qo(e,t){let r=!!t.amPm&&t.amPm;if(!e.event)return`${go("words.at")} ${_o(e.value,{amPm:r}).time}`;let a="unknown";if("sunrise"==e.event&&null!==t.sunrise){a=_o(wo(Number(t.sunrise)+e.value),{amPm:r}).time}else if("sunset"==e.event&&null!==t.sunset){a=_o(wo(Number(t.sunset)+e.value),{amPm:r}).time}return 0==Math.abs(e.value)?`${go("words.at")} ${go("words."+e.event)} (${a})`:`${_o(e.value,{absolute:!0}).time} ${_o(e.value).signed?go("words.before"):go("words.after")} ${go("words."+e.event)} (${a})`}function Vo(e){return"string"!=typeof e&&(e=String(e)),Qo(e.replace(/_/g," "))}function Mo(e){return"string"!=typeof e&&(e=String(e)),e.match(/^[a-z]+:[a-z0-9-]+$/i)?e:"hass:"+e}function Ho(e,t){let r=Vo(e.action);if(e.hasOwnProperty("level")){let a=t.variable,i=Number(e.level),s=a.hasOwnProperty("unit")?a.unit:"";a.show_percentage&&(i=Math.round((i-a.min)/(a.max-a.min)*100),i<a.min?i=a.min:i>a.max&&(i=a.max),s="%"),r=`${go("services.set_to")} ${i}${s}`}return Qo(r)}function Qo(e){return e.charAt(0).toUpperCase()+e.slice(1)}function Bo(e){let t=e.map(e=>{let t={startTime:e.time.value,endTime:e.time.value,action:e.action};return e.hasOwnProperty("level")&&Object.assign(t,{level:e.level}),e.hasOwnProperty("levelEnabled")&&Object.assign(t,{levelEnabled:e.levelEnabled}),t});t.find(e=>0==e.startTime)||t.push({startTime:0,endTime:0}),t.sort((e,t)=>e.startTime>t.startTime?1:e.startTime<t.startTime?-1:0);let r,a=1440;for(r=t.length-1;r>=0;r--)t[r].endTime=a,a=t[r].startTime;return t}class Go{constructor(){this.entities=[],this.groups=[],this.userConfig={groups:{},domains:{},entities:{},discover_existing:!0,standard_configuration:!0}}setUserConfig(e){Object.assign(this.userConfig,li(e,["entities","groups","discover_existing","standard_configuration"])),this.userConfig.standard_configuration&&Object.assign(this.userConfig,{domains:Po}),e.domains&&Ua(e.domains,(e,t)=>{let r=Object.assign({},this.userConfig.domains);Object.assign(r,{[t]:e}),this.userConfig.domains=r}),this.userConfig.groups&&Ua(e.groups,this.AddGroup.bind(this))}AddGroup(e,t){if(this.FindGroup(t))return;let r=Object.assign({id:t,icon:"folder-outline",domains:[],entities:[],name:So(t)},oi(Object.assign({},e),Xa));this.groups.push(r)}FindGroup(e){let t=Qa(this.groups,{id:e});return t||null}AddEntityToGroup(e){let t=To(e),r=Qa(this.groups,r=>r.domains.includes(t)||r.entities.includes(e));if(!r)if(r=this.FindGroup(t),r){let a=[...r.entities];a.push(e),this.groups.forEach((e,r)=>{e.id==t&&(this.groups[r].entities=a)})}else this.AddGroup({icon:Eo(t),entities:[e]},t)}GetGroups(){let e=[...this.groups];return e=pi(e,"name"),e}AddEntity(e,t){if(this.FindEntity(t))return;let r=Object.assign({id:t,name:t.split(".").pop(),icon:Eo(To(t))},oi(Object.assign({},e),Xa));this.entities.push(r),this.AddEntityToGroup(t)}FindEntity(e){let t=Qa(this.entities,{id:e});return t||null}GetEntitiesForGroup(e){let t=[...this.entities];if(e){let r=this.FindGroup(e);if(!r)return[];t=t.filter(e=>{let t=To(e.id);return(null==r?void 0:r.entities.includes(e.id))||(null==r?void 0:r.domains.includes(t))})}return t=pi(t,"name"),t}AddActionToEntity(e,t){if(!this.FindEntity(e))throw Error(`Entity '${e}' must be created before actions can be assigned`);if(this.FindAction(e,t.id))return;if(this.GetActionsForEntity(e).find(e=>!!e.hasOwnProperty("variable")&&!(!t.hasOwnProperty("service_data")||!t.service_data.hasOwnProperty(e.variable.field))))return;let r=[...this.GetActionsForEntity(e)];r.push(t),this.entities.forEach((t,a)=>{t.id==e&&(this.entities[a].actions=r)})}CreateAction(e){let t={id:No(li(e,["service","service_data"])),name:(a=e.service,"turn_on"==a?go("services.turn_on"):"turn_off"==a?go("services.turn_off"):"open_cover"==a?go("services.open_cover"):"close_cover"==a?go("services.close_cover"):"set_temperature"==a?go("services.set_temperature"):"set_cover_position"==a?go("services.set_position"):-1!==a.indexOf(".")?a.split(".").pop():a),icon:(r=e.service,"turn_on"==r?"toggle-switch-outline":"turn_off"==r?"toggle-switch-off-outline":"open_cover"==r?"window-shutter-open":"close_cover"==r?"window-shutter":"set_temperature"==r?"thermometer":"set_cover_position"==r?"window-shutter":"flash"),service:e.service,routine:!1};var r,a;return Ja(e,"service_data")&&!function(e){if(null==e)return!0;if(wt(e)&&(xe(e)||"string"==typeof e||"function"==typeof e.splice||zt(e)||qt(e)||Ot(e)))return!e.length;var t=ta(e);if("[object Map]"==t||"[object Set]"==t)return!e.size;if(Pt(e))return!Gt(e).length;for(var r in e)if(Ya.call(e,r))return!1;return!0}(e)&&Object.assign(t,li(e,"service_data")),Ja(e,"icon")&&Object.assign(t,li(e,"icon")),Ja(e,"name")&&Object.assign(t,li(e,"name")),Ja(e,"variable")&&Object.assign(t,{variable:Object.assign(jo(e.variable.field),e.variable)}),Ja(e,"routine")&&Object.assign(t,li(e,"routine")),t}FindAction(e,t){let r=this.GetActionsForEntity(e),a=Qa(r,{id:t});return a||null}GetActionsForEntity(e){let t=this.FindEntity(e);if(!t)return[];let r=[...t.actions];return r.filter(e=>e.routine).length&&!Qa(r,{id:$o.id})&&r.push(Object.assign({},$o)),r=pi(r,"name"),r}LoadEntities(e){if(Ua(e,t=>{let r=t.entity_id,a=To(r);if(!Io(r)&&(a in this.userConfig.domains||r in this.userConfig.entities)){let i=[],s={actions:[],name:e[r].attributes.friendly_name,icon:e[r].attributes.icon},o=!1;if(a in this.userConfig.domains&&(Ja(this.userConfig.domains[a],"include")&&!this.userConfig.domains[a].include.includes(r)&&(o=!0),Ja(this.userConfig.domains[a],"exclude")&&this.userConfig.domains[a].exclude.includes(r)&&(o=!0),Object.assign(s,ai(this.userConfig.domains[a],"actions")),Ja(this.userConfig.domains[a],"actions")&&!o)){let e=ei(this.userConfig.domains[a].actions,e=>{if(To((e=Object.assign({},e)).service)==a&&(e=Object.assign(e,{service:e.service.split(".").pop()})),"light"==a&&t.attributes.hasOwnProperty("supported_features")){!(1&t.attributes.supported_features)&&e.variable&&delete e.variable}else if("cover"==a&&t.attributes.hasOwnProperty("supported_features")){if(!(4&t.attributes.supported_features)&&e.variable)return null}return this.CreateAction(e)});e=Va(e,e=>e),Ua(e,e=>i.push(e))}if(r in this.userConfig.entities){if(Object.assign(s,ai(this.userConfig.entities[r],"actions")),Ja(this.userConfig.entities[r],"actions")){let e=ei(this.userConfig.entities[r].actions,e=>{if(To((e=Object.assign({},e)).service)==a&&(e=Object.assign(e,{service:e.service.split(".").pop()})),"light"==a&&t.attributes.hasOwnProperty("supported_features")){!(1&t.attributes.supported_features)&&e.variable&&delete e.variable}else if("cover"==a&&t.attributes.hasOwnProperty("supported_features")){if(!(4&t.attributes.supported_features)&&e.variable)return null}return this.CreateAction(e)});e=Va(e,e=>e),Ua(e,e=>i.push(e))}o=!1}if(o)return;this.AddEntity(s,r),Ua(i,e=>this.AddActionToEntity(r,e))}}),this.userConfig.discover_existing){let a=Va(e,e=>Io(e.entity_id));r=e=>e.attributes.actions,a=(xe(t=a)?ke:Ba)(t,Da(r)),a=Pr(a),Ua(a,t=>{let r=Object.assign({},t),a=r.entity,i=r.service,s=ai(r,["entity","service"]);To(a)||(a=To(i)+"."+a,i=i.split(".").pop());let o=this.CreateAction({service:i,service_data:s});if(!this.FindEntity(a)){if(!e[a])return;let t={actions:[],name:e[a].attributes.friendly_name,icon:e[a].attributes.icon};this.AddEntity(t,a)}this.AddActionToEntity(a,o)})}var t,r}}const Ko=oe`
      /* list view */

      div.list-item {
        display: grid;
        grid-template-columns: min-content 1fr min-content;
        grid-template-rows: min-content min-content min-content min-content;
        grid-template-areas: "icon name switch"
                             "icon action switch"
                             "icon days switch"
                             "icon time switch";
        grid-gap: 2px 20px;
        background: none;
        cursor: pointer;
        padding: 10px 20px;
        position: relative;
        z-index: 1;
      }

      div.list-item:before  {
        content: " ";
        background: var(--list-item-background-color);
        opacity: 0.1;
        position: absolute;
        left: 0px;
        top: 0px;
        width: 100%;
        height: 100%;
        z-index: -1;
       }

      div.list-item:hover:before {
          background: var(--primary-color);
          border-radius: 4px;
      }

      div.list-item-icon {
        grid-area: icon;
        color: var(--state-icon-color);
      }

      div.list-item-icon ha-icon {
        width: 24px;
        height: 24px;
      }

      div.list-item-icon.enabled {
        color: var(--state-icon-active-color);
      }

      div.list-item-switch {
        grid-area: switch;
      }

      div.list-item-switch ha-switch {
        margin-top: 3px;
      }

      div.list-item-name {
        grid-area: name;
        font-weight: 500;
        color: var(--primary-text-color);
      }

      div.list-item-action {
        grid-area: action;
        color: var(--secondary-text-color);
      }

      div.list-item-days {
        grid-area: days;
        color: var(--secondary-text-color);
      }

      div.list-item-time {
        grid-area: time;
        color: var(--secondary-text-color);
      }

      div.disabled div.list-item-icon, div.disabled div.list-item-name, div.disabled div.list-item-action, div.disabled div.list-item-days, div.disabled div.list-item-time {
        color: var(--disabled-text-color);
      }

      /* add/edit view */
   
      div.header {
        color: var(--secondary-text-color);
        text-transform: uppercase;
        font-size: 12px;
        font-weight: 500;
        margin: 0px 0px 0px 0px;
      }

      div.card-section {
        padding: 10px 10px;
      }

      div.card-section.first {
        padding-top: 0px;
      }
      
      div.card-section.last {
        padding-bottom: 10px;
      }

      div.text-field {
        color: var(--disabled-text-color);
      }

      div.summary {
        display: grid;
        grid-template-columns: 1fr max-content 1fr;
        grid-template-areas: "entity arrow action";
        grid-auto-flow: column;
        grid-gap: 5px;
      }

      div.summary-entity { grid-area: entity; }
      div.summary-action { grid-area: action; }
      div.summary-text { grid-area: text; }
      div.summary-icon { grid-area: icon; }
      div.summary-arrow {
        grid-area: arrow;
        color: var(--secondary-text-color);
        display: flex;
        justify-content:center;
        align-items:center;
      }

      div.summary-entity, div.summary-action {
        color: var(--dark-primary-color);
        padding: 10px;
        font-size: 14px;
        font-weight: 500;
        --mdc-icon-size: 20px;
        position: relative;
        display: flex;
        justify-content:center;
        align-items:center;
        display: grid;
        grid-template-columns: min-content 1fr;
        grid-template-areas: "icon text";
        grid-auto-flow: column;
        grid-gap: 10px;
      }

       div.summary-entity:before, div.summary-action:before  {
        content: " ";
        background: var(--primary-color);
        opacity: 0.15;
        border-radius: 4px;
        position: absolute;
        left: 0px;
        top: 0px;
        width: 100%;
        height: 100%;
        z-index: 1;
       }

       div.summary-text::first-letter {
        text-transform: uppercase;
       }

      div#day-list-custom.closed {
        display: none;
      }
      
      div#day-list-custom {
        overflow: hidden;
        max-height: 100px; /* approximate max height */
        transition-property: all;
        transition-duration: 1s;
        transition-timing-function: cubic-bezier(0, 1, 0.5, 1);
      }

      mwc-button {
        margin: 2px 0px;
      }

      mwc-button.active {
        background: var(--primary-color);
        --mdc-theme-primary: var(--text-primary-color);
        border-radius: 4px;
      }
      
      div.option-item {
        padding: 2px 5px;
        display: flex;
        align-items: center;
      }
      
      .padded-right {
        margin-right: 11px;
      }
`;var Jo=Ao((function(e,t){
/** @license URI.js v4.4.0 (c) 2011 Gary Court. License: http://github.com/garycourt/uri-js */
!function(e){function t(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];if(t.length>1){t[0]=t[0].slice(0,-1);for(var a=t.length-1,i=1;i<a;++i)t[i]=t[i].slice(1,-1);return t[a]=t[a].slice(1),t.join("")}return t[0]}function r(e){return"(?:"+e+")"}function a(e){return void 0===e?"undefined":null===e?"null":Object.prototype.toString.call(e).split(" ").pop().split("]").shift().toLowerCase()}function i(e){return e.toUpperCase()}function s(e){var a=t("[0-9]","[A-Fa-f]"),i=r(r("%[EFef]"+a+"%"+a+a+"%"+a+a)+"|"+r("%[89A-Fa-f]"+a+"%"+a+a)+"|"+r("%"+a+a)),s="[\\!\\$\\&\\'\\(\\)\\*\\+\\,\\;\\=]",o=t("[\\:\\/\\?\\#\\[\\]\\@]",s),n=e?"[\\uE000-\\uF8FF]":"[]",c=t("[A-Za-z]","[0-9]","[\\-\\.\\_\\~]",e?"[\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]":"[]"),l=(r("[A-Za-z]"+t("[A-Za-z]","[0-9]","[\\+\\-\\.]")+"*"),r(r(i+"|"+t(c,s,"[\\:]"))+"*"),r(r("25[0-5]")+"|"+r("2[0-4][0-9]")+"|"+r("1[0-9][0-9]")+"|"+r("0?[1-9][0-9]")+"|0?0?[0-9]")),d=r(l+"\\."+l+"\\."+l+"\\."+l),u=r(a+"{1,4}"),h=r(r(u+"\\:"+u)+"|"+d),p=r(r(u+"\\:")+"{6}"+h),m=r("\\:\\:"+r(u+"\\:")+"{5}"+h),f=r(r(u)+"?\\:\\:"+r(u+"\\:")+"{4}"+h),v=r(r(r(u+"\\:")+"{0,1}"+u)+"?\\:\\:"+r(u+"\\:")+"{3}"+h),g=r(r(r(u+"\\:")+"{0,2}"+u)+"?\\:\\:"+r(u+"\\:")+"{2}"+h),y=r(r(r(u+"\\:")+"{0,3}"+u)+"?\\:\\:"+u+"\\:"+h),b=r(r(r(u+"\\:")+"{0,4}"+u)+"?\\:\\:"+h),_=r(r(r(u+"\\:")+"{0,5}"+u)+"?\\:\\:"+u),w=r(r(r(u+"\\:")+"{0,6}"+u)+"?\\:\\:"),k=r([p,m,f,v,g,y,b,_,w].join("|")),x=r(r(c+"|"+i)+"+"),P=(r("[vV]"+a+"+\\."+t(c,s,"[\\:]")+"+"),r(r(i+"|"+t(c,s))+"*"),r(i+"|"+t(c,s,"[\\:\\@]")));return r(r(i+"|"+t(c,s,"[\\@]"))+"+"),r(r(P+"|"+t("[\\/\\?]",n))+"*"),{NOT_SCHEME:new RegExp(t("[^]","[A-Za-z]","[0-9]","[\\+\\-\\.]"),"g"),NOT_USERINFO:new RegExp(t("[^\\%\\:]",c,s),"g"),NOT_HOST:new RegExp(t("[^\\%\\[\\]\\:]",c,s),"g"),NOT_PATH:new RegExp(t("[^\\%\\/\\:\\@]",c,s),"g"),NOT_PATH_NOSCHEME:new RegExp(t("[^\\%\\/\\@]",c,s),"g"),NOT_QUERY:new RegExp(t("[^\\%]",c,s,"[\\:\\@\\/\\?]",n),"g"),NOT_FRAGMENT:new RegExp(t("[^\\%]",c,s,"[\\:\\@\\/\\?]"),"g"),ESCAPE:new RegExp(t("[^]",c,s),"g"),UNRESERVED:new RegExp(c,"g"),OTHER_CHARS:new RegExp(t("[^\\%]",c,o),"g"),PCT_ENCODED:new RegExp(i,"g"),IPV4ADDRESS:new RegExp("^("+d+")$"),IPV6ADDRESS:new RegExp("^\\[?("+k+")"+r(r("\\%25|\\%(?!"+a+"{2})")+"("+x+")")+"?\\]?$")}}var o=s(!1),n=s(!0),c=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],a=!0,i=!1,s=void 0;try{for(var o,n=e[Symbol.iterator]();!(a=(o=n.next()).done)&&(r.push(o.value),!t||r.length!==t);a=!0);}catch(e){i=!0,s=e}finally{try{!a&&n.return&&n.return()}finally{if(i)throw s}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},l=2147483647,d=/^xn--/,u=/[^\0-\x7E]/,h=/[\x2E\u3002\uFF0E\uFF61]/g,p={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},m=Math.floor,f=String.fromCharCode;function v(e){throw new RangeError(p[e])}function g(e,t){var r=e.split("@"),a="";r.length>1&&(a=r[0]+"@",e=r[1]);var i=function(e,t){for(var r=[],a=e.length;a--;)r[a]=t(e[a]);return r}((e=e.replace(h,".")).split("."),t).join(".");return a+i}function y(e){for(var t=[],r=0,a=e.length;r<a;){var i=e.charCodeAt(r++);if(i>=55296&&i<=56319&&r<a){var s=e.charCodeAt(r++);56320==(64512&s)?t.push(((1023&i)<<10)+(1023&s)+65536):(t.push(i),r--)}else t.push(i)}return t}var b=function(e,t){return e+22+75*(e<26)-((0!=t)<<5)},_=function(e,t,r){var a=0;for(e=r?m(e/700):e>>1,e+=m(e/t);e>455;a+=36)e=m(e/35);return m(a+36*e/(e+38))},w=function(e){var t,r=[],a=e.length,i=0,s=128,o=72,n=e.lastIndexOf("-");n<0&&(n=0);for(var c=0;c<n;++c)e.charCodeAt(c)>=128&&v("not-basic"),r.push(e.charCodeAt(c));for(var d=n>0?n+1:0;d<a;){for(var u=i,h=1,p=36;;p+=36){d>=a&&v("invalid-input");var f=(t=e.charCodeAt(d++))-48<10?t-22:t-65<26?t-65:t-97<26?t-97:36;(f>=36||f>m((l-i)/h))&&v("overflow"),i+=f*h;var g=p<=o?1:p>=o+26?26:p-o;if(f<g)break;var y=36-g;h>m(l/y)&&v("overflow"),h*=y}var b=r.length+1;o=_(i-u,b,0==u),m(i/b)>l-s&&v("overflow"),s+=m(i/b),i%=b,r.splice(i++,0,s)}return String.fromCodePoint.apply(String,r)},k=function(e){var t=[],r=(e=y(e)).length,a=128,i=0,s=72,o=!0,n=!1,c=void 0;try{for(var d,u=e[Symbol.iterator]();!(o=(d=u.next()).done);o=!0){var h=d.value;h<128&&t.push(f(h))}}catch(e){n=!0,c=e}finally{try{!o&&u.return&&u.return()}finally{if(n)throw c}}var p=t.length,g=p;for(p&&t.push("-");g<r;){var w=l,k=!0,x=!1,P=void 0;try{for(var E,S=e[Symbol.iterator]();!(k=(E=S.next()).done);k=!0){var j=E.value;j>=a&&j<w&&(w=j)}}catch(e){x=!0,P=e}finally{try{!k&&S.return&&S.return()}finally{if(x)throw P}}var $=g+1;w-a>m((l-i)/$)&&v("overflow"),i+=(w-a)*$,a=w;var O=!0,A=!1,C=void 0;try{for(var F,z=e[Symbol.iterator]();!(O=(F=z.next()).done);O=!0){var R=F.value;if(R<a&&++i>l&&v("overflow"),R==a){for(var D=i,T=36;;T+=36){var N=T<=s?1:T>=s+26?26:T-s;if(D<N)break;var I=D-N,L=36-N;t.push(f(b(N+I%L,0))),D=m(I/L)}t.push(f(b(D,0))),s=_(i,$,g==p),i=0,++g}}}catch(e){A=!0,C=e}finally{try{!O&&z.return&&z.return()}finally{if(A)throw C}}++i,++a}return t.join("")},x=function(e){return g(e,(function(e){return u.test(e)?"xn--"+k(e):e}))},P=function(e){return g(e,(function(e){return d.test(e)?w(e.slice(4).toLowerCase()):e}))},E={};function S(e){var t=e.charCodeAt(0);return t<16?"%0"+t.toString(16).toUpperCase():t<128?"%"+t.toString(16).toUpperCase():t<2048?"%"+(t>>6|192).toString(16).toUpperCase()+"%"+(63&t|128).toString(16).toUpperCase():"%"+(t>>12|224).toString(16).toUpperCase()+"%"+(t>>6&63|128).toString(16).toUpperCase()+"%"+(63&t|128).toString(16).toUpperCase()}function j(e){for(var t="",r=0,a=e.length;r<a;){var i=parseInt(e.substr(r+1,2),16);if(i<128)t+=String.fromCharCode(i),r+=3;else if(i>=194&&i<224){if(a-r>=6){var s=parseInt(e.substr(r+4,2),16);t+=String.fromCharCode((31&i)<<6|63&s)}else t+=e.substr(r,6);r+=6}else if(i>=224){if(a-r>=9){var o=parseInt(e.substr(r+4,2),16),n=parseInt(e.substr(r+7,2),16);t+=String.fromCharCode((15&i)<<12|(63&o)<<6|63&n)}else t+=e.substr(r,9);r+=9}else t+=e.substr(r,3),r+=3}return t}function $(e,t){function r(e){var r=j(e);return r.match(t.UNRESERVED)?r:e}return e.scheme&&(e.scheme=String(e.scheme).replace(t.PCT_ENCODED,r).toLowerCase().replace(t.NOT_SCHEME,"")),void 0!==e.userinfo&&(e.userinfo=String(e.userinfo).replace(t.PCT_ENCODED,r).replace(t.NOT_USERINFO,S).replace(t.PCT_ENCODED,i)),void 0!==e.host&&(e.host=String(e.host).replace(t.PCT_ENCODED,r).toLowerCase().replace(t.NOT_HOST,S).replace(t.PCT_ENCODED,i)),void 0!==e.path&&(e.path=String(e.path).replace(t.PCT_ENCODED,r).replace(e.scheme?t.NOT_PATH:t.NOT_PATH_NOSCHEME,S).replace(t.PCT_ENCODED,i)),void 0!==e.query&&(e.query=String(e.query).replace(t.PCT_ENCODED,r).replace(t.NOT_QUERY,S).replace(t.PCT_ENCODED,i)),void 0!==e.fragment&&(e.fragment=String(e.fragment).replace(t.PCT_ENCODED,r).replace(t.NOT_FRAGMENT,S).replace(t.PCT_ENCODED,i)),e}function O(e){return e.replace(/^0*(.*)/,"$1")||"0"}function A(e,t){var r=e.match(t.IPV4ADDRESS)||[],a=c(r,2)[1];return a?a.split(".").map(O).join("."):e}function C(e,t){var r=e.match(t.IPV6ADDRESS)||[],a=c(r,3),i=a[1],s=a[2];if(i){for(var o=i.toLowerCase().split("::").reverse(),n=c(o,2),l=n[0],d=n[1],u=d?d.split(":").map(O):[],h=l.split(":").map(O),p=t.IPV4ADDRESS.test(h[h.length-1]),m=p?7:8,f=h.length-m,v=Array(m),g=0;g<m;++g)v[g]=u[g]||h[f+g]||"";p&&(v[m-1]=A(v[m-1],t));var y=v.reduce((function(e,t,r){if(!t||"0"===t){var a=e[e.length-1];a&&a.index+a.length===r?a.length++:e.push({index:r,length:1})}return e}),[]).sort((function(e,t){return t.length-e.length}))[0],b=void 0;if(y&&y.length>1){var _=v.slice(0,y.index),w=v.slice(y.index+y.length);b=_.join(":")+"::"+w.join(":")}else b=v.join(":");return s&&(b+="%"+s),b}return e}var F=/^(?:([^:\/?#]+):)?(?:\/\/((?:([^\/?#@]*)@)?(\[[^\/?#\]]+\]|[^\/?#:]*)(?:\:(\d*))?))?([^?#]*)(?:\?([^#]*))?(?:#((?:.|\n|\r)*))?/i,z=void 0==="".match(/(){0}/)[1];function R(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r={},a=!1!==t.iri?n:o;"suffix"===t.reference&&(e=(t.scheme?t.scheme+":":"")+"//"+e);var i=e.match(F);if(i){z?(r.scheme=i[1],r.userinfo=i[3],r.host=i[4],r.port=parseInt(i[5],10),r.path=i[6]||"",r.query=i[7],r.fragment=i[8],isNaN(r.port)&&(r.port=i[5])):(r.scheme=i[1]||void 0,r.userinfo=-1!==e.indexOf("@")?i[3]:void 0,r.host=-1!==e.indexOf("//")?i[4]:void 0,r.port=parseInt(i[5],10),r.path=i[6]||"",r.query=-1!==e.indexOf("?")?i[7]:void 0,r.fragment=-1!==e.indexOf("#")?i[8]:void 0,isNaN(r.port)&&(r.port=e.match(/\/\/(?:.|\n)*\:(?:\/|\?|\#|$)/)?i[4]:void 0)),r.host&&(r.host=C(A(r.host,a),a)),void 0!==r.scheme||void 0!==r.userinfo||void 0!==r.host||void 0!==r.port||r.path||void 0!==r.query?void 0===r.scheme?r.reference="relative":void 0===r.fragment?r.reference="absolute":r.reference="uri":r.reference="same-document",t.reference&&"suffix"!==t.reference&&t.reference!==r.reference&&(r.error=r.error||"URI is not a "+t.reference+" reference.");var s=E[(t.scheme||r.scheme||"").toLowerCase()];if(t.unicodeSupport||s&&s.unicodeSupport)$(r,a);else{if(r.host&&(t.domainHost||s&&s.domainHost))try{r.host=x(r.host.replace(a.PCT_ENCODED,j).toLowerCase())}catch(e){r.error=r.error||"Host's domain name can not be converted to ASCII via punycode: "+e}$(r,o)}s&&s.parse&&s.parse(r,t)}else r.error=r.error||"URI can not be parsed.";return r}function D(e,t){var r=!1!==t.iri?n:o,a=[];return void 0!==e.userinfo&&(a.push(e.userinfo),a.push("@")),void 0!==e.host&&a.push(C(A(String(e.host),r),r).replace(r.IPV6ADDRESS,(function(e,t,r){return"["+t+(r?"%25"+r:"")+"]"}))),"number"!=typeof e.port&&"string"!=typeof e.port||(a.push(":"),a.push(String(e.port))),a.length?a.join(""):void 0}var T=/^\.\.?\//,N=/^\/\.(\/|$)/,I=/^\/\.\.(\/|$)/,L=/^\/?(?:.|\n)*?(?=\/|$)/;function U(e){for(var t=[];e.length;)if(e.match(T))e=e.replace(T,"");else if(e.match(N))e=e.replace(N,"/");else if(e.match(I))e=e.replace(I,"/"),t.pop();else if("."===e||".."===e)e="";else{var r=e.match(L);if(!r)throw new Error("Unexpected dot segment condition");var a=r[0];e=e.slice(a.length),t.push(a)}return t.join("")}function q(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.iri?n:o,a=[],i=E[(t.scheme||e.scheme||"").toLowerCase()];if(i&&i.serialize&&i.serialize(e,t),e.host)if(r.IPV6ADDRESS.test(e.host));else if(t.domainHost||i&&i.domainHost)try{e.host=t.iri?P(e.host):x(e.host.replace(r.PCT_ENCODED,j).toLowerCase())}catch(r){e.error=e.error||"Host's domain name can not be converted to "+(t.iri?"Unicode":"ASCII")+" via punycode: "+r}$(e,r),"suffix"!==t.reference&&e.scheme&&(a.push(e.scheme),a.push(":"));var s=D(e,t);if(void 0!==s&&("suffix"!==t.reference&&a.push("//"),a.push(s),e.path&&"/"!==e.path.charAt(0)&&a.push("/")),void 0!==e.path){var c=e.path;t.absolutePath||i&&i.absolutePath||(c=U(c)),void 0===s&&(c=c.replace(/^\/\//,"/%2F")),a.push(c)}return void 0!==e.query&&(a.push("?"),a.push(e.query)),void 0!==e.fragment&&(a.push("#"),a.push(e.fragment)),a.join("")}function V(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=arguments[3],i={};return a||(e=R(q(e,r),r),t=R(q(t,r),r)),!(r=r||{}).tolerant&&t.scheme?(i.scheme=t.scheme,i.userinfo=t.userinfo,i.host=t.host,i.port=t.port,i.path=U(t.path||""),i.query=t.query):(void 0!==t.userinfo||void 0!==t.host||void 0!==t.port?(i.userinfo=t.userinfo,i.host=t.host,i.port=t.port,i.path=U(t.path||""),i.query=t.query):(t.path?("/"===t.path.charAt(0)?i.path=U(t.path):(void 0===e.userinfo&&void 0===e.host&&void 0===e.port||e.path?e.path?i.path=e.path.slice(0,e.path.lastIndexOf("/")+1)+t.path:i.path=t.path:i.path="/"+t.path,i.path=U(i.path)),i.query=t.query):(i.path=e.path,void 0!==t.query?i.query=t.query:i.query=e.query),i.userinfo=e.userinfo,i.host=e.host,i.port=e.port),i.scheme=e.scheme),i.fragment=t.fragment,i}function M(e,t){return e&&e.toString().replace(t&&t.iri?n.PCT_ENCODED:o.PCT_ENCODED,j)}var H={scheme:"http",domainHost:!0,parse:function(e,t){return e.host||(e.error=e.error||"HTTP URIs must have a host."),e},serialize:function(e,t){var r="https"===String(e.scheme).toLowerCase();return e.port!==(r?443:80)&&""!==e.port||(e.port=void 0),e.path||(e.path="/"),e}},Q={scheme:"https",domainHost:H.domainHost,parse:H.parse,serialize:H.serialize};function B(e){return"boolean"==typeof e.secure?e.secure:"wss"===String(e.scheme).toLowerCase()}var G={scheme:"ws",domainHost:!0,parse:function(e,t){var r=e;return r.secure=B(r),r.resourceName=(r.path||"/")+(r.query?"?"+r.query:""),r.path=void 0,r.query=void 0,r},serialize:function(e,t){if(e.port!==(B(e)?443:80)&&""!==e.port||(e.port=void 0),"boolean"==typeof e.secure&&(e.scheme=e.secure?"wss":"ws",e.secure=void 0),e.resourceName){var r=e.resourceName.split("?"),a=c(r,2),i=a[0],s=a[1];e.path=i&&"/"!==i?i:void 0,e.query=s,e.resourceName=void 0}return e.fragment=void 0,e}},K={scheme:"wss",domainHost:G.domainHost,parse:G.parse,serialize:G.serialize},J={},W="[A-Za-z0-9\\-\\.\\_\\~\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]",Z="[0-9A-Fa-f]",Y=r(r("%[EFef]"+Z+"%"+Z+Z+"%"+Z+Z)+"|"+r("%[89A-Fa-f]"+Z+"%"+Z+Z)+"|"+r("%"+Z+Z)),X=t("[\\!\\$\\%\\'\\(\\)\\*\\+\\,\\-\\.0-9\\<\\>A-Z\\x5E-\\x7E]",'[\\"\\\\]'),ee=new RegExp(W,"g"),te=new RegExp(Y,"g"),re=new RegExp(t("[^]","[A-Za-z0-9\\!\\$\\%\\'\\*\\+\\-\\^\\_\\`\\{\\|\\}\\~]","[\\.]",'[\\"]',X),"g"),ae=new RegExp(t("[^]",W,"[\\!\\$\\'\\(\\)\\*\\+\\,\\;\\:\\@]"),"g"),ie=ae;function se(e){var t=j(e);return t.match(ee)?t:e}var oe={scheme:"mailto",parse:function(e,t){var r=e,a=r.to=r.path?r.path.split(","):[];if(r.path=void 0,r.query){for(var i=!1,s={},o=r.query.split("&"),n=0,c=o.length;n<c;++n){var l=o[n].split("=");switch(l[0]){case"to":for(var d=l[1].split(","),u=0,h=d.length;u<h;++u)a.push(d[u]);break;case"subject":r.subject=M(l[1],t);break;case"body":r.body=M(l[1],t);break;default:i=!0,s[M(l[0],t)]=M(l[1],t)}}i&&(r.headers=s)}r.query=void 0;for(var p=0,m=a.length;p<m;++p){var f=a[p].split("@");if(f[0]=M(f[0]),t.unicodeSupport)f[1]=M(f[1],t).toLowerCase();else try{f[1]=x(M(f[1],t).toLowerCase())}catch(e){r.error=r.error||"Email address's domain name can not be converted to ASCII via punycode: "+e}a[p]=f.join("@")}return r},serialize:function(e,t){var r,a=e,s=null!=(r=e.to)?r instanceof Array?r:"number"!=typeof r.length||r.split||r.setInterval||r.call?[r]:Array.prototype.slice.call(r):[];if(s){for(var o=0,n=s.length;o<n;++o){var c=String(s[o]),l=c.lastIndexOf("@"),d=c.slice(0,l).replace(te,se).replace(te,i).replace(re,S),u=c.slice(l+1);try{u=t.iri?P(u):x(M(u,t).toLowerCase())}catch(e){a.error=a.error||"Email address's domain name can not be converted to "+(t.iri?"Unicode":"ASCII")+" via punycode: "+e}s[o]=d+"@"+u}a.path=s.join(",")}var h=e.headers=e.headers||{};e.subject&&(h.subject=e.subject),e.body&&(h.body=e.body);var p=[];for(var m in h)h[m]!==J[m]&&p.push(m.replace(te,se).replace(te,i).replace(ae,S)+"="+h[m].replace(te,se).replace(te,i).replace(ie,S));return p.length&&(a.query=p.join("&")),a}},ne=/^([^\:]+)\:(.*)/,ce={scheme:"urn",parse:function(e,t){var r=e.path&&e.path.match(ne),a=e;if(r){var i=t.scheme||a.scheme||"urn",s=r[1].toLowerCase(),o=r[2],n=i+":"+(t.nid||s),c=E[n];a.nid=s,a.nss=o,a.path=void 0,c&&(a=c.parse(a,t))}else a.error=a.error||"URN can not be parsed.";return a},serialize:function(e,t){var r=t.scheme||e.scheme||"urn",a=e.nid,i=r+":"+(t.nid||a),s=E[i];s&&(e=s.serialize(e,t));var o=e,n=e.nss;return o.path=(a||t.nid)+":"+n,o}},le=/^[0-9A-Fa-f]{8}(?:\-[0-9A-Fa-f]{4}){3}\-[0-9A-Fa-f]{12}$/,de={scheme:"urn:uuid",parse:function(e,t){var r=e;return r.uuid=r.nss,r.nss=void 0,t.tolerant||r.uuid&&r.uuid.match(le)||(r.error=r.error||"UUID is not valid."),r},serialize:function(e,t){var r=e;return r.nss=(e.uuid||"").toLowerCase(),r}};E[H.scheme]=H,E[Q.scheme]=Q,E[G.scheme]=G,E[K.scheme]=K,E[oe.scheme]=oe,E[ce.scheme]=ce,E[de.scheme]=de,e.SCHEMES=E,e.pctEncChar=S,e.pctDecChars=j,e.parse=R,e.removeDotSegments=U,e.serialize=q,e.resolveComponents=V,e.resolve=function(e,t,r){var a=function(e,t){var r=e;if(t)for(var a in t)r[a]=t[a];return r}({scheme:"null"},r);return q(V(R(e,a),R(t,a),a,!0),a)},e.normalize=function(e,t){return"string"==typeof e?e=q(R(e,t),t):"object"===a(e)&&(e=R(q(e,t),t)),e},e.equal=function(e,t,r){return"string"==typeof e?e=q(R(e,r),r):"object"===a(e)&&(e=q(e,r)),"string"==typeof t?t=q(R(t,r),r):"object"===a(t)&&(t=q(t,r)),e===t},e.escapeComponent=function(e,t){return e&&e.toString().replace(t&&t.iri?n.ESCAPE:o.ESCAPE,S)},e.unescapeComponent=M,Object.defineProperty(e,"__esModule",{value:!0})}(t)})),Wo=function e(t,r){if(t===r)return!0;if(t&&r&&"object"==typeof t&&"object"==typeof r){if(t.constructor!==r.constructor)return!1;var a,i,s;if(Array.isArray(t)){if((a=t.length)!=r.length)return!1;for(i=a;0!=i--;)if(!e(t[i],r[i]))return!1;return!0}if(t.constructor===RegExp)return t.source===r.source&&t.flags===r.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===r.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===r.toString();if((a=(s=Object.keys(t)).length)!==Object.keys(r).length)return!1;for(i=a;0!=i--;)if(!Object.prototype.hasOwnProperty.call(r,s[i]))return!1;for(i=a;0!=i--;){var o=s[i];if(!e(t[o],r[o]))return!1}return!0}return t!=t&&r!=r},Zo={copy:function(e,t){for(var r in t=t||{},e)t[r]=e[r];return t},checkDataType:Yo,checkDataTypes:function(e,t,r){switch(e.length){case 1:return Yo(e[0],t,r,!0);default:var a="",i=en(e);for(var s in i.array&&i.object&&(a=i.null?"(":"(!"+t+" || ",a+="typeof "+t+' !== "object")',delete i.null,delete i.array,delete i.object),i.number&&delete i.integer,i)a+=(a?" && ":"")+Yo(s,t,r,!0);return a}},coerceToTypes:function(e,t){if(Array.isArray(t)){for(var r=[],a=0;a<t.length;a++){var i=t[a];(Xo[i]||"array"===e&&"array"===i)&&(r[r.length]=i)}if(r.length)return r}else{if(Xo[t])return[t];if("array"===e&&"array"===t)return["array"]}},toHash:en,getProperty:an,escapeQuotes:sn,equal:Wo,ucs2length:function(e){for(var t,r=0,a=e.length,i=0;i<a;)r++,(t=e.charCodeAt(i++))>=55296&&t<=56319&&i<a&&56320==(64512&(t=e.charCodeAt(i)))&&i++;return r},varOccurences:function(e,t){t+="[^0-9]";var r=e.match(new RegExp(t,"g"));return r?r.length:0},varReplace:function(e,t,r){return t+="([^0-9])",r=r.replace(/\$/g,"$$$$"),e.replace(new RegExp(t,"g"),r+"$1")},schemaHasRules:function(e,t){if("boolean"==typeof e)return!e;for(var r in e)if(t[r])return!0},schemaHasRulesExcept:function(e,t,r){if("boolean"==typeof e)return!e&&"not"!=r;for(var a in e)if(a!=r&&t[a])return!0},schemaUnknownRules:function(e,t){if("boolean"==typeof e)return;for(var r in e)if(!t[r])return r},toQuotedString:on,getPathExpr:function(e,t,r,a){return ln(e,r?"'/' + "+t+(a?"":".replace(/~/g, '~0').replace(/\\//g, '~1')"):a?"'[' + "+t+" + ']'":"'[\\'' + "+t+" + '\\']'")},getPath:function(e,t,r){var a=on(r?"/"+dn(t):an(t));return ln(e,a)},getData:function(e,t,r){var a,i,s,o;if(""===e)return"rootData";if("/"==e[0]){if(!nn.test(e))throw new Error("Invalid JSON-pointer: "+e);i=e,s="rootData"}else{if(!(o=e.match(cn)))throw new Error("Invalid JSON-pointer: "+e);if(a=+o[1],"#"==(i=o[2])){if(a>=t)throw new Error("Cannot access property/index "+a+" levels up, current level is "+t);return r[t-a]}if(a>t)throw new Error("Cannot access data "+a+" levels up, current level is "+t);if(s="data"+(t-a||""),!i)return s}for(var n=s,c=i.split("/"),l=0;l<c.length;l++){var d=c[l];d&&(s+=an(un(d)),n+=" && "+s)}return n},unescapeFragment:function(e){return un(decodeURIComponent(e))},unescapeJsonPointer:un,escapeFragment:function(e){return encodeURIComponent(dn(e))},escapeJsonPointer:dn};function Yo(e,t,r,a){var i=a?" !== ":" === ",s=a?" || ":" && ",o=a?"!":"",n=a?"":"!";switch(e){case"null":return t+i+"null";case"array":return o+"Array.isArray("+t+")";case"object":return"("+o+t+s+"typeof "+t+i+'"object"'+s+n+"Array.isArray("+t+"))";case"integer":return"(typeof "+t+i+'"number"'+s+n+"("+t+" % 1)"+s+t+i+t+(r?s+o+"isFinite("+t+")":"")+")";case"number":return"(typeof "+t+i+'"'+e+'"'+(r?s+o+"isFinite("+t+")":"")+")";default:return"typeof "+t+i+'"'+e+'"'}}var Xo=en(["string","number","integer","boolean","null"]);function en(e){for(var t={},r=0;r<e.length;r++)t[e[r]]=!0;return t}var tn=/^[a-z$_][a-z$_0-9]*$/i,rn=/'|\\/g;function an(e){return"number"==typeof e?"["+e+"]":tn.test(e)?"."+e:"['"+sn(e)+"']"}function sn(e){return e.replace(rn,"\\$&").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\f/g,"\\f").replace(/\t/g,"\\t")}function on(e){return"'"+sn(e)+"'"}var nn=/^\/(?:[^~]|~0|~1)*$/,cn=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function ln(e,t){return'""'==e?t:(e+" + "+t).replace(/([^\\])' \+ '/g,"$1")}function dn(e){return e.replace(/~/g,"~0").replace(/\//g,"~1")}function un(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}var hn=function(e){Zo.copy(e,this)};var pn=Ao((function(e){var t=e.exports=function(e,r,a){"function"==typeof r&&(a=r,r={}),function e(r,a,i,s,o,n,c,l,d,u){if(s&&"object"==typeof s&&!Array.isArray(s)){for(var h in a(s,o,n,c,l,d,u),s){var p=s[h];if(Array.isArray(p)){if(h in t.arrayKeywords)for(var m=0;m<p.length;m++)e(r,a,i,p[m],o+"/"+h+"/"+m,n,o,h,s,m)}else if(h in t.propsKeywords){if(p&&"object"==typeof p)for(var f in p)e(r,a,i,p[f],o+"/"+h+"/"+f.replace(/~/g,"~0").replace(/\//g,"~1"),n,o,h,s,f)}else(h in t.keywords||r.allKeys&&!(h in t.skipKeywords))&&e(r,a,i,p,o+"/"+h,n,o,h,s)}i(s,o,n,c,l,d,u)}}(r,"function"==typeof(a=r.cb||a)?a:a.pre||function(){},a.post||function(){},e,"",e)};t.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0},t.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0},t.propsKeywords={definitions:!0,properties:!0,patternProperties:!0,dependencies:!0},t.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0}})),mn=fn;function fn(e,t,r){var a=this._refs[r];if("string"==typeof a){if(!this._refs[a])return fn.call(this,e,t,a);a=this._refs[a]}if((a=a||this._schemas[r])instanceof hn)return wn(a.schema,this._opts.inlineRefs)?a.schema:a.validate||this._compile(a);var i,s,o,n=vn.call(this,t,r);return n&&(i=n.schema,t=n.root,o=n.baseId),i instanceof hn?s=i.validate||e.call(this,i.schema,t,void 0,o):void 0!==i&&(s=wn(i,this._opts.inlineRefs)?i:e.call(this,i,t,void 0,o)),s}function vn(e,t){var r=Jo.parse(t),a=xn(r),i=kn(this._getId(e.schema));if(0===Object.keys(e.schema).length||a!==i){var s=En(a),o=this._refs[s];if("string"==typeof o)return gn.call(this,e,o,r);if(o instanceof hn)o.validate||this._compile(o),e=o;else{if(!((o=this._schemas[s])instanceof hn))return;if(o.validate||this._compile(o),s==En(t))return{schema:o,root:e,baseId:i};e=o}if(!e.schema)return;i=kn(this._getId(e.schema))}return bn.call(this,r,i,e.schema,e)}function gn(e,t,r){var a=vn.call(this,e,t);if(a){var i=a.schema,s=a.baseId;e=a.root;var o=this._getId(i);return o&&(s=Sn(s,o)),bn.call(this,r,s,i,e)}}fn.normalizeId=En,fn.fullPath=kn,fn.url=Sn,fn.ids=function(e){var t=En(this._getId(e)),r={"":t},a={"":kn(t,!1)},i={},s=this;return pn(e,{allKeys:!0},(function(e,t,o,n,c,l,d){if(""!==t){var u=s._getId(e),h=r[n],p=a[n]+"/"+c;if(void 0!==d&&(p+="/"+("number"==typeof d?d:Zo.escapeFragment(d))),"string"==typeof u){u=h=En(h?Jo.resolve(h,u):u);var m=s._refs[u];if("string"==typeof m&&(m=s._refs[m]),m&&m.schema){if(!Wo(e,m.schema))throw new Error('id "'+u+'" resolves to more than one schema')}else if(u!=En(p))if("#"==u[0]){if(i[u]&&!Wo(e,i[u]))throw new Error('id "'+u+'" resolves to more than one schema');i[u]=e}else s._refs[u]=p}r[t]=h,a[t]=p}})),i},fn.inlineRef=wn,fn.schema=vn;var yn=Zo.toHash(["properties","patternProperties","enum","dependencies","definitions"]);function bn(e,t,r,a){if(e.fragment=e.fragment||"","/"==e.fragment.slice(0,1)){for(var i=e.fragment.split("/"),s=1;s<i.length;s++){var o=i[s];if(o){if(void 0===(r=r[o=Zo.unescapeFragment(o)]))break;var n;if(!yn[o]&&((n=this._getId(r))&&(t=Sn(t,n)),r.$ref)){var c=Sn(t,r.$ref),l=vn.call(this,a,c);l&&(r=l.schema,a=l.root,t=l.baseId)}}}return void 0!==r&&r!==a.schema?{schema:r,root:a,baseId:t}:void 0}}var _n=Zo.toHash(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum"]);function wn(e,t){return!1!==t&&(void 0===t||!0===t?function e(t){var r;if(Array.isArray(t)){for(var a=0;a<t.length;a++)if("object"==typeof(r=t[a])&&!e(r))return!1}else for(var i in t){if("$ref"==i)return!1;if("object"==typeof(r=t[i])&&!e(r))return!1}return!0}(e):t?function e(t){var r,a=0;if(Array.isArray(t)){for(var i=0;i<t.length;i++)if("object"==typeof(r=t[i])&&(a+=e(r)),a==1/0)return 1/0}else for(var s in t){if("$ref"==s)return 1/0;if(_n[s])a++;else if("object"==typeof(r=t[s])&&(a+=e(r)+1),a==1/0)return 1/0}return a}(e)<=t:void 0)}function kn(e,t){return!1!==t&&(e=En(e)),xn(Jo.parse(e))}function xn(e){return Jo.serialize(e).split("#")[0]+"#"}var Pn=/#\/?$/;function En(e){return e?e.replace(Pn,""):""}function Sn(e,t){return t=En(t),Jo.resolve(e,t)}var jn={Validation:On((function(e){this.message="validation failed",this.errors=e,this.ajv=this.validation=!0})),MissingRef:On($n)};function $n(e,t,r){this.message=r||$n.message(e,t),this.missingRef=mn.url(e,t),this.missingSchema=mn.normalizeId(mn.fullPath(this.missingRef))}function On(e){return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}$n.message=function(e,t){return"can't resolve reference "+t+" from id "+e};var An=function(e,t){t||(t={}),"function"==typeof t&&(t={cmp:t});var r,a="boolean"==typeof t.cycles&&t.cycles,i=t.cmp&&(r=t.cmp,function(e){return function(t,a){var i={key:t,value:e[t]},s={key:a,value:e[a]};return r(i,s)}}),s=[];return function e(t){if(t&&t.toJSON&&"function"==typeof t.toJSON&&(t=t.toJSON()),void 0!==t){if("number"==typeof t)return isFinite(t)?""+t:"null";if("object"!=typeof t)return JSON.stringify(t);var r,o;if(Array.isArray(t)){for(o="[",r=0;r<t.length;r++)r&&(o+=","),o+=e(t[r])||"null";return o+"]"}if(null===t)return"null";if(-1!==s.indexOf(t)){if(a)return JSON.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON")}var n=s.push(t)-1,c=Object.keys(t).sort(i&&i(t));for(o="",r=0;r<c.length;r++){var l=c[r],d=e(t[l]);d&&(o&&(o+=","),o+=JSON.stringify(l)+":"+d)}return s.splice(n,1),"{"+o+"}"}}(e)},Cn=function(e,t,r){var a="",i=!0===e.schema.$async,s=e.util.schemaHasRulesExcept(e.schema,e.RULES.all,"$ref"),o=e.self._getId(e.schema);if(e.opts.strictKeywords){var n=e.util.schemaUnknownRules(e.schema,e.RULES.keywords);if(n){var c="unknown keyword: "+n;if("log"!==e.opts.strictKeywords)throw new Error(c);e.logger.warn(c)}}if(e.isTop&&(a+=" var validate = ",i&&(e.async=!0,a+="async "),a+="function(data, dataPath, parentData, parentDataProperty, rootData) { 'use strict'; ",o&&(e.opts.sourceCode||e.opts.processCode)&&(a+=" /*# sourceURL="+o+" */ ")),"boolean"==typeof e.schema||!s&&!e.schema.$ref){var l=e.level,d=e.dataLevel,u=e.schema["false schema"],h=e.schemaPath+e.util.getProperty("false schema"),p=e.errSchemaPath+"/false schema",m=!e.opts.allErrors,f="data"+(d||""),v="valid"+l;if(!1===e.schema){e.isTop?m=!0:a+=" var "+v+" = false; ",(W=W||[]).push(a),a="",!1!==e.createErrors?(a+=" { keyword: 'false schema' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(p)+" , params: {} ",!1!==e.opts.messages&&(a+=" , message: 'boolean schema is false' "),e.opts.verbose&&(a+=" , schema: false , parentSchema: validate.schema"+e.schemaPath+" , data: "+f+" "),a+=" } "):a+=" {} ";var g=a;a=W.pop(),!e.compositeRule&&m?e.async?a+=" throw new ValidationError(["+g+"]); ":a+=" validate.errors = ["+g+"]; return false; ":a+=" var err = "+g+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}else e.isTop?a+=i?" return data; ":" validate.errors = null; return true; ":a+=" var "+v+" = true; ";return e.isTop&&(a+=" }; return validate; "),a}if(e.isTop){var y=e.isTop;l=e.level=0,d=e.dataLevel=0,f="data";if(e.rootId=e.resolve.fullPath(e.self._getId(e.root.schema)),e.baseId=e.baseId||e.rootId,delete e.isTop,e.dataPathArr=[void 0],void 0!==e.schema.default&&e.opts.useDefaults&&e.opts.strictDefaults){var b="default is ignored in the schema root";if("log"!==e.opts.strictDefaults)throw new Error(b);e.logger.warn(b)}a+=" var vErrors = null; ",a+=" var errors = 0;     ",a+=" if (rootData === undefined) rootData = data; "}else{l=e.level,f="data"+((d=e.dataLevel)||"");if(o&&(e.baseId=e.resolve.url(e.baseId,o)),i&&!e.async)throw new Error("async schema in sync schema");a+=" var errs_"+l+" = errors;"}v="valid"+l,m=!e.opts.allErrors;var _="",w="",k=e.schema.type,x=Array.isArray(k);if(k&&e.opts.nullable&&!0===e.schema.nullable&&(x?-1==k.indexOf("null")&&(k=k.concat("null")):"null"!=k&&(k=[k,"null"],x=!0)),x&&1==k.length&&(k=k[0],x=!1),e.schema.$ref&&s){if("fail"==e.opts.extendRefs)throw new Error('$ref: validation keywords used in schema at path "'+e.errSchemaPath+'" (see option extendRefs)');!0!==e.opts.extendRefs&&(s=!1,e.logger.warn('$ref: keywords ignored in schema at path "'+e.errSchemaPath+'"'))}if(e.schema.$comment&&e.opts.$comment&&(a+=" "+e.RULES.all.$comment.code(e,"$comment")),k){if(e.opts.coerceTypes)var P=e.util.coerceToTypes(e.opts.coerceTypes,k);var E=e.RULES.types[k];if(P||x||!0===E||E&&!Z(E)){h=e.schemaPath+".type",p=e.errSchemaPath+"/type",h=e.schemaPath+".type",p=e.errSchemaPath+"/type";var S=x?"checkDataTypes":"checkDataType";if(a+=" if ("+e.util[S](k,f,e.opts.strictNumbers,!0)+") { ",P){var j="dataType"+l,$="coerced"+l;a+=" var "+j+" = typeof "+f+"; var "+$+" = undefined; ","array"==e.opts.coerceTypes&&(a+=" if ("+j+" == 'object' && Array.isArray("+f+") && "+f+".length == 1) { "+f+" = "+f+"[0]; "+j+" = typeof "+f+"; if ("+e.util.checkDataType(e.schema.type,f,e.opts.strictNumbers)+") "+$+" = "+f+"; } "),a+=" if ("+$+" !== undefined) ; ";var O=P;if(O)for(var A,C=-1,F=O.length-1;C<F;)"string"==(A=O[C+=1])?a+=" else if ("+j+" == 'number' || "+j+" == 'boolean') "+$+" = '' + "+f+"; else if ("+f+" === null) "+$+" = ''; ":"number"==A||"integer"==A?(a+=" else if ("+j+" == 'boolean' || "+f+" === null || ("+j+" == 'string' && "+f+" && "+f+" == +"+f+" ","integer"==A&&(a+=" && !("+f+" % 1)"),a+=")) "+$+" = +"+f+"; "):"boolean"==A?a+=" else if ("+f+" === 'false' || "+f+" === 0 || "+f+" === null) "+$+" = false; else if ("+f+" === 'true' || "+f+" === 1) "+$+" = true; ":"null"==A?a+=" else if ("+f+" === '' || "+f+" === 0 || "+f+" === false) "+$+" = null; ":"array"==e.opts.coerceTypes&&"array"==A&&(a+=" else if ("+j+" == 'string' || "+j+" == 'number' || "+j+" == 'boolean' || "+f+" == null) "+$+" = ["+f+"]; ");a+=" else {   ",(W=W||[]).push(a),a="",!1!==e.createErrors?(a+=" { keyword: 'type' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(p)+" , params: { type: '",a+=x?""+k.join(","):""+k,a+="' } ",!1!==e.opts.messages&&(a+=" , message: 'should be ",a+=x?""+k.join(","):""+k,a+="' "),e.opts.verbose&&(a+=" , schema: validate.schema"+h+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+f+" "),a+=" } "):a+=" {} ";g=a;a=W.pop(),!e.compositeRule&&m?e.async?a+=" throw new ValidationError(["+g+"]); ":a+=" validate.errors = ["+g+"]; return false; ":a+=" var err = "+g+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",a+=" } if ("+$+" !== undefined) {  ";var z=d?"data"+(d-1||""):"parentData";a+=" "+f+" = "+$+"; ",d||(a+="if ("+z+" !== undefined)"),a+=" "+z+"["+(d?e.dataPathArr[d]:"parentDataProperty")+"] = "+$+"; } "}else{(W=W||[]).push(a),a="",!1!==e.createErrors?(a+=" { keyword: 'type' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(p)+" , params: { type: '",a+=x?""+k.join(","):""+k,a+="' } ",!1!==e.opts.messages&&(a+=" , message: 'should be ",a+=x?""+k.join(","):""+k,a+="' "),e.opts.verbose&&(a+=" , schema: validate.schema"+h+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+f+" "),a+=" } "):a+=" {} ";g=a;a=W.pop(),!e.compositeRule&&m?e.async?a+=" throw new ValidationError(["+g+"]); ":a+=" validate.errors = ["+g+"]; return false; ":a+=" var err = "+g+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}a+=" } "}}if(e.schema.$ref&&!s)a+=" "+e.RULES.all.$ref.code(e,"$ref")+" ",m&&(a+=" } if (errors === ",a+=y?"0":"errs_"+l,a+=") { ",w+="}");else{var R=e.RULES;if(R)for(var D=-1,T=R.length-1;D<T;)if(Z(E=R[D+=1])){if(E.type&&(a+=" if ("+e.util.checkDataType(E.type,f,e.opts.strictNumbers)+") { "),e.opts.useDefaults)if("object"==E.type&&e.schema.properties){u=e.schema.properties;var N=Object.keys(u);if(N)for(var I,L=-1,U=N.length-1;L<U;){if(void 0!==(M=u[I=N[L+=1]]).default){var q=f+e.util.getProperty(I);if(e.compositeRule){if(e.opts.strictDefaults){b="default is ignored for: "+q;if("log"!==e.opts.strictDefaults)throw new Error(b);e.logger.warn(b)}}else a+=" if ("+q+" === undefined ","empty"==e.opts.useDefaults&&(a+=" || "+q+" === null || "+q+" === '' "),a+=" ) "+q+" = ","shared"==e.opts.useDefaults?a+=" "+e.useDefault(M.default)+" ":a+=" "+JSON.stringify(M.default)+" ",a+="; "}}}else if("array"==E.type&&Array.isArray(e.schema.items)){var V=e.schema.items;if(V){C=-1;for(var M,H=V.length-1;C<H;)if(void 0!==(M=V[C+=1]).default){q=f+"["+C+"]";if(e.compositeRule){if(e.opts.strictDefaults){b="default is ignored for: "+q;if("log"!==e.opts.strictDefaults)throw new Error(b);e.logger.warn(b)}}else a+=" if ("+q+" === undefined ","empty"==e.opts.useDefaults&&(a+=" || "+q+" === null || "+q+" === '' "),a+=" ) "+q+" = ","shared"==e.opts.useDefaults?a+=" "+e.useDefault(M.default)+" ":a+=" "+JSON.stringify(M.default)+" ",a+="; "}}}var Q=E.rules;if(Q)for(var B,G=-1,K=Q.length-1;G<K;)if(Y(B=Q[G+=1])){var J=B.code(e,B.keyword,E.type);J&&(a+=" "+J+" ",m&&(_+="}"))}if(m&&(a+=" "+_+" ",_=""),E.type&&(a+=" } ",k&&k===E.type&&!P)){a+=" else { ";var W;h=e.schemaPath+".type",p=e.errSchemaPath+"/type";(W=W||[]).push(a),a="",!1!==e.createErrors?(a+=" { keyword: 'type' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(p)+" , params: { type: '",a+=x?""+k.join(","):""+k,a+="' } ",!1!==e.opts.messages&&(a+=" , message: 'should be ",a+=x?""+k.join(","):""+k,a+="' "),e.opts.verbose&&(a+=" , schema: validate.schema"+h+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+f+" "),a+=" } "):a+=" {} ";g=a;a=W.pop(),!e.compositeRule&&m?e.async?a+=" throw new ValidationError(["+g+"]); ":a+=" validate.errors = ["+g+"]; return false; ":a+=" var err = "+g+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",a+=" } "}m&&(a+=" if (errors === ",a+=y?"0":"errs_"+l,a+=") { ",w+="}")}}function Z(e){for(var t=e.rules,r=0;r<t.length;r++)if(Y(t[r]))return!0}function Y(t){return void 0!==e.schema[t.keyword]||t.implements&&function(t){for(var r=t.implements,a=0;a<r.length;a++)if(void 0!==e.schema[r[a]])return!0}(t)}return m&&(a+=" "+w+" "),y?(i?(a+=" if (errors === 0) return data;           ",a+=" else throw new ValidationError(vErrors); "):(a+=" validate.errors = vErrors; ",a+=" return errors === 0;       "),a+=" }; return validate;"):a+=" var "+v+" = errors === errs_"+l+";",a},Fn=Zo.ucs2length,zn=jn.Validation,Rn=function e(t,r,a,i){var s=this,o=this._opts,n=[void 0],c={},l=[],d={},u=[],h={},p=[];r=r||{schema:t,refVal:n,refs:c};var m=Dn.call(this,t,r,i),f=this._compilations[m.index];if(m.compiling)return f.callValidate=function e(){var t=f.validate,r=t.apply(this,arguments);return e.errors=t.errors,r};var v=this._formats,g=this.RULES;try{var y=_(t,r,a,i);f.validate=y;var b=f.callValidate;return b&&(b.schema=y.schema,b.errors=null,b.refs=y.refs,b.refVal=y.refVal,b.root=y.root,b.$async=y.$async,o.sourceCode&&(b.source=y.source)),y}finally{Tn.call(this,t,r,i)}function _(t,a,i,d){var h=!a||a&&a.schema==t;if(a.schema!=r.schema)return e.call(s,t,a,i,d);var m,f=!0===t.$async,y=Cn({isTop:!0,schema:t,isRoot:h,baseId:d,root:a,schemaPath:"",errSchemaPath:"#",errorPath:'""',MissingRefError:jn.MissingRef,RULES:g,validate:Cn,util:Zo,resolve:mn,resolveRef:w,usePattern:P,useDefault:E,useCustomRule:S,opts:o,formats:v,logger:s.logger,self:s});y=Vn(n,Un)+Vn(l,In)+Vn(u,Ln)+Vn(p,qn)+y,o.processCode&&(y=o.processCode(y,t));try{m=new Function("self","RULES","formats","root","refVal","defaults","customRules","equal","ucs2length","ValidationError",y)(s,g,v,r,n,u,p,Wo,Fn,zn),n[0]=m}catch(e){throw s.logger.error("Error compiling schema, function code:",y),e}return m.schema=t,m.errors=null,m.refs=c,m.refVal=n,m.root=h?m:a,f&&(m.$async=!0),!0===o.sourceCode&&(m.source={code:y,patterns:l,defaults:u}),m}function w(t,i,l){i=mn.url(t,i);var d,u,h=c[i];if(void 0!==h)return x(d=n[h],u="refVal["+h+"]");if(!l&&r.refs){var p=r.refs[i];if(void 0!==p)return x(d=r.refVal[p],u=k(i,d))}u=k(i);var m=mn.call(s,_,r,i);if(void 0===m){var f=a&&a[i];f&&(m=mn.inlineRef(f,o.inlineRefs)?f:e.call(s,f,r,a,t))}if(void 0!==m)return function(e,t){var r=c[e];n[r]=t}(i,m),x(m,u);!function(e){delete c[e]}(i)}function k(e,t){var r=n.length;return n[r]=t,c[e]=r,"refVal"+r}function x(e,t){return"object"==typeof e||"boolean"==typeof e?{code:t,schema:e,inline:!0}:{code:t,$async:e&&!!e.$async}}function P(e){var t=d[e];return void 0===t&&(t=d[e]=l.length,l[t]=e),"pattern"+t}function E(e){switch(typeof e){case"boolean":case"number":return""+e;case"string":return Zo.toQuotedString(e);case"object":if(null===e)return"null";var t=An(e),r=h[t];return void 0===r&&(r=h[t]=u.length,u[r]=e),"default"+r}}function S(e,t,r,a){if(!1!==s._opts.validateSchema){var i=e.definition.dependencies;if(i&&!i.every((function(e){return Object.prototype.hasOwnProperty.call(r,e)})))throw new Error("parent schema must have all required keywords: "+i.join(","));var n=e.definition.validateSchema;if(n)if(!n(t)){var c="keyword schema is invalid: "+s.errorsText(n.errors);if("log"!=s._opts.validateSchema)throw new Error(c);s.logger.error(c)}}var l,d=e.definition.compile,u=e.definition.inline,h=e.definition.macro;if(d)l=d.call(s,t,r,a);else if(h)l=h.call(s,t,r,a),!1!==o.validateSchema&&s.validateSchema(l,!0);else if(u)l=u.call(s,a,e.keyword,t,r);else if(!(l=e.definition.validate))return;if(void 0===l)throw new Error('custom keyword "'+e.keyword+'"failed to compile');var m=p.length;return p[m]=l,{code:"customRule"+m,validate:l}}};function Dn(e,t,r){var a=Nn.call(this,e,t,r);return a>=0?{index:a,compiling:!0}:(a=this._compilations.length,this._compilations[a]={schema:e,root:t,baseId:r},{index:a,compiling:!1})}function Tn(e,t,r){var a=Nn.call(this,e,t,r);a>=0&&this._compilations.splice(a,1)}function Nn(e,t,r){for(var a=0;a<this._compilations.length;a++){var i=this._compilations[a];if(i.schema==e&&i.root==t&&i.baseId==r)return a}return-1}function In(e,t){return"var pattern"+e+" = new RegExp("+Zo.toQuotedString(t[e])+");"}function Ln(e){return"var default"+e+" = defaults["+e+"];"}function Un(e,t){return void 0===t[e]?"":"var refVal"+e+" = refVal["+e+"];"}function qn(e){return"var customRule"+e+" = customRules["+e+"];"}function Vn(e,t){if(!e.length)return"";for(var r="",a=0;a<e.length;a++)r+=t(a,e);return r}var Mn=Ao((function(e){var t=e.exports=function(){this._cache={}};t.prototype.put=function(e,t){this._cache[e]=t},t.prototype.get=function(e){return this._cache[e]},t.prototype.del=function(e){delete this._cache[e]},t.prototype.clear=function(){this._cache={}}})),Hn=/^(\d\d\d\d)-(\d\d)-(\d\d)$/,Qn=[0,31,28,31,30,31,30,31,31,30,31,30,31],Bn=/^(\d\d):(\d\d):(\d\d)(\.\d+)?(z|[+-]\d\d(?::?\d\d)?)?$/i,Gn=/^(?=.{1,253}\.?$)[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*\.?$/i,Kn=/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\?(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,Jn=/^(?:(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2})|\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?)*\})*$/i,Wn=/^(?:(?:http[s\u017F]?|ftp):\/\/)(?:(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+(?::(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*)?@)?(?:(?!10(?:\.[0-9]{1,3}){3})(?!127(?:\.[0-9]{1,3}){3})(?!169\.254(?:\.[0-9]{1,3}){2})(?!192\.168(?:\.[0-9]{1,3}){2})(?!172\.(?:1[6-9]|2[0-9]|3[01])(?:\.[0-9]{1,3}){2})(?:[1-9][0-9]?|1[0-9][0-9]|2[01][0-9]|22[0-3])(?:\.(?:1?[0-9]{1,2}|2[0-4][0-9]|25[0-5])){2}(?:\.(?:[1-9][0-9]?|1[0-9][0-9]|2[0-4][0-9]|25[0-4]))|(?:(?:(?:[0-9KSa-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+-?)*(?:[0-9KSa-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+)(?:\.(?:(?:[0-9KSa-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+-?)*(?:[0-9KSa-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+)*(?:\.(?:(?:[KSa-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]){2,})))(?::[0-9]{2,5})?(?:\/(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*)?$/i,Zn=/^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i,Yn=/^(?:\/(?:[^~/]|~0|~1)*)*$/,Xn=/^#(?:\/(?:[a-z0-9_\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i,ec=/^(?:0|[1-9][0-9]*)(?:#|(?:\/(?:[^~/]|~0|~1)*)*)$/,tc=rc;function rc(e){return e="full"==e?"full":"fast",Zo.copy(rc[e])}function ac(e){var t=e.match(Hn);if(!t)return!1;var r=+t[1],a=+t[2],i=+t[3];return a>=1&&a<=12&&i>=1&&i<=(2==a&&function(e){return e%4==0&&(e%100!=0||e%400==0)}(r)?29:Qn[a])}function ic(e,t){var r=e.match(Bn);if(!r)return!1;var a=r[1],i=r[2],s=r[3],o=r[5];return(a<=23&&i<=59&&s<=59||23==a&&59==i&&60==s)&&(!t||o)}rc.fast={date:/^\d\d\d\d-[0-1]\d-[0-3]\d$/,time:/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,"date-time":/^\d\d\d\d-[0-1]\d-[0-3]\d[t\s](?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i,uri:/^(?:[a-z][a-z0-9+-.]*:)(?:\/?\/)?[^\s]*$/i,"uri-reference":/^(?:(?:[a-z][a-z0-9+-.]*:)?\/?\/)?(?:[^\\\s#][^\s#]*)?(?:#[^\\\s]*)?$/i,"uri-template":Jn,url:Wn,email:/^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)*$/i,hostname:Gn,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipv6:/^\s*(?:(?:(?:[0-9a-f]{1,4}:){7}(?:[0-9a-f]{1,4}|:))|(?:(?:[0-9a-f]{1,4}:){6}(?::[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){5}(?:(?:(?::[0-9a-f]{1,4}){1,2})|:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){4}(?:(?:(?::[0-9a-f]{1,4}){1,3})|(?:(?::[0-9a-f]{1,4})?:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){3}(?:(?:(?::[0-9a-f]{1,4}){1,4})|(?:(?::[0-9a-f]{1,4}){0,2}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){2}(?:(?:(?::[0-9a-f]{1,4}){1,5})|(?:(?::[0-9a-f]{1,4}){0,3}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){1}(?:(?:(?::[0-9a-f]{1,4}){1,6})|(?:(?::[0-9a-f]{1,4}){0,4}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?::(?:(?:(?::[0-9a-f]{1,4}){1,7})|(?:(?::[0-9a-f]{1,4}){0,5}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(?:%.+)?\s*$/i,regex:cc,uuid:Zn,"json-pointer":Yn,"json-pointer-uri-fragment":Xn,"relative-json-pointer":ec},rc.full={date:ac,time:ic,"date-time":function(e){var t=e.split(sc);return 2==t.length&&ac(t[0])&&ic(t[1],!0)},uri:function(e){return oc.test(e)&&Kn.test(e)},"uri-reference":/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,"uri-template":Jn,url:Wn,email:/^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i,hostname:Gn,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipv6:/^\s*(?:(?:(?:[0-9a-f]{1,4}:){7}(?:[0-9a-f]{1,4}|:))|(?:(?:[0-9a-f]{1,4}:){6}(?::[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){5}(?:(?:(?::[0-9a-f]{1,4}){1,2})|:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){4}(?:(?:(?::[0-9a-f]{1,4}){1,3})|(?:(?::[0-9a-f]{1,4})?:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){3}(?:(?:(?::[0-9a-f]{1,4}){1,4})|(?:(?::[0-9a-f]{1,4}){0,2}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){2}(?:(?:(?::[0-9a-f]{1,4}){1,5})|(?:(?::[0-9a-f]{1,4}){0,3}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){1}(?:(?:(?::[0-9a-f]{1,4}){1,6})|(?:(?::[0-9a-f]{1,4}){0,4}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?::(?:(?:(?::[0-9a-f]{1,4}){1,7})|(?:(?::[0-9a-f]{1,4}){0,5}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(?:%.+)?\s*$/i,regex:cc,uuid:Zn,"json-pointer":Yn,"json-pointer-uri-fragment":Xn,"relative-json-pointer":ec};var sc=/t|\s/i;var oc=/\/|:/;var nc=/[^\\]\\Z/;function cc(e){if(nc.test(e))return!1;try{return new RegExp(e),!0}catch(e){return!1}}var lc=function(e,t,r){var a,i=" ",s=e.level,o=e.dataLevel,n=e.schema[t],c=e.schemaPath+e.util.getProperty(t),l=e.errSchemaPath+"/"+t,d=!e.opts.allErrors,u="data"+(o||""),h=e.opts.$data&&n&&n.$data;h?(i+=" var schema"+s+" = "+e.util.getData(n.$data,o,e.dataPathArr)+"; ",a="schema"+s):a=n;var p="maximum"==t,m=p?"exclusiveMaximum":"exclusiveMinimum",f=e.schema[m],v=e.opts.$data&&f&&f.$data,g=p?"<":">",y=p?">":"<",b=void 0;if(!h&&"number"!=typeof n&&void 0!==n)throw new Error(t+" must be number");if(!v&&void 0!==f&&"number"!=typeof f&&"boolean"!=typeof f)throw new Error(m+" must be number or boolean");if(v){var _=e.util.getData(f.$data,o,e.dataPathArr),w="exclusive"+s,k="exclType"+s,x="exclIsNumber"+s,P="' + "+(j="op"+s)+" + '";i+=" var schemaExcl"+s+" = "+_+"; ",i+=" var "+w+"; var "+k+" = typeof "+(_="schemaExcl"+s)+"; if ("+k+" != 'boolean' && "+k+" != 'undefined' && "+k+" != 'number') { ";var E;b=m;(E=E||[]).push(i),i="",!1!==e.createErrors?(i+=" { keyword: '"+(b||"_exclusiveLimit")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: {} ",!1!==e.opts.messages&&(i+=" , message: '"+m+" should be boolean' "),e.opts.verbose&&(i+=" , schema: validate.schema"+c+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+u+" "),i+=" } "):i+=" {} ";var S=i;i=E.pop(),!e.compositeRule&&d?e.async?i+=" throw new ValidationError(["+S+"]); ":i+=" validate.errors = ["+S+"]; return false; ":i+=" var err = "+S+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+=" } else if ( ",h&&(i+=" ("+a+" !== undefined && typeof "+a+" != 'number') || "),i+=" "+k+" == 'number' ? ( ("+w+" = "+a+" === undefined || "+_+" "+g+"= "+a+") ? "+u+" "+y+"= "+_+" : "+u+" "+y+" "+a+" ) : ( ("+w+" = "+_+" === true) ? "+u+" "+y+"= "+a+" : "+u+" "+y+" "+a+" ) || "+u+" !== "+u+") { var op"+s+" = "+w+" ? '"+g+"' : '"+g+"='; ",void 0===n&&(b=m,l=e.errSchemaPath+"/"+m,a=_,h=v)}else{P=g;if((x="number"==typeof f)&&h){var j="'"+P+"'";i+=" if ( ",h&&(i+=" ("+a+" !== undefined && typeof "+a+" != 'number') || "),i+=" ( "+a+" === undefined || "+f+" "+g+"= "+a+" ? "+u+" "+y+"= "+f+" : "+u+" "+y+" "+a+" ) || "+u+" !== "+u+") { "}else{x&&void 0===n?(w=!0,b=m,l=e.errSchemaPath+"/"+m,a=f,y+="="):(x&&(a=Math[p?"min":"max"](f,n)),f===(!x||a)?(w=!0,b=m,l=e.errSchemaPath+"/"+m,y+="="):(w=!1,P+="="));j="'"+P+"'";i+=" if ( ",h&&(i+=" ("+a+" !== undefined && typeof "+a+" != 'number') || "),i+=" "+u+" "+y+" "+a+" || "+u+" !== "+u+") { "}}b=b||t,(E=E||[]).push(i),i="",!1!==e.createErrors?(i+=" { keyword: '"+(b||"_limit")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { comparison: "+j+", limit: "+a+", exclusive: "+w+" } ",!1!==e.opts.messages&&(i+=" , message: 'should be "+P+" ",i+=h?"' + "+a:a+"'"),e.opts.verbose&&(i+=" , schema:  ",i+=h?"validate.schema"+c:""+n,i+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+u+" "),i+=" } "):i+=" {} ";S=i;return i=E.pop(),!e.compositeRule&&d?e.async?i+=" throw new ValidationError(["+S+"]); ":i+=" validate.errors = ["+S+"]; return false; ":i+=" var err = "+S+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+=" } ",d&&(i+=" else { "),i},dc=function(e,t,r){var a,i=" ",s=e.level,o=e.dataLevel,n=e.schema[t],c=e.schemaPath+e.util.getProperty(t),l=e.errSchemaPath+"/"+t,d=!e.opts.allErrors,u="data"+(o||""),h=e.opts.$data&&n&&n.$data;if(h?(i+=" var schema"+s+" = "+e.util.getData(n.$data,o,e.dataPathArr)+"; ",a="schema"+s):a=n,!h&&"number"!=typeof n)throw new Error(t+" must be number");i+="if ( ",h&&(i+=" ("+a+" !== undefined && typeof "+a+" != 'number') || "),i+=" "+u+".length "+("maxItems"==t?">":"<")+" "+a+") { ";var p=t,m=m||[];m.push(i),i="",!1!==e.createErrors?(i+=" { keyword: '"+(p||"_limitItems")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { limit: "+a+" } ",!1!==e.opts.messages&&(i+=" , message: 'should NOT have ",i+="maxItems"==t?"more":"fewer",i+=" than ",i+=h?"' + "+a+" + '":""+n,i+=" items' "),e.opts.verbose&&(i+=" , schema:  ",i+=h?"validate.schema"+c:""+n,i+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+u+" "),i+=" } "):i+=" {} ";var f=i;return i=m.pop(),!e.compositeRule&&d?e.async?i+=" throw new ValidationError(["+f+"]); ":i+=" validate.errors = ["+f+"]; return false; ":i+=" var err = "+f+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+="} ",d&&(i+=" else { "),i},uc=function(e,t,r){var a,i=" ",s=e.level,o=e.dataLevel,n=e.schema[t],c=e.schemaPath+e.util.getProperty(t),l=e.errSchemaPath+"/"+t,d=!e.opts.allErrors,u="data"+(o||""),h=e.opts.$data&&n&&n.$data;if(h?(i+=" var schema"+s+" = "+e.util.getData(n.$data,o,e.dataPathArr)+"; ",a="schema"+s):a=n,!h&&"number"!=typeof n)throw new Error(t+" must be number");var p="maxLength"==t?">":"<";i+="if ( ",h&&(i+=" ("+a+" !== undefined && typeof "+a+" != 'number') || "),!1===e.opts.unicode?i+=" "+u+".length ":i+=" ucs2length("+u+") ",i+=" "+p+" "+a+") { ";var m=t,f=f||[];f.push(i),i="",!1!==e.createErrors?(i+=" { keyword: '"+(m||"_limitLength")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { limit: "+a+" } ",!1!==e.opts.messages&&(i+=" , message: 'should NOT be ",i+="maxLength"==t?"longer":"shorter",i+=" than ",i+=h?"' + "+a+" + '":""+n,i+=" characters' "),e.opts.verbose&&(i+=" , schema:  ",i+=h?"validate.schema"+c:""+n,i+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+u+" "),i+=" } "):i+=" {} ";var v=i;return i=f.pop(),!e.compositeRule&&d?e.async?i+=" throw new ValidationError(["+v+"]); ":i+=" validate.errors = ["+v+"]; return false; ":i+=" var err = "+v+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+="} ",d&&(i+=" else { "),i},hc=function(e,t,r){var a,i=" ",s=e.level,o=e.dataLevel,n=e.schema[t],c=e.schemaPath+e.util.getProperty(t),l=e.errSchemaPath+"/"+t,d=!e.opts.allErrors,u="data"+(o||""),h=e.opts.$data&&n&&n.$data;if(h?(i+=" var schema"+s+" = "+e.util.getData(n.$data,o,e.dataPathArr)+"; ",a="schema"+s):a=n,!h&&"number"!=typeof n)throw new Error(t+" must be number");i+="if ( ",h&&(i+=" ("+a+" !== undefined && typeof "+a+" != 'number') || "),i+=" Object.keys("+u+").length "+("maxProperties"==t?">":"<")+" "+a+") { ";var p=t,m=m||[];m.push(i),i="",!1!==e.createErrors?(i+=" { keyword: '"+(p||"_limitProperties")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { limit: "+a+" } ",!1!==e.opts.messages&&(i+=" , message: 'should NOT have ",i+="maxProperties"==t?"more":"fewer",i+=" than ",i+=h?"' + "+a+" + '":""+n,i+=" properties' "),e.opts.verbose&&(i+=" , schema:  ",i+=h?"validate.schema"+c:""+n,i+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+u+" "),i+=" } "):i+=" {} ";var f=i;return i=m.pop(),!e.compositeRule&&d?e.async?i+=" throw new ValidationError(["+f+"]); ":i+=" validate.errors = ["+f+"]; return false; ":i+=" var err = "+f+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+="} ",d&&(i+=" else { "),i},pc={$ref:function(e,t,r){var a,i,s=" ",o=e.level,n=e.dataLevel,c=e.schema[t],l=e.errSchemaPath+"/"+t,d=!e.opts.allErrors,u="data"+(n||""),h="valid"+o;if("#"==c||"#/"==c)e.isRoot?(a=e.async,i="validate"):(a=!0===e.root.schema.$async,i="root.refVal[0]");else{var p=e.resolveRef(e.baseId,c,e.isRoot);if(void 0===p){var m=e.MissingRefError.message(e.baseId,c);if("fail"==e.opts.missingRefs){e.logger.error(m),(y=y||[]).push(s),s="",!1!==e.createErrors?(s+=" { keyword: '$ref' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { ref: '"+e.util.escapeQuotes(c)+"' } ",!1!==e.opts.messages&&(s+=" , message: 'can\\'t resolve reference "+e.util.escapeQuotes(c)+"' "),e.opts.verbose&&(s+=" , schema: "+e.util.toQuotedString(c)+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+u+" "),s+=" } "):s+=" {} ";var f=s;s=y.pop(),!e.compositeRule&&d?e.async?s+=" throw new ValidationError(["+f+"]); ":s+=" validate.errors = ["+f+"]; return false; ":s+=" var err = "+f+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",d&&(s+=" if (false) { ")}else{if("ignore"!=e.opts.missingRefs)throw new e.MissingRefError(e.baseId,c,m);e.logger.warn(m),d&&(s+=" if (true) { ")}}else if(p.inline){var v=e.util.copy(e);v.level++;var g="valid"+v.level;v.schema=p.schema,v.schemaPath="",v.errSchemaPath=c,s+=" "+e.validate(v).replace(/validate\.schema/g,p.code)+" ",d&&(s+=" if ("+g+") { ")}else a=!0===p.$async||e.async&&!1!==p.$async,i=p.code}if(i){var y;(y=y||[]).push(s),s="",e.opts.passContext?s+=" "+i+".call(this, ":s+=" "+i+"( ",s+=" "+u+", (dataPath || '')",'""'!=e.errorPath&&(s+=" + "+e.errorPath);var b=s+=" , "+(n?"data"+(n-1||""):"parentData")+" , "+(n?e.dataPathArr[n]:"parentDataProperty")+", rootData)  ";if(s=y.pop(),a){if(!e.async)throw new Error("async schema referenced by sync schema");d&&(s+=" var "+h+"; "),s+=" try { await "+b+"; ",d&&(s+=" "+h+" = true; "),s+=" } catch (e) { if (!(e instanceof ValidationError)) throw e; if (vErrors === null) vErrors = e.errors; else vErrors = vErrors.concat(e.errors); errors = vErrors.length; ",d&&(s+=" "+h+" = false; "),s+=" } ",d&&(s+=" if ("+h+") { ")}else s+=" if (!"+b+") { if (vErrors === null) vErrors = "+i+".errors; else vErrors = vErrors.concat("+i+".errors); errors = vErrors.length; } ",d&&(s+=" else { ")}return s},allOf:function(e,t,r){var a=" ",i=e.schema[t],s=e.schemaPath+e.util.getProperty(t),o=e.errSchemaPath+"/"+t,n=!e.opts.allErrors,c=e.util.copy(e),l="";c.level++;var d="valid"+c.level,u=c.baseId,h=!0,p=i;if(p)for(var m,f=-1,v=p.length-1;f<v;)m=p[f+=1],(e.opts.strictKeywords?"object"==typeof m&&Object.keys(m).length>0:e.util.schemaHasRules(m,e.RULES.all))&&(h=!1,c.schema=m,c.schemaPath=s+"["+f+"]",c.errSchemaPath=o+"/"+f,a+="  "+e.validate(c)+" ",c.baseId=u,n&&(a+=" if ("+d+") { ",l+="}"));return n&&(a+=h?" if (true) { ":" "+l.slice(0,-1)+" "),a},anyOf:function(e,t,r){var a=" ",i=e.level,s=e.dataLevel,o=e.schema[t],n=e.schemaPath+e.util.getProperty(t),c=e.errSchemaPath+"/"+t,l=!e.opts.allErrors,d="data"+(s||""),u="valid"+i,h="errs__"+i,p=e.util.copy(e),m="";p.level++;var f="valid"+p.level;if(o.every((function(t){return e.opts.strictKeywords?"object"==typeof t&&Object.keys(t).length>0:e.util.schemaHasRules(t,e.RULES.all)}))){var v=p.baseId;a+=" var "+h+" = errors; var "+u+" = false;  ";var g=e.compositeRule;e.compositeRule=p.compositeRule=!0;var y=o;if(y)for(var b,_=-1,w=y.length-1;_<w;)b=y[_+=1],p.schema=b,p.schemaPath=n+"["+_+"]",p.errSchemaPath=c+"/"+_,a+="  "+e.validate(p)+" ",p.baseId=v,a+=" "+u+" = "+u+" || "+f+"; if (!"+u+") { ",m+="}";e.compositeRule=p.compositeRule=g,a+=" "+m+" if (!"+u+") {   var err =   ",!1!==e.createErrors?(a+=" { keyword: 'anyOf' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: {} ",!1!==e.opts.messages&&(a+=" , message: 'should match some schema in anyOf' "),e.opts.verbose&&(a+=" , schema: validate.schema"+n+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),a+=" } "):a+=" {} ",a+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&l&&(e.async?a+=" throw new ValidationError(vErrors); ":a+=" validate.errors = vErrors; return false; "),a+=" } else {  errors = "+h+"; if (vErrors !== null) { if ("+h+") vErrors.length = "+h+"; else vErrors = null; } ",e.opts.allErrors&&(a+=" } ")}else l&&(a+=" if (true) { ");return a},$comment:function(e,t,r){var a=" ",i=e.schema[t],s=e.errSchemaPath+"/"+t,o=(e.opts.allErrors,e.util.toQuotedString(i));return!0===e.opts.$comment?a+=" console.log("+o+");":"function"==typeof e.opts.$comment&&(a+=" self._opts.$comment("+o+", "+e.util.toQuotedString(s)+", validate.root.schema);"),a},const:function(e,t,r){var a=" ",i=e.level,s=e.dataLevel,o=e.schema[t],n=e.schemaPath+e.util.getProperty(t),c=e.errSchemaPath+"/"+t,l=!e.opts.allErrors,d="data"+(s||""),u="valid"+i,h=e.opts.$data&&o&&o.$data;h&&(a+=" var schema"+i+" = "+e.util.getData(o.$data,s,e.dataPathArr)+"; "),h||(a+=" var schema"+i+" = validate.schema"+n+";"),a+="var "+u+" = equal("+d+", schema"+i+"); if (!"+u+") {   ";var p=p||[];p.push(a),a="",!1!==e.createErrors?(a+=" { keyword: 'const' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { allowedValue: schema"+i+" } ",!1!==e.opts.messages&&(a+=" , message: 'should be equal to constant' "),e.opts.verbose&&(a+=" , schema: validate.schema"+n+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),a+=" } "):a+=" {} ";var m=a;return a=p.pop(),!e.compositeRule&&l?e.async?a+=" throw new ValidationError(["+m+"]); ":a+=" validate.errors = ["+m+"]; return false; ":a+=" var err = "+m+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",a+=" }",l&&(a+=" else { "),a},contains:function(e,t,r){var a=" ",i=e.level,s=e.dataLevel,o=e.schema[t],n=e.schemaPath+e.util.getProperty(t),c=e.errSchemaPath+"/"+t,l=!e.opts.allErrors,d="data"+(s||""),u="valid"+i,h="errs__"+i,p=e.util.copy(e);p.level++;var m="valid"+p.level,f="i"+i,v=p.dataLevel=e.dataLevel+1,g="data"+v,y=e.baseId,b=e.opts.strictKeywords?"object"==typeof o&&Object.keys(o).length>0:e.util.schemaHasRules(o,e.RULES.all);if(a+="var "+h+" = errors;var "+u+";",b){var _=e.compositeRule;e.compositeRule=p.compositeRule=!0,p.schema=o,p.schemaPath=n,p.errSchemaPath=c,a+=" var "+m+" = false; for (var "+f+" = 0; "+f+" < "+d+".length; "+f+"++) { ",p.errorPath=e.util.getPathExpr(e.errorPath,f,e.opts.jsonPointers,!0);var w=d+"["+f+"]";p.dataPathArr[v]=f;var k=e.validate(p);p.baseId=y,e.util.varOccurences(k,g)<2?a+=" "+e.util.varReplace(k,g,w)+" ":a+=" var "+g+" = "+w+"; "+k+" ",a+=" if ("+m+") break; }  ",e.compositeRule=p.compositeRule=_,a+="  if (!"+m+") {"}else a+=" if ("+d+".length == 0) {";var x=x||[];x.push(a),a="",!1!==e.createErrors?(a+=" { keyword: 'contains' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: {} ",!1!==e.opts.messages&&(a+=" , message: 'should contain a valid item' "),e.opts.verbose&&(a+=" , schema: validate.schema"+n+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),a+=" } "):a+=" {} ";var P=a;return a=x.pop(),!e.compositeRule&&l?e.async?a+=" throw new ValidationError(["+P+"]); ":a+=" validate.errors = ["+P+"]; return false; ":a+=" var err = "+P+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",a+=" } else { ",b&&(a+="  errors = "+h+"; if (vErrors !== null) { if ("+h+") vErrors.length = "+h+"; else vErrors = null; } "),e.opts.allErrors&&(a+=" } "),a},dependencies:function(e,t,r){var a=" ",i=e.level,s=e.dataLevel,o=e.schema[t],n=e.schemaPath+e.util.getProperty(t),c=e.errSchemaPath+"/"+t,l=!e.opts.allErrors,d="data"+(s||""),u="errs__"+i,h=e.util.copy(e),p="";h.level++;var m="valid"+h.level,f={},v={},g=e.opts.ownProperties;for(w in o)if("__proto__"!=w){var y=o[w],b=Array.isArray(y)?v:f;b[w]=y}a+="var "+u+" = errors;";var _=e.errorPath;for(var w in a+="var missing"+i+";",v)if((b=v[w]).length){if(a+=" if ( "+d+e.util.getProperty(w)+" !== undefined ",g&&(a+=" && Object.prototype.hasOwnProperty.call("+d+", '"+e.util.escapeQuotes(w)+"') "),l){a+=" && ( ";var k=b;if(k)for(var x=-1,P=k.length-1;x<P;){A=k[x+=1],x&&(a+=" || "),a+=" ( ( "+(R=d+(z=e.util.getProperty(A)))+" === undefined ",g&&(a+=" || ! Object.prototype.hasOwnProperty.call("+d+", '"+e.util.escapeQuotes(A)+"') "),a+=") && (missing"+i+" = "+e.util.toQuotedString(e.opts.jsonPointers?A:z)+") ) "}a+=")) {  ";var E="missing"+i,S="' + "+E+" + '";e.opts._errorDataPathProperty&&(e.errorPath=e.opts.jsonPointers?e.util.getPathExpr(_,E,!0):_+" + "+E);var j=j||[];j.push(a),a="",!1!==e.createErrors?(a+=" { keyword: 'dependencies' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { property: '"+e.util.escapeQuotes(w)+"', missingProperty: '"+S+"', depsCount: "+b.length+", deps: '"+e.util.escapeQuotes(1==b.length?b[0]:b.join(", "))+"' } ",!1!==e.opts.messages&&(a+=" , message: 'should have ",1==b.length?a+="property "+e.util.escapeQuotes(b[0]):a+="properties "+e.util.escapeQuotes(b.join(", ")),a+=" when property "+e.util.escapeQuotes(w)+" is present' "),e.opts.verbose&&(a+=" , schema: validate.schema"+n+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),a+=" } "):a+=" {} ";var $=a;a=j.pop(),!e.compositeRule&&l?e.async?a+=" throw new ValidationError(["+$+"]); ":a+=" validate.errors = ["+$+"]; return false; ":a+=" var err = "+$+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}else{a+=" ) { ";var O=b;if(O)for(var A,C=-1,F=O.length-1;C<F;){A=O[C+=1];var z=e.util.getProperty(A),R=(S=e.util.escapeQuotes(A),d+z);e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPath(_,A,e.opts.jsonPointers)),a+=" if ( "+R+" === undefined ",g&&(a+=" || ! Object.prototype.hasOwnProperty.call("+d+", '"+e.util.escapeQuotes(A)+"') "),a+=") {  var err =   ",!1!==e.createErrors?(a+=" { keyword: 'dependencies' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { property: '"+e.util.escapeQuotes(w)+"', missingProperty: '"+S+"', depsCount: "+b.length+", deps: '"+e.util.escapeQuotes(1==b.length?b[0]:b.join(", "))+"' } ",!1!==e.opts.messages&&(a+=" , message: 'should have ",1==b.length?a+="property "+e.util.escapeQuotes(b[0]):a+="properties "+e.util.escapeQuotes(b.join(", ")),a+=" when property "+e.util.escapeQuotes(w)+" is present' "),e.opts.verbose&&(a+=" , schema: validate.schema"+n+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),a+=" } "):a+=" {} ",a+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } "}}a+=" }   ",l&&(p+="}",a+=" else { ")}e.errorPath=_;var D=h.baseId;for(var w in f){y=f[w];(e.opts.strictKeywords?"object"==typeof y&&Object.keys(y).length>0:e.util.schemaHasRules(y,e.RULES.all))&&(a+=" "+m+" = true; if ( "+d+e.util.getProperty(w)+" !== undefined ",g&&(a+=" && Object.prototype.hasOwnProperty.call("+d+", '"+e.util.escapeQuotes(w)+"') "),a+=") { ",h.schema=y,h.schemaPath=n+e.util.getProperty(w),h.errSchemaPath=c+"/"+e.util.escapeFragment(w),a+="  "+e.validate(h)+" ",h.baseId=D,a+=" }  ",l&&(a+=" if ("+m+") { ",p+="}"))}return l&&(a+="   "+p+" if ("+u+" == errors) {"),a},enum:function(e,t,r){var a=" ",i=e.level,s=e.dataLevel,o=e.schema[t],n=e.schemaPath+e.util.getProperty(t),c=e.errSchemaPath+"/"+t,l=!e.opts.allErrors,d="data"+(s||""),u="valid"+i,h=e.opts.$data&&o&&o.$data;h&&(a+=" var schema"+i+" = "+e.util.getData(o.$data,s,e.dataPathArr)+"; ");var p="i"+i,m="schema"+i;h||(a+=" var "+m+" = validate.schema"+n+";"),a+="var "+u+";",h&&(a+=" if (schema"+i+" === undefined) "+u+" = true; else if (!Array.isArray(schema"+i+")) "+u+" = false; else {"),a+=u+" = false;for (var "+p+"=0; "+p+"<"+m+".length; "+p+"++) if (equal("+d+", "+m+"["+p+"])) { "+u+" = true; break; }",h&&(a+="  }  "),a+=" if (!"+u+") {   ";var f=f||[];f.push(a),a="",!1!==e.createErrors?(a+=" { keyword: 'enum' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { allowedValues: schema"+i+" } ",!1!==e.opts.messages&&(a+=" , message: 'should be equal to one of the allowed values' "),e.opts.verbose&&(a+=" , schema: validate.schema"+n+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),a+=" } "):a+=" {} ";var v=a;return a=f.pop(),!e.compositeRule&&l?e.async?a+=" throw new ValidationError(["+v+"]); ":a+=" validate.errors = ["+v+"]; return false; ":a+=" var err = "+v+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",a+=" }",l&&(a+=" else { "),a},format:function(e,t,r){var a=" ",i=e.level,s=e.dataLevel,o=e.schema[t],n=e.schemaPath+e.util.getProperty(t),c=e.errSchemaPath+"/"+t,l=!e.opts.allErrors,d="data"+(s||"");if(!1===e.opts.format)return l&&(a+=" if (true) { "),a;var u,h=e.opts.$data&&o&&o.$data;h?(a+=" var schema"+i+" = "+e.util.getData(o.$data,s,e.dataPathArr)+"; ",u="schema"+i):u=o;var p=e.opts.unknownFormats,m=Array.isArray(p);if(h){a+=" var "+(f="format"+i)+" = formats["+u+"]; var "+(v="isObject"+i)+" = typeof "+f+" == 'object' && !("+f+" instanceof RegExp) && "+f+".validate; var "+(g="formatType"+i)+" = "+v+" && "+f+".type || 'string'; if ("+v+") { ",e.async&&(a+=" var async"+i+" = "+f+".async; "),a+=" "+f+" = "+f+".validate; } if (  ",h&&(a+=" ("+u+" !== undefined && typeof "+u+" != 'string') || "),a+=" (","ignore"!=p&&(a+=" ("+u+" && !"+f+" ",m&&(a+=" && self._opts.unknownFormats.indexOf("+u+") == -1 "),a+=") || "),a+=" ("+f+" && "+g+" == '"+r+"' && !(typeof "+f+" == 'function' ? ",e.async?a+=" (async"+i+" ? await "+f+"("+d+") : "+f+"("+d+")) ":a+=" "+f+"("+d+") ",a+=" : "+f+".test("+d+"))))) {"}else{var f;if(!(f=e.formats[o])){if("ignore"==p)return e.logger.warn('unknown format "'+o+'" ignored in schema at path "'+e.errSchemaPath+'"'),l&&(a+=" if (true) { "),a;if(m&&p.indexOf(o)>=0)return l&&(a+=" if (true) { "),a;throw new Error('unknown format "'+o+'" is used in schema at path "'+e.errSchemaPath+'"')}var v,g=(v="object"==typeof f&&!(f instanceof RegExp)&&f.validate)&&f.type||"string";if(v){var y=!0===f.async;f=f.validate}if(g!=r)return l&&(a+=" if (true) { "),a;if(y){if(!e.async)throw new Error("async format in sync schema");a+=" if (!(await "+(b="formats"+e.util.getProperty(o)+".validate")+"("+d+"))) { "}else{a+=" if (! ";var b="formats"+e.util.getProperty(o);v&&(b+=".validate"),a+="function"==typeof f?" "+b+"("+d+") ":" "+b+".test("+d+") ",a+=") { "}}var _=_||[];_.push(a),a="",!1!==e.createErrors?(a+=" { keyword: 'format' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { format:  ",a+=h?""+u:""+e.util.toQuotedString(o),a+="  } ",!1!==e.opts.messages&&(a+=" , message: 'should match format \"",a+=h?"' + "+u+" + '":""+e.util.escapeQuotes(o),a+="\"' "),e.opts.verbose&&(a+=" , schema:  ",a+=h?"validate.schema"+n:""+e.util.toQuotedString(o),a+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),a+=" } "):a+=" {} ";var w=a;return a=_.pop(),!e.compositeRule&&l?e.async?a+=" throw new ValidationError(["+w+"]); ":a+=" validate.errors = ["+w+"]; return false; ":a+=" var err = "+w+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",a+=" } ",l&&(a+=" else { "),a},if:function(e,t,r){var a=" ",i=e.level,s=e.dataLevel,o=e.schema[t],n=e.schemaPath+e.util.getProperty(t),c=e.errSchemaPath+"/"+t,l=!e.opts.allErrors,d="data"+(s||""),u="valid"+i,h="errs__"+i,p=e.util.copy(e);p.level++;var m="valid"+p.level,f=e.schema.then,v=e.schema.else,g=void 0!==f&&(e.opts.strictKeywords?"object"==typeof f&&Object.keys(f).length>0:e.util.schemaHasRules(f,e.RULES.all)),y=void 0!==v&&(e.opts.strictKeywords?"object"==typeof v&&Object.keys(v).length>0:e.util.schemaHasRules(v,e.RULES.all)),b=p.baseId;if(g||y){var _;p.createErrors=!1,p.schema=o,p.schemaPath=n,p.errSchemaPath=c,a+=" var "+h+" = errors; var "+u+" = true;  ";var w=e.compositeRule;e.compositeRule=p.compositeRule=!0,a+="  "+e.validate(p)+" ",p.baseId=b,p.createErrors=!0,a+="  errors = "+h+"; if (vErrors !== null) { if ("+h+") vErrors.length = "+h+"; else vErrors = null; }  ",e.compositeRule=p.compositeRule=w,g?(a+=" if ("+m+") {  ",p.schema=e.schema.then,p.schemaPath=e.schemaPath+".then",p.errSchemaPath=e.errSchemaPath+"/then",a+="  "+e.validate(p)+" ",p.baseId=b,a+=" "+u+" = "+m+"; ",g&&y?a+=" var "+(_="ifClause"+i)+" = 'then'; ":_="'then'",a+=" } ",y&&(a+=" else { ")):a+=" if (!"+m+") { ",y&&(p.schema=e.schema.else,p.schemaPath=e.schemaPath+".else",p.errSchemaPath=e.errSchemaPath+"/else",a+="  "+e.validate(p)+" ",p.baseId=b,a+=" "+u+" = "+m+"; ",g&&y?a+=" var "+(_="ifClause"+i)+" = 'else'; ":_="'else'",a+=" } "),a+=" if (!"+u+") {   var err =   ",!1!==e.createErrors?(a+=" { keyword: 'if' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { failingKeyword: "+_+" } ",!1!==e.opts.messages&&(a+=" , message: 'should match \"' + "+_+" + '\" schema' "),e.opts.verbose&&(a+=" , schema: validate.schema"+n+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),a+=" } "):a+=" {} ",a+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&l&&(e.async?a+=" throw new ValidationError(vErrors); ":a+=" validate.errors = vErrors; return false; "),a+=" }   ",l&&(a+=" else { ")}else l&&(a+=" if (true) { ");return a},items:function(e,t,r){var a=" ",i=e.level,s=e.dataLevel,o=e.schema[t],n=e.schemaPath+e.util.getProperty(t),c=e.errSchemaPath+"/"+t,l=!e.opts.allErrors,d="data"+(s||""),u="valid"+i,h="errs__"+i,p=e.util.copy(e),m="";p.level++;var f="valid"+p.level,v="i"+i,g=p.dataLevel=e.dataLevel+1,y="data"+g,b=e.baseId;if(a+="var "+h+" = errors;var "+u+";",Array.isArray(o)){var _=e.schema.additionalItems;if(!1===_){a+=" "+u+" = "+d+".length <= "+o.length+"; ";var w=c;c=e.errSchemaPath+"/additionalItems",a+="  if (!"+u+") {   ";var k=k||[];k.push(a),a="",!1!==e.createErrors?(a+=" { keyword: 'additionalItems' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { limit: "+o.length+" } ",!1!==e.opts.messages&&(a+=" , message: 'should NOT have more than "+o.length+" items' "),e.opts.verbose&&(a+=" , schema: false , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),a+=" } "):a+=" {} ";var x=a;a=k.pop(),!e.compositeRule&&l?e.async?a+=" throw new ValidationError(["+x+"]); ":a+=" validate.errors = ["+x+"]; return false; ":a+=" var err = "+x+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",a+=" } ",c=w,l&&(m+="}",a+=" else { ")}var P=o;if(P)for(var E,S=-1,j=P.length-1;S<j;)if(E=P[S+=1],e.opts.strictKeywords?"object"==typeof E&&Object.keys(E).length>0:e.util.schemaHasRules(E,e.RULES.all)){a+=" "+f+" = true; if ("+d+".length > "+S+") { ";var $=d+"["+S+"]";p.schema=E,p.schemaPath=n+"["+S+"]",p.errSchemaPath=c+"/"+S,p.errorPath=e.util.getPathExpr(e.errorPath,S,e.opts.jsonPointers,!0),p.dataPathArr[g]=S;var O=e.validate(p);p.baseId=b,e.util.varOccurences(O,y)<2?a+=" "+e.util.varReplace(O,y,$)+" ":a+=" var "+y+" = "+$+"; "+O+" ",a+=" }  ",l&&(a+=" if ("+f+") { ",m+="}")}if("object"==typeof _&&(e.opts.strictKeywords?"object"==typeof _&&Object.keys(_).length>0:e.util.schemaHasRules(_,e.RULES.all))){p.schema=_,p.schemaPath=e.schemaPath+".additionalItems",p.errSchemaPath=e.errSchemaPath+"/additionalItems",a+=" "+f+" = true; if ("+d+".length > "+o.length+") {  for (var "+v+" = "+o.length+"; "+v+" < "+d+".length; "+v+"++) { ",p.errorPath=e.util.getPathExpr(e.errorPath,v,e.opts.jsonPointers,!0);$=d+"["+v+"]";p.dataPathArr[g]=v;O=e.validate(p);p.baseId=b,e.util.varOccurences(O,y)<2?a+=" "+e.util.varReplace(O,y,$)+" ":a+=" var "+y+" = "+$+"; "+O+" ",l&&(a+=" if (!"+f+") break; "),a+=" } }  ",l&&(a+=" if ("+f+") { ",m+="}")}}else if(e.opts.strictKeywords?"object"==typeof o&&Object.keys(o).length>0:e.util.schemaHasRules(o,e.RULES.all)){p.schema=o,p.schemaPath=n,p.errSchemaPath=c,a+="  for (var "+v+" = 0; "+v+" < "+d+".length; "+v+"++) { ",p.errorPath=e.util.getPathExpr(e.errorPath,v,e.opts.jsonPointers,!0);$=d+"["+v+"]";p.dataPathArr[g]=v;O=e.validate(p);p.baseId=b,e.util.varOccurences(O,y)<2?a+=" "+e.util.varReplace(O,y,$)+" ":a+=" var "+y+" = "+$+"; "+O+" ",l&&(a+=" if (!"+f+") break; "),a+=" }"}return l&&(a+=" "+m+" if ("+h+" == errors) {"),a},maximum:lc,minimum:lc,maxItems:dc,minItems:dc,maxLength:uc,minLength:uc,maxProperties:hc,minProperties:hc,multipleOf:function(e,t,r){var a,i=" ",s=e.level,o=e.dataLevel,n=e.schema[t],c=e.schemaPath+e.util.getProperty(t),l=e.errSchemaPath+"/"+t,d=!e.opts.allErrors,u="data"+(o||""),h=e.opts.$data&&n&&n.$data;if(h?(i+=" var schema"+s+" = "+e.util.getData(n.$data,o,e.dataPathArr)+"; ",a="schema"+s):a=n,!h&&"number"!=typeof n)throw new Error(t+" must be number");i+="var division"+s+";if (",h&&(i+=" "+a+" !== undefined && ( typeof "+a+" != 'number' || "),i+=" (division"+s+" = "+u+" / "+a+", ",e.opts.multipleOfPrecision?i+=" Math.abs(Math.round(division"+s+") - division"+s+") > 1e-"+e.opts.multipleOfPrecision+" ":i+=" division"+s+" !== parseInt(division"+s+") ",i+=" ) ",h&&(i+="  )  "),i+=" ) {   ";var p=p||[];p.push(i),i="",!1!==e.createErrors?(i+=" { keyword: 'multipleOf' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { multipleOf: "+a+" } ",!1!==e.opts.messages&&(i+=" , message: 'should be multiple of ",i+=h?"' + "+a:a+"'"),e.opts.verbose&&(i+=" , schema:  ",i+=h?"validate.schema"+c:""+n,i+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+u+" "),i+=" } "):i+=" {} ";var m=i;return i=p.pop(),!e.compositeRule&&d?e.async?i+=" throw new ValidationError(["+m+"]); ":i+=" validate.errors = ["+m+"]; return false; ":i+=" var err = "+m+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+="} ",d&&(i+=" else { "),i},not:function(e,t,r){var a=" ",i=e.level,s=e.dataLevel,o=e.schema[t],n=e.schemaPath+e.util.getProperty(t),c=e.errSchemaPath+"/"+t,l=!e.opts.allErrors,d="data"+(s||""),u="errs__"+i,h=e.util.copy(e);h.level++;var p="valid"+h.level;if(e.opts.strictKeywords?"object"==typeof o&&Object.keys(o).length>0:e.util.schemaHasRules(o,e.RULES.all)){h.schema=o,h.schemaPath=n,h.errSchemaPath=c,a+=" var "+u+" = errors;  ";var m,f=e.compositeRule;e.compositeRule=h.compositeRule=!0,h.createErrors=!1,h.opts.allErrors&&(m=h.opts.allErrors,h.opts.allErrors=!1),a+=" "+e.validate(h)+" ",h.createErrors=!0,m&&(h.opts.allErrors=m),e.compositeRule=h.compositeRule=f,a+=" if ("+p+") {   ";var v=v||[];v.push(a),a="",!1!==e.createErrors?(a+=" { keyword: 'not' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: {} ",!1!==e.opts.messages&&(a+=" , message: 'should NOT be valid' "),e.opts.verbose&&(a+=" , schema: validate.schema"+n+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),a+=" } "):a+=" {} ";var g=a;a=v.pop(),!e.compositeRule&&l?e.async?a+=" throw new ValidationError(["+g+"]); ":a+=" validate.errors = ["+g+"]; return false; ":a+=" var err = "+g+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",a+=" } else {  errors = "+u+"; if (vErrors !== null) { if ("+u+") vErrors.length = "+u+"; else vErrors = null; } ",e.opts.allErrors&&(a+=" } ")}else a+="  var err =   ",!1!==e.createErrors?(a+=" { keyword: 'not' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: {} ",!1!==e.opts.messages&&(a+=" , message: 'should NOT be valid' "),e.opts.verbose&&(a+=" , schema: validate.schema"+n+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),a+=" } "):a+=" {} ",a+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",l&&(a+=" if (false) { ");return a},oneOf:function(e,t,r){var a=" ",i=e.level,s=e.dataLevel,o=e.schema[t],n=e.schemaPath+e.util.getProperty(t),c=e.errSchemaPath+"/"+t,l=!e.opts.allErrors,d="data"+(s||""),u="valid"+i,h="errs__"+i,p=e.util.copy(e),m="";p.level++;var f="valid"+p.level,v=p.baseId,g="prevValid"+i,y="passingSchemas"+i;a+="var "+h+" = errors , "+g+" = false , "+u+" = false , "+y+" = null; ";var b=e.compositeRule;e.compositeRule=p.compositeRule=!0;var _=o;if(_)for(var w,k=-1,x=_.length-1;k<x;)w=_[k+=1],(e.opts.strictKeywords?"object"==typeof w&&Object.keys(w).length>0:e.util.schemaHasRules(w,e.RULES.all))?(p.schema=w,p.schemaPath=n+"["+k+"]",p.errSchemaPath=c+"/"+k,a+="  "+e.validate(p)+" ",p.baseId=v):a+=" var "+f+" = true; ",k&&(a+=" if ("+f+" && "+g+") { "+u+" = false; "+y+" = ["+y+", "+k+"]; } else { ",m+="}"),a+=" if ("+f+") { "+u+" = "+g+" = true; "+y+" = "+k+"; }";return e.compositeRule=p.compositeRule=b,a+=m+"if (!"+u+") {   var err =   ",!1!==e.createErrors?(a+=" { keyword: 'oneOf' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { passingSchemas: "+y+" } ",!1!==e.opts.messages&&(a+=" , message: 'should match exactly one schema in oneOf' "),e.opts.verbose&&(a+=" , schema: validate.schema"+n+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),a+=" } "):a+=" {} ",a+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&l&&(e.async?a+=" throw new ValidationError(vErrors); ":a+=" validate.errors = vErrors; return false; "),a+="} else {  errors = "+h+"; if (vErrors !== null) { if ("+h+") vErrors.length = "+h+"; else vErrors = null; }",e.opts.allErrors&&(a+=" } "),a},pattern:function(e,t,r){var a,i=" ",s=e.level,o=e.dataLevel,n=e.schema[t],c=e.schemaPath+e.util.getProperty(t),l=e.errSchemaPath+"/"+t,d=!e.opts.allErrors,u="data"+(o||""),h=e.opts.$data&&n&&n.$data;h?(i+=" var schema"+s+" = "+e.util.getData(n.$data,o,e.dataPathArr)+"; ",a="schema"+s):a=n,i+="if ( ",h&&(i+=" ("+a+" !== undefined && typeof "+a+" != 'string') || "),i+=" !"+(h?"(new RegExp("+a+"))":e.usePattern(n))+".test("+u+") ) {   ";var p=p||[];p.push(i),i="",!1!==e.createErrors?(i+=" { keyword: 'pattern' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { pattern:  ",i+=h?""+a:""+e.util.toQuotedString(n),i+="  } ",!1!==e.opts.messages&&(i+=" , message: 'should match pattern \"",i+=h?"' + "+a+" + '":""+e.util.escapeQuotes(n),i+="\"' "),e.opts.verbose&&(i+=" , schema:  ",i+=h?"validate.schema"+c:""+e.util.toQuotedString(n),i+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+u+" "),i+=" } "):i+=" {} ";var m=i;return i=p.pop(),!e.compositeRule&&d?e.async?i+=" throw new ValidationError(["+m+"]); ":i+=" validate.errors = ["+m+"]; return false; ":i+=" var err = "+m+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+="} ",d&&(i+=" else { "),i},properties:function(e,t,r){var a=" ",i=e.level,s=e.dataLevel,o=e.schema[t],n=e.schemaPath+e.util.getProperty(t),c=e.errSchemaPath+"/"+t,l=!e.opts.allErrors,d="data"+(s||""),u="errs__"+i,h=e.util.copy(e),p="";h.level++;var m="valid"+h.level,f="key"+i,v="idx"+i,g=h.dataLevel=e.dataLevel+1,y="data"+g,b="dataProperties"+i,_=Object.keys(o||{}).filter(z),w=e.schema.patternProperties||{},k=Object.keys(w).filter(z),x=e.schema.additionalProperties,P=_.length||k.length,E=!1===x,S="object"==typeof x&&Object.keys(x).length,j=e.opts.removeAdditional,$=E||S||j,O=e.opts.ownProperties,A=e.baseId,C=e.schema.required;if(C&&(!e.opts.$data||!C.$data)&&C.length<e.opts.loopRequired)var F=e.util.toHash(C);function z(e){return"__proto__"!==e}if(a+="var "+u+" = errors;var "+m+" = true;",O&&(a+=" var "+b+" = undefined;"),$){if(a+=O?" "+b+" = "+b+" || Object.keys("+d+"); for (var "+v+"=0; "+v+"<"+b+".length; "+v+"++) { var "+f+" = "+b+"["+v+"]; ":" for (var "+f+" in "+d+") { ",P){if(a+=" var isAdditional"+i+" = !(false ",_.length)if(_.length>8)a+=" || validate.schema"+n+".hasOwnProperty("+f+") ";else{var R=_;if(R)for(var D=-1,T=R.length-1;D<T;)J=R[D+=1],a+=" || "+f+" == "+e.util.toQuotedString(J)+" "}if(k.length){var N=k;if(N)for(var I=-1,L=N.length-1;I<L;)se=N[I+=1],a+=" || "+e.usePattern(se)+".test("+f+") "}a+=" ); if (isAdditional"+i+") { "}if("all"==j)a+=" delete "+d+"["+f+"]; ";else{var U=e.errorPath,q="' + "+f+" + '";if(e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPathExpr(e.errorPath,f,e.opts.jsonPointers)),E)if(j)a+=" delete "+d+"["+f+"]; ";else{a+=" "+m+" = false; ";var V=c;c=e.errSchemaPath+"/additionalProperties",(re=re||[]).push(a),a="",!1!==e.createErrors?(a+=" { keyword: 'additionalProperties' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { additionalProperty: '"+q+"' } ",!1!==e.opts.messages&&(a+=" , message: '",e.opts._errorDataPathProperty?a+="is an invalid additional property":a+="should NOT have additional properties",a+="' "),e.opts.verbose&&(a+=" , schema: false , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),a+=" } "):a+=" {} ";var M=a;a=re.pop(),!e.compositeRule&&l?e.async?a+=" throw new ValidationError(["+M+"]); ":a+=" validate.errors = ["+M+"]; return false; ":a+=" var err = "+M+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",c=V,l&&(a+=" break; ")}else if(S)if("failing"==j){a+=" var "+u+" = errors;  ";var H=e.compositeRule;e.compositeRule=h.compositeRule=!0,h.schema=x,h.schemaPath=e.schemaPath+".additionalProperties",h.errSchemaPath=e.errSchemaPath+"/additionalProperties",h.errorPath=e.opts._errorDataPathProperty?e.errorPath:e.util.getPathExpr(e.errorPath,f,e.opts.jsonPointers);var Q=d+"["+f+"]";h.dataPathArr[g]=f;var B=e.validate(h);h.baseId=A,e.util.varOccurences(B,y)<2?a+=" "+e.util.varReplace(B,y,Q)+" ":a+=" var "+y+" = "+Q+"; "+B+" ",a+=" if (!"+m+") { errors = "+u+"; if (validate.errors !== null) { if (errors) validate.errors.length = errors; else validate.errors = null; } delete "+d+"["+f+"]; }  ",e.compositeRule=h.compositeRule=H}else{h.schema=x,h.schemaPath=e.schemaPath+".additionalProperties",h.errSchemaPath=e.errSchemaPath+"/additionalProperties",h.errorPath=e.opts._errorDataPathProperty?e.errorPath:e.util.getPathExpr(e.errorPath,f,e.opts.jsonPointers);Q=d+"["+f+"]";h.dataPathArr[g]=f;B=e.validate(h);h.baseId=A,e.util.varOccurences(B,y)<2?a+=" "+e.util.varReplace(B,y,Q)+" ":a+=" var "+y+" = "+Q+"; "+B+" ",l&&(a+=" if (!"+m+") break; ")}e.errorPath=U}P&&(a+=" } "),a+=" }  ",l&&(a+=" if ("+m+") { ",p+="}")}var G=e.opts.useDefaults&&!e.compositeRule;if(_.length){var K=_;if(K)for(var J,W=-1,Z=K.length-1;W<Z;){var Y=o[J=K[W+=1]];if(e.opts.strictKeywords?"object"==typeof Y&&Object.keys(Y).length>0:e.util.schemaHasRules(Y,e.RULES.all)){var X=e.util.getProperty(J),ee=(Q=d+X,G&&void 0!==Y.default);h.schema=Y,h.schemaPath=n+X,h.errSchemaPath=c+"/"+e.util.escapeFragment(J),h.errorPath=e.util.getPath(e.errorPath,J,e.opts.jsonPointers),h.dataPathArr[g]=e.util.toQuotedString(J);B=e.validate(h);if(h.baseId=A,e.util.varOccurences(B,y)<2){B=e.util.varReplace(B,y,Q);var te=Q}else{te=y;a+=" var "+y+" = "+Q+"; "}if(ee)a+=" "+B+" ";else{if(F&&F[J]){a+=" if ( "+te+" === undefined ",O&&(a+=" || ! Object.prototype.hasOwnProperty.call("+d+", '"+e.util.escapeQuotes(J)+"') "),a+=") { "+m+" = false; ";U=e.errorPath,V=c;var re,ae=e.util.escapeQuotes(J);e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPath(U,J,e.opts.jsonPointers)),c=e.errSchemaPath+"/required",(re=re||[]).push(a),a="",!1!==e.createErrors?(a+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { missingProperty: '"+ae+"' } ",!1!==e.opts.messages&&(a+=" , message: '",e.opts._errorDataPathProperty?a+="is a required property":a+="should have required property \\'"+ae+"\\'",a+="' "),e.opts.verbose&&(a+=" , schema: validate.schema"+n+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),a+=" } "):a+=" {} ";M=a;a=re.pop(),!e.compositeRule&&l?e.async?a+=" throw new ValidationError(["+M+"]); ":a+=" validate.errors = ["+M+"]; return false; ":a+=" var err = "+M+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",c=V,e.errorPath=U,a+=" } else { "}else l?(a+=" if ( "+te+" === undefined ",O&&(a+=" || ! Object.prototype.hasOwnProperty.call("+d+", '"+e.util.escapeQuotes(J)+"') "),a+=") { "+m+" = true; } else { "):(a+=" if ("+te+" !== undefined ",O&&(a+=" &&   Object.prototype.hasOwnProperty.call("+d+", '"+e.util.escapeQuotes(J)+"') "),a+=" ) { ");a+=" "+B+" } "}}l&&(a+=" if ("+m+") { ",p+="}")}}if(k.length){var ie=k;if(ie)for(var se,oe=-1,ne=ie.length-1;oe<ne;){Y=w[se=ie[oe+=1]];if(e.opts.strictKeywords?"object"==typeof Y&&Object.keys(Y).length>0:e.util.schemaHasRules(Y,e.RULES.all)){h.schema=Y,h.schemaPath=e.schemaPath+".patternProperties"+e.util.getProperty(se),h.errSchemaPath=e.errSchemaPath+"/patternProperties/"+e.util.escapeFragment(se),a+=O?" "+b+" = "+b+" || Object.keys("+d+"); for (var "+v+"=0; "+v+"<"+b+".length; "+v+"++) { var "+f+" = "+b+"["+v+"]; ":" for (var "+f+" in "+d+") { ",a+=" if ("+e.usePattern(se)+".test("+f+")) { ",h.errorPath=e.util.getPathExpr(e.errorPath,f,e.opts.jsonPointers);Q=d+"["+f+"]";h.dataPathArr[g]=f;B=e.validate(h);h.baseId=A,e.util.varOccurences(B,y)<2?a+=" "+e.util.varReplace(B,y,Q)+" ":a+=" var "+y+" = "+Q+"; "+B+" ",l&&(a+=" if (!"+m+") break; "),a+=" } ",l&&(a+=" else "+m+" = true; "),a+=" }  ",l&&(a+=" if ("+m+") { ",p+="}")}}}return l&&(a+=" "+p+" if ("+u+" == errors) {"),a},propertyNames:function(e,t,r){var a=" ",i=e.level,s=e.dataLevel,o=e.schema[t],n=e.schemaPath+e.util.getProperty(t),c=e.errSchemaPath+"/"+t,l=!e.opts.allErrors,d="data"+(s||""),u="errs__"+i,h=e.util.copy(e);h.level++;var p="valid"+h.level;if(a+="var "+u+" = errors;",e.opts.strictKeywords?"object"==typeof o&&Object.keys(o).length>0:e.util.schemaHasRules(o,e.RULES.all)){h.schema=o,h.schemaPath=n,h.errSchemaPath=c;var m="key"+i,f="idx"+i,v="i"+i,g="' + "+m+" + '",y="data"+(h.dataLevel=e.dataLevel+1),b="dataProperties"+i,_=e.opts.ownProperties,w=e.baseId;_&&(a+=" var "+b+" = undefined; "),a+=_?" "+b+" = "+b+" || Object.keys("+d+"); for (var "+f+"=0; "+f+"<"+b+".length; "+f+"++) { var "+m+" = "+b+"["+f+"]; ":" for (var "+m+" in "+d+") { ",a+=" var startErrs"+i+" = errors; ";var k=m,x=e.compositeRule;e.compositeRule=h.compositeRule=!0;var P=e.validate(h);h.baseId=w,e.util.varOccurences(P,y)<2?a+=" "+e.util.varReplace(P,y,k)+" ":a+=" var "+y+" = "+k+"; "+P+" ",e.compositeRule=h.compositeRule=x,a+=" if (!"+p+") { for (var "+v+"=startErrs"+i+"; "+v+"<errors; "+v+"++) { vErrors["+v+"].propertyName = "+m+"; }   var err =   ",!1!==e.createErrors?(a+=" { keyword: 'propertyNames' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { propertyName: '"+g+"' } ",!1!==e.opts.messages&&(a+=" , message: 'property name \\'"+g+"\\' is invalid' "),e.opts.verbose&&(a+=" , schema: validate.schema"+n+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),a+=" } "):a+=" {} ",a+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&l&&(e.async?a+=" throw new ValidationError(vErrors); ":a+=" validate.errors = vErrors; return false; "),l&&(a+=" break; "),a+=" } }"}return l&&(a+="  if ("+u+" == errors) {"),a},required:function(e,t,r){var a=" ",i=e.level,s=e.dataLevel,o=e.schema[t],n=e.schemaPath+e.util.getProperty(t),c=e.errSchemaPath+"/"+t,l=!e.opts.allErrors,d="data"+(s||""),u="valid"+i,h=e.opts.$data&&o&&o.$data;h&&(a+=" var schema"+i+" = "+e.util.getData(o.$data,s,e.dataPathArr)+"; ");var p="schema"+i;if(!h)if(o.length<e.opts.loopRequired&&e.schema.properties&&Object.keys(e.schema.properties).length){var m=[],f=o;if(f)for(var v,g=-1,y=f.length-1;g<y;){v=f[g+=1];var b=e.schema.properties[v];b&&(e.opts.strictKeywords?"object"==typeof b&&Object.keys(b).length>0:e.util.schemaHasRules(b,e.RULES.all))||(m[m.length]=v)}}else m=o;if(h||m.length){var _=e.errorPath,w=h||m.length>=e.opts.loopRequired,k=e.opts.ownProperties;if(l)if(a+=" var missing"+i+"; ",w){h||(a+=" var "+p+" = validate.schema"+n+"; ");var x="' + "+(O="schema"+i+"["+(S="i"+i)+"]")+" + '";e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPathExpr(_,O,e.opts.jsonPointers)),a+=" var "+u+" = true; ",h&&(a+=" if (schema"+i+" === undefined) "+u+" = true; else if (!Array.isArray(schema"+i+")) "+u+" = false; else {"),a+=" for (var "+S+" = 0; "+S+" < "+p+".length; "+S+"++) { "+u+" = "+d+"["+p+"["+S+"]] !== undefined ",k&&(a+=" &&   Object.prototype.hasOwnProperty.call("+d+", "+p+"["+S+"]) "),a+="; if (!"+u+") break; } ",h&&(a+="  }  "),a+="  if (!"+u+") {   ",($=$||[]).push(a),a="",!1!==e.createErrors?(a+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { missingProperty: '"+x+"' } ",!1!==e.opts.messages&&(a+=" , message: '",e.opts._errorDataPathProperty?a+="is a required property":a+="should have required property \\'"+x+"\\'",a+="' "),e.opts.verbose&&(a+=" , schema: validate.schema"+n+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),a+=" } "):a+=" {} ";var P=a;a=$.pop(),!e.compositeRule&&l?e.async?a+=" throw new ValidationError(["+P+"]); ":a+=" validate.errors = ["+P+"]; return false; ":a+=" var err = "+P+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",a+=" } else { "}else{a+=" if ( ";var E=m;if(E)for(var S=-1,j=E.length-1;S<j;){C=E[S+=1],S&&(a+=" || "),a+=" ( ( "+(D=d+(R=e.util.getProperty(C)))+" === undefined ",k&&(a+=" || ! Object.prototype.hasOwnProperty.call("+d+", '"+e.util.escapeQuotes(C)+"') "),a+=") && (missing"+i+" = "+e.util.toQuotedString(e.opts.jsonPointers?C:R)+") ) "}a+=") {  ";var $;x="' + "+(O="missing"+i)+" + '";e.opts._errorDataPathProperty&&(e.errorPath=e.opts.jsonPointers?e.util.getPathExpr(_,O,!0):_+" + "+O),($=$||[]).push(a),a="",!1!==e.createErrors?(a+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { missingProperty: '"+x+"' } ",!1!==e.opts.messages&&(a+=" , message: '",e.opts._errorDataPathProperty?a+="is a required property":a+="should have required property \\'"+x+"\\'",a+="' "),e.opts.verbose&&(a+=" , schema: validate.schema"+n+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),a+=" } "):a+=" {} ";P=a;a=$.pop(),!e.compositeRule&&l?e.async?a+=" throw new ValidationError(["+P+"]); ":a+=" validate.errors = ["+P+"]; return false; ":a+=" var err = "+P+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",a+=" } else { "}else if(w){h||(a+=" var "+p+" = validate.schema"+n+"; ");var O;x="' + "+(O="schema"+i+"["+(S="i"+i)+"]")+" + '";e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPathExpr(_,O,e.opts.jsonPointers)),h&&(a+=" if ("+p+" && !Array.isArray("+p+")) {  var err =   ",!1!==e.createErrors?(a+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { missingProperty: '"+x+"' } ",!1!==e.opts.messages&&(a+=" , message: '",e.opts._errorDataPathProperty?a+="is a required property":a+="should have required property \\'"+x+"\\'",a+="' "),e.opts.verbose&&(a+=" , schema: validate.schema"+n+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),a+=" } "):a+=" {} ",a+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } else if ("+p+" !== undefined) { "),a+=" for (var "+S+" = 0; "+S+" < "+p+".length; "+S+"++) { if ("+d+"["+p+"["+S+"]] === undefined ",k&&(a+=" || ! Object.prototype.hasOwnProperty.call("+d+", "+p+"["+S+"]) "),a+=") {  var err =   ",!1!==e.createErrors?(a+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { missingProperty: '"+x+"' } ",!1!==e.opts.messages&&(a+=" , message: '",e.opts._errorDataPathProperty?a+="is a required property":a+="should have required property \\'"+x+"\\'",a+="' "),e.opts.verbose&&(a+=" , schema: validate.schema"+n+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),a+=" } "):a+=" {} ",a+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } } ",h&&(a+="  }  ")}else{var A=m;if(A)for(var C,F=-1,z=A.length-1;F<z;){C=A[F+=1];var R=e.util.getProperty(C),D=(x=e.util.escapeQuotes(C),d+R);e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPath(_,C,e.opts.jsonPointers)),a+=" if ( "+D+" === undefined ",k&&(a+=" || ! Object.prototype.hasOwnProperty.call("+d+", '"+e.util.escapeQuotes(C)+"') "),a+=") {  var err =   ",!1!==e.createErrors?(a+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { missingProperty: '"+x+"' } ",!1!==e.opts.messages&&(a+=" , message: '",e.opts._errorDataPathProperty?a+="is a required property":a+="should have required property \\'"+x+"\\'",a+="' "),e.opts.verbose&&(a+=" , schema: validate.schema"+n+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),a+=" } "):a+=" {} ",a+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } "}}e.errorPath=_}else l&&(a+=" if (true) {");return a},uniqueItems:function(e,t,r){var a,i=" ",s=e.level,o=e.dataLevel,n=e.schema[t],c=e.schemaPath+e.util.getProperty(t),l=e.errSchemaPath+"/"+t,d=!e.opts.allErrors,u="data"+(o||""),h="valid"+s,p=e.opts.$data&&n&&n.$data;if(p?(i+=" var schema"+s+" = "+e.util.getData(n.$data,o,e.dataPathArr)+"; ",a="schema"+s):a=n,(n||p)&&!1!==e.opts.uniqueItems){p&&(i+=" var "+h+"; if ("+a+" === false || "+a+" === undefined) "+h+" = true; else if (typeof "+a+" != 'boolean') "+h+" = false; else { "),i+=" var i = "+u+".length , "+h+" = true , j; if (i > 1) { ";var m=e.schema.items&&e.schema.items.type,f=Array.isArray(m);if(!m||"object"==m||"array"==m||f&&(m.indexOf("object")>=0||m.indexOf("array")>=0))i+=" outer: for (;i--;) { for (j = i; j--;) { if (equal("+u+"[i], "+u+"[j])) { "+h+" = false; break outer; } } } ";else{i+=" var itemIndices = {}, item; for (;i--;) { var item = "+u+"[i]; ";var v="checkDataType"+(f?"s":"");i+=" if ("+e.util[v](m,"item",e.opts.strictNumbers,!0)+") continue; ",f&&(i+=" if (typeof item == 'string') item = '\"' + item; "),i+=" if (typeof itemIndices[item] == 'number') { "+h+" = false; j = itemIndices[item]; break; } itemIndices[item] = i; } "}i+=" } ",p&&(i+="  }  "),i+=" if (!"+h+") {   ";var g=g||[];g.push(i),i="",!1!==e.createErrors?(i+=" { keyword: 'uniqueItems' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { i: i, j: j } ",!1!==e.opts.messages&&(i+=" , message: 'should NOT have duplicate items (items ## ' + j + ' and ' + i + ' are identical)' "),e.opts.verbose&&(i+=" , schema:  ",i+=p?"validate.schema"+c:""+n,i+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+u+" "),i+=" } "):i+=" {} ";var y=i;i=g.pop(),!e.compositeRule&&d?e.async?i+=" throw new ValidationError(["+y+"]); ":i+=" validate.errors = ["+y+"]; return false; ":i+=" var err = "+y+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+=" } ",d&&(i+=" else { ")}else d&&(i+=" if (true) { ");return i},validate:Cn},mc=Zo.toHash,fc=["multipleOf","maximum","exclusiveMaximum","minimum","exclusiveMinimum","maxLength","minLength","pattern","additionalItems","maxItems","minItems","uniqueItems","maxProperties","minProperties","required","additionalProperties","enum","format","const"],vc=function(e,t){for(var r=0;r<t.length;r++){e=JSON.parse(JSON.stringify(e));var a,i=t[r].split("/"),s=e;for(a=1;a<i.length;a++)s=s[i[a]];for(a=0;a<fc.length;a++){var o=fc[a],n=s[o];n&&(s[o]={anyOf:[n,{$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"}]})}}return e},gc=jn.MissingRef,yc=function e(t,r,a){var i=this;if("function"!=typeof this._opts.loadSchema)throw new Error("options.loadSchema should be a function");"function"==typeof r&&(a=r,r=void 0);var s=o(t).then((function(){var e=i._addSchema(t,void 0,r);return e.validate||function e(t){try{return i._compile(t)}catch(e){if(e instanceof gc)return a(e);throw e}function a(a){var s=a.missingSchema;if(l(s))throw new Error("Schema "+s+" is loaded but "+a.missingRef+" cannot be resolved");var n=i._loadingSchemas[s];return n||(n=i._loadingSchemas[s]=i._opts.loadSchema(s)).then(c,c),n.then((function(e){if(!l(s))return o(e).then((function(){l(s)||i.addSchema(e,s,void 0,r)}))})).then((function(){return e(t)}));function c(){delete i._loadingSchemas[s]}function l(e){return i._refs[e]||i._schemas[e]}}}(e)}));a&&s.then((function(e){a(null,e)}),a);return s;function o(t){var r=t.$schema;return r&&!i.getSchema(r)?e.call(i,{$ref:r},!0):Promise.resolve()}};var bc=function(e,t,r){var a,i,s=" ",o=e.level,n=e.dataLevel,c=e.schema[t],l=e.schemaPath+e.util.getProperty(t),d=e.errSchemaPath+"/"+t,u=!e.opts.allErrors,h="data"+(n||""),p="valid"+o,m="errs__"+o,f=e.opts.$data&&c&&c.$data;f?(s+=" var schema"+o+" = "+e.util.getData(c.$data,n,e.dataPathArr)+"; ",i="schema"+o):i=c;var v,g,y,b,_,w="definition"+o,k=this.definition,x="";if(f&&k.$data){_="keywordValidate"+o;var P=k.validateSchema;s+=" var "+w+" = RULES.custom['"+t+"'].definition; var "+_+" = "+w+".validate;"}else{if(!(b=e.useCustomRule(this,c,e.schema,e)))return;i="validate.schema"+l,_=b.code,v=k.compile,g=k.inline,y=k.macro}var E=_+".errors",S="i"+o,j="ruleErr"+o,$=k.async;if($&&!e.async)throw new Error("async keyword in sync schema");if(g||y||(s+=E+" = null;"),s+="var "+m+" = errors;var "+p+";",f&&k.$data&&(x+="}",s+=" if ("+i+" === undefined) { "+p+" = true; } else { ",P&&(x+="}",s+=" "+p+" = "+w+".validateSchema("+i+"); if ("+p+") { ")),g)k.statements?s+=" "+b.validate+" ":s+=" "+p+" = "+b.validate+"; ";else if(y){var O=e.util.copy(e);x="";O.level++;var A="valid"+O.level;O.schema=b.validate,O.schemaPath="";var C=e.compositeRule;e.compositeRule=O.compositeRule=!0;var F=e.validate(O).replace(/validate\.schema/g,_);e.compositeRule=O.compositeRule=C,s+=" "+F}else{(T=T||[]).push(s),s="",s+="  "+_+".call( ",e.opts.passContext?s+="this":s+="self",v||!1===k.schema?s+=" , "+h+" ":s+=" , "+i+" , "+h+" , validate.schema"+e.schemaPath+" ",s+=" , (dataPath || '')",'""'!=e.errorPath&&(s+=" + "+e.errorPath);var z=n?"data"+(n-1||""):"parentData",R=n?e.dataPathArr[n]:"parentDataProperty",D=s+=" , "+z+" , "+R+" , rootData )  ";s=T.pop(),!1===k.errors?(s+=" "+p+" = ",$&&(s+="await "),s+=D+"; "):s+=$?" var "+(E="customErrors"+o)+" = null; try { "+p+" = await "+D+"; } catch (e) { "+p+" = false; if (e instanceof ValidationError) "+E+" = e.errors; else throw e; } ":" "+E+" = null; "+p+" = "+D+"; "}if(k.modifying&&(s+=" if ("+z+") "+h+" = "+z+"["+R+"];"),s+=""+x,k.valid)u&&(s+=" if (true) { ");else{var T;s+=" if ( ",void 0===k.valid?(s+=" !",s+=y?""+A:""+p):s+=" "+!k.valid+" ",s+=") { ",a=this.keyword,(T=T||[]).push(s),s="",(T=T||[]).push(s),s="",!1!==e.createErrors?(s+=" { keyword: '"+(a||"custom")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(d)+" , params: { keyword: '"+this.keyword+"' } ",!1!==e.opts.messages&&(s+=" , message: 'should pass \""+this.keyword+"\" keyword validation' "),e.opts.verbose&&(s+=" , schema: validate.schema"+l+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+h+" "),s+=" } "):s+=" {} ";var N=s;s=T.pop(),!e.compositeRule&&u?e.async?s+=" throw new ValidationError(["+N+"]); ":s+=" validate.errors = ["+N+"]; return false; ":s+=" var err = "+N+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ";var I=s;s=T.pop(),g?k.errors?"full"!=k.errors&&(s+="  for (var "+S+"="+m+"; "+S+"<errors; "+S+"++) { var "+j+" = vErrors["+S+"]; if ("+j+".dataPath === undefined) "+j+".dataPath = (dataPath || '') + "+e.errorPath+"; if ("+j+".schemaPath === undefined) { "+j+'.schemaPath = "'+d+'"; } ',e.opts.verbose&&(s+=" "+j+".schema = "+i+"; "+j+".data = "+h+"; "),s+=" } "):!1===k.errors?s+=" "+I+" ":(s+=" if ("+m+" == errors) { "+I+" } else {  for (var "+S+"="+m+"; "+S+"<errors; "+S+"++) { var "+j+" = vErrors["+S+"]; if ("+j+".dataPath === undefined) "+j+".dataPath = (dataPath || '') + "+e.errorPath+"; if ("+j+".schemaPath === undefined) { "+j+'.schemaPath = "'+d+'"; } ',e.opts.verbose&&(s+=" "+j+".schema = "+i+"; "+j+".data = "+h+"; "),s+=" } } "):y?(s+="   var err =   ",!1!==e.createErrors?(s+=" { keyword: '"+(a||"custom")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(d)+" , params: { keyword: '"+this.keyword+"' } ",!1!==e.opts.messages&&(s+=" , message: 'should pass \""+this.keyword+"\" keyword validation' "),e.opts.verbose&&(s+=" , schema: validate.schema"+l+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+h+" "),s+=" } "):s+=" {} ",s+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&u&&(e.async?s+=" throw new ValidationError(vErrors); ":s+=" validate.errors = vErrors; return false; ")):!1===k.errors?s+=" "+I+" ":(s+=" if (Array.isArray("+E+")) { if (vErrors === null) vErrors = "+E+"; else vErrors = vErrors.concat("+E+"); errors = vErrors.length;  for (var "+S+"="+m+"; "+S+"<errors; "+S+"++) { var "+j+" = vErrors["+S+"]; if ("+j+".dataPath === undefined) "+j+".dataPath = (dataPath || '') + "+e.errorPath+";  "+j+'.schemaPath = "'+d+'";  ',e.opts.verbose&&(s+=" "+j+".schema = "+i+"; "+j+".data = "+h+"; "),s+=" } } else { "+I+" } "),s+=" } ",u&&(s+=" else { ")}return s},_c={$schema:"http://json-schema.org/draft-07/schema#",$id:"http://json-schema.org/draft-07/schema#",title:"Core schema meta-schema",definitions:{schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},type:["object","boolean"],properties:{$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},default:!0},wc={$id:"https://github.com/ajv-validator/ajv/blob/master/lib/definition_schema.js",definitions:{simpleTypes:_c.definitions.simpleTypes},type:"object",dependencies:{schema:["validate"],$data:["validate"],statements:["inline"],valid:{not:{required:["macro"]}}},properties:{type:_c.properties.type,schema:{type:"boolean"},statements:{type:"boolean"},dependencies:{type:"array",items:{type:"string"}},metaSchema:{type:"object"},modifying:{type:"boolean"},valid:{type:"boolean"},$data:{type:"boolean"},async:{type:"boolean"},errors:{anyOf:[{type:"boolean"},{const:"full"}]}}},kc=/^[a-z_$][a-z0-9_$-]*$/i,xc=function(e,t){var r=this.RULES;if(r.keywords[e])throw new Error("Keyword "+e+" is already defined");if(!kc.test(e))throw new Error("Keyword "+e+" is not a valid identifier");if(t){this.validateKeyword(t,!0);var a=t.type;if(Array.isArray(a))for(var i=0;i<a.length;i++)o(e,a[i],t);else o(e,a,t);var s=t.metaSchema;s&&(t.$data&&this._opts.$data&&(s={anyOf:[s,{$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"}]}),t.validateSchema=this.compile(s,!0))}function o(e,t,a){for(var i,s=0;s<r.length;s++){var o=r[s];if(o.type==t){i=o;break}}i||(i={type:t,rules:[]},r.push(i));var n={keyword:e,definition:a,custom:!0,code:bc,implements:a.implements};i.rules.push(n),r.custom[e]=n}return r.keywords[e]=r.all[e]=!0,this},Pc=function(e){var t=this.RULES.custom[e];return t?t.definition:this.RULES.keywords[e]||!1},Ec=function(e){var t=this.RULES;delete t.keywords[e],delete t.all[e],delete t.custom[e];for(var r=0;r<t.length;r++)for(var a=t[r].rules,i=0;i<a.length;i++)if(a[i].keyword==e){a.splice(i,1);break}return this},Sc=function e(t,r){e.errors=null;var a=this._validateKeyword=this._validateKeyword||this.compile(wc,!0);if(a(t))return!0;if(e.errors=a.errors,r)throw new Error("custom keyword definition is invalid: "+this.errorsText(a.errors));return!1};var jc={$schema:"http://json-schema.org/draft-07/schema#",$id:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",description:"Meta-schema for $data reference (JSON Schema extension proposal)",type:"object",required:["$data"],properties:{$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},additionalProperties:!1},$c=Fc;Fc.prototype.validate=function(e,t){var r;if("string"==typeof e){if(!(r=this.getSchema(e)))throw new Error('no schema with key or ref "'+e+'"')}else{var a=this._addSchema(e);r=a.validate||this._compile(a)}var i=r(t);!0!==r.$async&&(this.errors=r.errors);return i},Fc.prototype.compile=function(e,t){var r=this._addSchema(e,void 0,t);return r.validate||this._compile(r)},Fc.prototype.addSchema=function(e,t,r,a){if(Array.isArray(e)){for(var i=0;i<e.length;i++)this.addSchema(e[i],void 0,r,a);return this}var s=this._getId(e);if(void 0!==s&&"string"!=typeof s)throw new Error("schema id must be string");return Ic(this,t=mn.normalizeId(t||s)),this._schemas[t]=this._addSchema(e,r,a,!0),this},Fc.prototype.addMetaSchema=function(e,t,r){return this.addSchema(e,t,r,!0),this},Fc.prototype.validateSchema=function(e,t){var r=e.$schema;if(void 0!==r&&"string"!=typeof r)throw new Error("$schema must be a string");if(!(r=r||this._opts.defaultMeta||function(e){var t=e._opts.meta;return e._opts.defaultMeta="object"==typeof t?e._getId(t)||t:e.getSchema(Oc)?Oc:void 0,e._opts.defaultMeta}(this)))return this.logger.warn("meta-schema not available"),this.errors=null,!0;var a=this.validate(r,e);if(!a&&t){var i="schema is invalid: "+this.errorsText();if("log"!=this._opts.validateSchema)throw new Error(i);this.logger.error(i)}return a},Fc.prototype.getSchema=function(e){var t=zc(this,e);switch(typeof t){case"object":return t.validate||this._compile(t);case"string":return this.getSchema(t);case"undefined":return function(e,t){var r=mn.schema.call(e,{schema:{}},t);if(r){var a=r.schema,i=r.root,s=r.baseId,o=Rn.call(e,a,i,void 0,s);return e._fragments[t]=new hn({ref:t,fragment:!0,schema:a,root:i,baseId:s,validate:o}),o}}(this,e)}},Fc.prototype.removeSchema=function(e){if(e instanceof RegExp)return Rc(this,this._schemas,e),Rc(this,this._refs,e),this;switch(typeof e){case"undefined":return Rc(this,this._schemas),Rc(this,this._refs),this._cache.clear(),this;case"string":var t=zc(this,e);return t&&this._cache.del(t.cacheKey),delete this._schemas[e],delete this._refs[e],this;case"object":var r=this._opts.serialize,a=r?r(e):e;this._cache.del(a);var i=this._getId(e);i&&(i=mn.normalizeId(i),delete this._schemas[i],delete this._refs[i])}return this},Fc.prototype.addFormat=function(e,t){"string"==typeof t&&(t=new RegExp(t));return this._formats[e]=t,this},Fc.prototype.errorsText=function(e,t){if(!(e=e||this.errors))return"No errors";for(var r=void 0===(t=t||{}).separator?", ":t.separator,a=void 0===t.dataVar?"data":t.dataVar,i="",s=0;s<e.length;s++){var o=e[s];o&&(i+=a+o.dataPath+" "+o.message+r)}return i.slice(0,-r.length)},Fc.prototype._addSchema=function(e,t,r,a){if("object"!=typeof e&&"boolean"!=typeof e)throw new Error("schema should be object or boolean");var i=this._opts.serialize,s=i?i(e):e,o=this._cache.get(s);if(o)return o;a=a||!1!==this._opts.addUsedSchema;var n=mn.normalizeId(this._getId(e));n&&a&&Ic(this,n);var c,l=!1!==this._opts.validateSchema&&!t;l&&!(c=n&&n==mn.normalizeId(e.$schema))&&this.validateSchema(e,!0);var d=mn.ids.call(this,e),u=new hn({id:n,schema:e,localRefs:d,cacheKey:s,meta:r});"#"!=n[0]&&a&&(this._refs[n]=u);this._cache.put(s,u),l&&c&&this.validateSchema(e,!0);return u},Fc.prototype._compile=function(e,t){if(e.compiling)return e.validate=i,i.schema=e.schema,i.errors=null,i.root=t||i,!0===e.schema.$async&&(i.$async=!0),i;var r,a;e.compiling=!0,e.meta&&(r=this._opts,this._opts=this._metaOpts);try{a=Rn.call(this,e.schema,t,e.localRefs)}catch(t){throw delete e.validate,t}finally{e.compiling=!1,e.meta&&(this._opts=r)}return e.validate=a,e.refs=a.refs,e.refVal=a.refVal,e.root=a.root,a;function i(){var t=e.validate,r=t.apply(this,arguments);return i.errors=t.errors,r}},Fc.prototype.compileAsync=yc,Fc.prototype.addKeyword=xc,Fc.prototype.getKeyword=Pc,Fc.prototype.removeKeyword=Ec,Fc.prototype.validateKeyword=Sc,Fc.ValidationError=jn.Validation,Fc.MissingRefError=jn.MissingRef,Fc.$dataMetaSchema=vc;var Oc="http://json-schema.org/draft-07/schema",Ac=["removeAdditional","useDefaults","coerceTypes","strictDefaults"],Cc=["/properties"];function Fc(e){if(!(this instanceof Fc))return new Fc(e);var t,r;e=this._opts=Zo.copy(e)||{},function(e){var t=e._opts.logger;if(!1===t)e.logger={log:Lc,warn:Lc,error:Lc};else{if(void 0===t&&(t=console),!("object"==typeof t&&t.log&&t.warn&&t.error))throw new Error("logger must implement log, warn and error methods");e.logger=t}}(this),this._schemas={},this._refs={},this._fragments={},this._formats=tc(e.format),this._cache=e.cache||new Mn,this._loadingSchemas={},this._compilations=[],this.RULES=((t=[{type:"number",rules:[{maximum:["exclusiveMaximum"]},{minimum:["exclusiveMinimum"]},"multipleOf","format"]},{type:"string",rules:["maxLength","minLength","pattern","format"]},{type:"array",rules:["maxItems","minItems","items","contains","uniqueItems"]},{type:"object",rules:["maxProperties","minProperties","required","dependencies","propertyNames",{properties:["additionalProperties","patternProperties"]}]},{rules:["$ref","const","enum","not","anyOf","oneOf","allOf","if"]}]).all=mc(r=["type","$comment"]),t.types=mc(["number","integer","string","array","object","boolean","null"]),t.forEach((function(e){e.rules=e.rules.map((function(e){var a;if("object"==typeof e){var i=Object.keys(e)[0];a=e[i],e=i,a.forEach((function(e){r.push(e),t.all[e]=!0}))}return r.push(e),t.all[e]={keyword:e,code:pc[e],implements:a}})),t.all.$comment={keyword:"$comment",code:pc.$comment},e.type&&(t.types[e.type]=e)})),t.keywords=mc(r.concat(["$schema","$id","id","$data","$async","title","description","default","definitions","examples","readOnly","writeOnly","contentMediaType","contentEncoding","additionalItems","then","else"])),t.custom={},t),this._getId=function(e){switch(e.schemaId){case"auto":return Nc;case"id":return Dc;default:return Tc}}(e),e.loopRequired=e.loopRequired||1/0,"property"==e.errorDataPath&&(e._errorDataPathProperty=!0),void 0===e.serialize&&(e.serialize=An),this._metaOpts=function(e){for(var t=Zo.copy(e._opts),r=0;r<Ac.length;r++)delete t[Ac[r]];return t}(this),e.formats&&function(e){for(var t in e._opts.formats){var r=e._opts.formats[t];e.addFormat(t,r)}}(this),e.keywords&&function(e){for(var t in e._opts.keywords){var r=e._opts.keywords[t];e.addKeyword(t,r)}}(this),function(e){var t;e._opts.$data&&(t=jc,e.addMetaSchema(t,t.$id,!0));if(!1===e._opts.meta)return;var r=_c;e._opts.$data&&(r=vc(r,Cc));e.addMetaSchema(r,Oc,!0),e._refs["http://json-schema.org/schema"]=Oc}(this),"object"==typeof e.meta&&this.addMetaSchema(e.meta),e.nullable&&this.addKeyword("nullable",{metaSchema:{type:"boolean"}}),function(e){var t=e._opts.schemas;if(!t)return;if(Array.isArray(t))e.addSchema(t);else for(var r in t)e.addSchema(t[r],r)}(this)}function zc(e,t){return t=mn.normalizeId(t),e._schemas[t]||e._refs[t]||e._fragments[t]}function Rc(e,t,r){for(var a in t){var i=t[a];i.meta||r&&!r.test(a)||(e._cache.del(i.cacheKey),delete t[a])}}function Dc(e){return e.$id&&this.logger.warn("schema $id ignored",e.$id),e.id}function Tc(e){return e.id&&this.logger.warn("schema id ignored",e.id),e.$id}function Nc(e){if(e.$id&&e.id&&e.$id!=e.id)throw new Error("schema $id is different from id");return e.$id||e.id}function Ic(e,t){if(e._schemas[t]||e._refs[t])throw new Error('schema with key or id "'+t+'" already exists')}function Lc(){}const Uc=new $c({allErrors:!0,jsonPointers:!0}),qc={type:"object",properties:{type:{type:"string"},style:{},discover_existing:{type:"boolean"},standard_configuration:{type:"boolean"},title:{type:["boolean","string"]},am_pm:{type:"boolean"},time_step:{type:"integer",minimum:1,maximum:60},domains:{type:"object",additionalProperties:{type:["object","null"],properties:{icon:{type:"string"},actions:{type:"array",items:{type:"object",properties:{icon:{type:"string"},name:{type:"string"},service:{type:"string"},service_data:{type:"object"},variable:{type:"object",properties:{field:{type:"string"},name:{type:"string"},unit:{type:"string"},min:{type:"number",minimum:0},max:{type:"number",minimum:1},step:{type:"number",minimum:.1},optional:{type:"boolean"},show_percentage:{type:"boolean"}},required:["field"],additionalProperties:!1}},required:["service"],additionalProperties:!1}},include:{type:"array",items:{type:"string"}},exclude:{type:"array",items:{type:"string"}}},additionalProperties:!1}},entities:{type:"object",additionalProperties:{type:["object","null"],properties:{name:{type:"string"},icon:{type:"string"},actions:{type:"array",items:{type:"object",properties:{icon:{type:"string"},name:{type:"string"},service:{type:"string"},service_data:{type:"object"},variable:{type:"object",properties:{field:{type:"string"},name:{type:"string"},unit:{type:"string"},min:{type:"number",minimum:0},max:{type:"number",minimum:1},step:{type:"number",minimum:.1},optional:{type:"boolean"},show_percentage:{type:"boolean"}},required:["field"],additionalProperties:!1}},required:["service"],additionalProperties:!1}}},additionalProperties:!1}},groups:{type:"object",additionalProperties:{type:"object",properties:{name:{type:"string"},icon:{type:"string"},entities:{type:"array",items:{type:"string"}},domains:{type:"array",items:{type:"string"}}},additionalProperties:!1,oneOf:[{required:["entities"]},{required:["domains"]}]}}},additionalProperties:!1};const Vc={group:"",entity:"",action:"",newItem:!1,actionConfirmed:!1,editItem:"",time:{value:ko("12:00")},daysCustom:[],daysType:"daily",levelEnabled:null,level:null},Mc={sunrise:null,sunset:null,title:!0,am_pm:!1,time_step:10};let Hc=class extends ce{constructor(){super(...arguments),this._val=0,this.event=null,this.formatAmPm="false",this.stepSize=10,this.sunrise=0,this.sunset=0,this.maxOffset=2}set value(e){let t=this.value;this._val=e,this.requestUpdate("value",t)}get value(){return bo(this._val,this.stepSize)}updated(){let e=new CustomEvent("change",{detail:{event:this.event}});this.dispatchEvent(e)}firstUpdated(){"undefined"==this.event&&(this.event=null);let e=this.event?{stepSize:this.stepSize,signed:!0,max:60*this.maxOffset}:{stepSize:this.stepSize};this.value=wo(this.value,e)}render(){return L`
      <div class="time-picker">
        <div class="hours-up">
          <mwc-button @click="${this.hoursUp}">
            <ha-icon icon="hass:chevron-up"></ha-icon>
          </mwc-button>
        </div>
        <div class="hours">${this.getHours()}</div>
        <div class="hours-down">
          <mwc-button @click="${this.hoursDown}">
            <ha-icon icon="hass:chevron-down"></ha-icon>
          </mwc-button>
        </div>
        <div class="separator">:</div>
        <div class="minutes-up">
          <mwc-button @click="${this.minutesUp}">
            <ha-icon icon="hass:chevron-up"></ha-icon>
          </mwc-button>
        </div>
        <div class="minutes">${this.getMinutes()}</div>
        <div class="minutes-down">
          <mwc-button @click="${this.minutesDown}">
            <ha-icon icon="hass:chevron-down"></ha-icon>
          </mwc-button>
        </div>
        ${this.getSuffix()}
        <div class="options">
          ${this.getSunModeToggle()}
        </div>
      </div>
    `}getHours(){return _o(this.value,{amPm:"true"==this.formatAmPm}).hours}getMinutes(){return _o(this.value,{amPm:"true"==this.formatAmPm}).minutes}hoursUp(){let e=this.event?{stepSize:this.stepSize,signed:!0,max:60*this.maxOffset}:{stepSize:this.stepSize};this.value=wo(this._val+60,e)}hoursDown(){let e=this.event?{stepSize:this.stepSize,signed:!0,max:60*this.maxOffset}:{stepSize:this.stepSize};this.value=wo(this._val-60,e)}minutesUp(){let e=this.event?{stepSize:this.stepSize,signed:!0,max:60*this.maxOffset}:{stepSize:this.stepSize};this.value=wo(this._val+this.stepSize,e)}minutesDown(){let e=this.event?{stepSize:this.stepSize,signed:!0,max:60*this.maxOffset}:{stepSize:this.stepSize};this.value=wo(this._val-this.stepSize,e)}getSunModeToggle(){if(isNaN(this.sunrise)||isNaN(this.sunset))return L``;let e=Math.abs(wo(this._val-this.sunrise,{stepSize:this.stepSize,signed:!0})),t=Math.abs(wo(this._val-this.sunset,{stepSize:this.stepSize,signed:!0}));return this.event||e<=60*this.maxOffset||t<=60*this.maxOffset?L`
          <mwc-button @click="${this.toggleMode}" class="${this.event?"active":""}">
            <ha-icon icon="hass:theme-light-dark"></ha-icon>
          </mwc-button>
      `:L`
          <mwc-button disabled="disabled">
            <ha-icon icon="hass:theme-light-dark"></ha-icon>
          </mwc-button>
      `}getAmPm(){return _o(this._val,{amPm:"true"==this.formatAmPm}).amPm}getBeforeAfter(){return this.value<0?go("words.before"):go("words.after")}getSuffix(){return this.event?L`
      <div class="suffix">
        <mwc-button @click="${this.toggleBeforeAfter}">
          ${this.getBeforeAfter()}
        </mwc-button>
        <mwc-button @click="${this.toggleSunriseSunset}">
          <ha-icon icon="hass:${"sunrise"==this.event?"weather-sunny":"weather-night"}"></ha-icon>
        </mwc-button>
      </div>
    `:"true"==this.formatAmPm?L`
      <div class="suffix">
        <mwc-button @click="${this.toggleAmPm}">
          ${this.getAmPm()}
        </mwc-button>
      </div>
    `:L``}toggleAmPm(){this._val<720?this.value=wo(this._val+720):this.value=wo(this._val-720)}toggleBeforeAfter(){this.value=-this._val}toggleSunriseSunset(){this.event="sunrise"==this.event?"sunset":"sunrise",this.value=this._val}toggleMode(){let e=this.value;if(this.event){let t="sunrise"==this.event?this.sunrise:this.sunset;this.event=null,this.value=e+t}else{let t;Math.abs(e-this.sunrise)<Math.abs(e-this.sunset)?(t=this.sunrise,this.event="sunrise"):(t=this.sunset,this.event="sunset"),this.value=e-t}}};Hc.styles=oe`
      div.time-picker {
        display: grid;
        grid-template-columns: min-content min-content min-content 1fr min-content;
        grid-template-rows: min-content min-content min-content;
        grid-template-areas: "hours-up   .         minutes-up   suffix options"
                             "hours      separator minutes      suffix options"
                             "hours-down .         minutes-down suffix options";
        grid-gap: 10px 0px;
        align-items: center;
      }

      div.hours-up { grid-area: hours-up; }
      div.hours { grid-area: hours; }
      div.hours-down { grid-area: hours-down; }
      div.separator { grid-area: separator; }
      div.minutes-up { grid-area: minutes-up; }
      div.minutes { grid-area: minutes; }
      div.minutes-down { grid-area: minutes-down; }
      div.suffix { grid-area: suffix; flex-grow: 1; }
      div.options { grid-area: options; }

      div.hours-up, div.hours-down, div.minutes-up, div.minutes-down {
        --mdc-icon-size: 42px;
      }

      div.hours, div.minutes {
        font-size: 42px;
        text-align: center;
      }

      div.separator {
        font-size: 36px;
      }

      div.suffix mwc-button {
        --mdc-typography-button-font-size: 16px;
        --mdc-icon-size: 32px;
      }

      mwc-button.active {
        background: var(--primary-color);
        --mdc-theme-primary: var(--text-primary-color);
        border-radius: 4px;
      }
  `,t([Y({type:Number})],Hc.prototype,"value",null),t([Y({type:String})],Hc.prototype,"event",void 0),t([Y({type:String})],Hc.prototype,"formatAmPm",void 0),t([Y({type:Number})],Hc.prototype,"stepSize",void 0),t([Y({type:Number})],Hc.prototype,"sunrise",void 0),t([Y({type:Number})],Hc.prototype,"sunset",void 0),Hc=t([W("time-picker")],Hc);const Qc=customElements.get("paper-slider");customElements.define("ha-paper-slider",class extends Qc{static get template(){const e=document.createElement("template");e.innerHTML=Qc.template.innerHTML;const t=document.createElement("style");return t.innerHTML='\n      .pin > .slider-knob > .slider-knob-inner {\n        font-size:  var(--ha-paper-slider-pin-font-size, 10px);\n        line-height: normal;\n      }\n\n      .disabled.ring > .slider-knob > .slider-knob-inner {\n        background-color: var(--paper-slider-disabled-knob-color, var(--paper-grey-400));\n        border: 2px solid var(--paper-slider-disabled-knob-color, var(--paper-grey-400));\n      }\n\n      .pin > .slider-knob > .slider-knob-inner::before {\n        top: unset;\n        margin-left: unset;\n\n        bottom: calc(15px + var(--calculated-paper-slider-height)/2);\n        left: 50%;\n        width: 2.2em;\n        height: 2.2em;\n\n        -webkit-transform-origin: left bottom;\n        transform-origin: left bottom;\n        -webkit-transform: rotate(-45deg) scale(0) translate(0);\n        transform: rotate(-45deg) scale(0) translate(0);\n      }\n\n      .pin.expand > .slider-knob > .slider-knob-inner::before {\n        -webkit-transform: rotate(-45deg) scale(1) translate(7px, -7px);\n        transform: rotate(-45deg) scale(1) translate(7px, -7px);\n      }\n\n      .pin > .slider-knob > .slider-knob-inner::after {\n        top: unset;\n        font-size: unset;\n\n        bottom: calc(15px + var(--calculated-paper-slider-height)/2);\n        left: 50%;\n        margin-left: -1.1em;\n        width: 2.2em;\n        height: 2.1em;\n\n        -webkit-transform-origin: center bottom;\n        transform-origin: center bottom;\n        -webkit-transform: scale(0) translate(0);\n        transform: scale(0) translate(0);\n      }\n\n      .pin.expand > .slider-knob > .slider-knob-inner::after {\n        -webkit-transform: scale(1) translate(0, -10px);\n        transform: scale(1) translate(0, -10px);\n      }\n\n      :host([dir="rtl"]) .pin.expand > .slider-knob > .slider-knob-inner::after {\n        -webkit-transform: scale(1) translate(0, -17px) scaleX(-1) !important;\n        transform: scale(1) translate(0, -17px) scaleX(-1) !important;\n        }\n\n        .slider-input {\n          width: 54px;\n        }\n    ',e.content.appendChild(t),e}});
/**
    @license
    Copyright 2018 Google Inc. All Rights Reserved.

    Licensed under the Apache License, Version 2.0 (the "License");
    you may not use this file except in compliance with the License.
    You may obtain a copy of the License at

        http://www.apache.org/licenses/LICENSE-2.0

    Unless required by applicable law or agreed to in writing, software
    distributed under the License is distributed on an "AS IS" BASIS,
    WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
    See the License for the specific language governing permissions and
    limitations under the License.
    */
const Bc=()=>{},Gc={get passive(){return!1}};document.addEventListener("x",Bc,Gc),document.removeEventListener("x",Bc);
/**
    @license
    Copyright 2018 Google Inc. All Rights Reserved.

    Licensed under the Apache License, Version 2.0 (the "License");
    you may not use this file except in compliance with the License.
    You may obtain a copy of the License at

        http://www.apache.org/licenses/LICENSE-2.0

    Unless required by applicable law or agreed to in writing, software
    distributed under the License is distributed on an "AS IS" BASIS,
    WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
    See the License for the specific language governing permissions and
    limitations under the License.
    */
class Kc extends ce{createFoundation(){void 0!==this.mdcFoundation&&this.mdcFoundation.destroy(),this.mdcFoundationClass&&(this.mdcFoundation=new this.mdcFoundationClass(this.createAdapter()),this.mdcFoundation.init())}firstUpdated(){this.createFoundation()}}
/**
    @license
    Copyright 2018 Google Inc. All Rights Reserved.

    Licensed under the Apache License, Version 2.0 (the "License");
    you may not use this file except in compliance with the License.
    You may obtain a copy of the License at

        http://www.apache.org/licenses/LICENSE-2.0

    Unless required by applicable law or agreed to in writing, software
    distributed under the License is distributed on an "AS IS" BASIS,
    WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
    See the License for the specific language governing permissions and
    limitations under the License.
    */class Jc extends Kc{createRenderRoot(){return this.attachShadow({mode:"open",delegatesFocus:!0})}click(){this.formElement&&(this.formElement.focus(),this.formElement.click())}setAriaLabel(e){this.formElement&&this.formElement.setAttribute("aria-label",e)}firstUpdated(){super.firstUpdated(),this.mdcRoot.addEventListener("change",e=>{this.dispatchEvent(new Event("change",e))})}}
/**
    @license
    Copyright 2020 Google Inc. All Rights Reserved.

    Licensed under the Apache License, Version 2.0 (the "License");
    you may not use this file except in compliance with the License.
    You may obtain a copy of the License at

        http://www.apache.org/licenses/LICENSE-2.0

    Unless required by applicable law or agreed to in writing, software
    distributed under the License is distributed on an "AS IS" BASIS,
    WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
    See the License for the specific language governing permissions and
    limitations under the License.
    */class Wc{constructor(e){this.startPress=t=>{e().then(e=>{e&&e.startPress(t)})},this.endPress=()=>{e().then(e=>{e&&e.endPress()})},this.startFocus=()=>{e().then(e=>{e&&e.startFocus()})},this.endFocus=()=>{e().then(e=>{e&&e.endFocus()})},this.startHover=()=>{e().then(e=>{e&&e.startHover()})},this.endHover=()=>{e().then(e=>{e&&e.endHover()})}}}
/**
     * @license
     * Copyright (c) 2018 The Polymer Project Authors. All rights reserved.
     * This code may only be used under the BSD style license found at
     * http://polymer.github.io/LICENSE.txt
     * The complete set of authors may be found at
     * http://polymer.github.io/AUTHORS.txt
     * The complete set of contributors may be found at
     * http://polymer.github.io/CONTRIBUTORS.txt
     * Code distributed by Google as part of the polymer project is also
     * subject to an additional IP rights grant found at
     * http://polymer.github.io/PATENTS.txt
     */class Zc{constructor(e){this.classes=new Set,this.changed=!1,this.element=e;const t=(e.getAttribute("class")||"").split(/\s+/);for(const e of t)this.classes.add(e)}add(e){this.classes.add(e),this.changed=!0}remove(e){this.classes.delete(e),this.changed=!0}commit(){if(this.changed){let e="";this.classes.forEach(t=>e+=t+" "),this.element.setAttribute("class",e)}}}const Yc=new WeakMap,Xc=v(e=>t=>{if(!(t instanceof j)||t instanceof C||"class"!==t.committer.name||t.committer.parts.length>1)throw new Error("The `classMap` directive must be used in the `class` attribute and must be the only part in the attribute.");const{committer:r}=t,{element:a}=r;let i=Yc.get(t);void 0===i&&(a.setAttribute("class",r.strings.join(" ")),Yc.set(t,i=new Set));const s=a.classList||new Zc(a);i.forEach(t=>{t in e||(s.remove(t),i.delete(t))});for(const t in e){const r=e[t];r!=i.has(t)&&(r?(s.add(t),i.add(t)):(s.remove(t),i.delete(t)))}"function"==typeof s.commit&&s.commit()}),el=new WeakMap,tl=v(e=>t=>{const r=el.get(t);if(void 0===e&&t instanceof j){if(void 0!==r||!el.has(t)){const e=t.committer.name;t.committer.element.removeAttribute(e)}}else e!==r&&t.setValue(e);el.set(t,e)});class rl extends Jc{constructor(){super(...arguments),this.checked=!1,this.indeterminate=!1,this.disabled=!1,this.value="",this.reducedTouchTarget=!1,this.animationClass="",this.shouldRenderRipple=!1,this.focused=!1,this.mdcFoundationClass=void 0,this.mdcFoundation=void 0,this.rippleElement=null,this.rippleHandlers=new Wc(()=>(this.shouldRenderRipple=!0,this.ripple.then(e=>this.rippleElement=e),this.ripple))}createAdapter(){return{}}update(e){const t=e.get("indeterminate"),r=e.get("checked"),a=e.get("disabled");if(void 0!==t||void 0!==r||void 0!==a){const e=this.calculateAnimationStateName(!!r,!!t,!!a),i=this.calculateAnimationStateName(this.checked,this.indeterminate,this.disabled);this.animationClass=`${e}-${i}`}super.update(e)}calculateAnimationStateName(e,t,r){return r?"disabled":t?"indeterminate":e?"checked":"unchecked"}renderRipple(){const e=this.indeterminate||this.checked;return L`${this.shouldRenderRipple?L`
        <mwc-ripple
          .accent="${e}"
          .disabled="${this.disabled}"
          unbounded>
        </mwc-ripple>`:L``}`}render(){const e=this.indeterminate||this.checked,t={"mdc-checkbox--disabled":this.disabled,"mdc-checkbox--selected":e,"mdc-checkbox--touch":!this.reducedTouchTarget,"mdc-checkbox--focused":this.focused,"mdc-checkbox--anim-checked-indeterminate":"checked-indeterminate"==this.animationClass,"mdc-checkbox--anim-checked-unchecked":"checked-unchecked"==this.animationClass,"mdc-checkbox--anim-indeterminate-checked":"indeterminate-checked"==this.animationClass,"mdc-checkbox--anim-indeterminate-unchecked":"indeterminate-unchecked"==this.animationClass,"mdc-checkbox--anim-unchecked-checked":"unchecked-checked"==this.animationClass,"mdc-checkbox--anim-unchecked-indeterminate":"unchecked-indeterminate"==this.animationClass},r=this.indeterminate?"mixed":void 0;return L`
      <div class="mdc-checkbox mdc-checkbox--upgraded ${Xc(t)}">
        <input type="checkbox"
              class="mdc-checkbox__native-control"
              aria-checked="${tl(r)}"
              data-indeterminate="${this.indeterminate?"true":"false"}"
              ?disabled="${this.disabled}"
              .indeterminate="${this.indeterminate}"
              .checked="${this.checked}"
              .value="${this.value}"
              @change="${this._changeHandler}"
              @focus="${this._handleFocus}"
              @blur="${this._handleBlur}"
              @mousedown="${this.handleRippleMouseDown}"
              @mouseenter="${this.handleRippleMouseEnter}"
              @mouseleave="${this.handleRippleMouseLeave}"
              @touchstart="${this.handleRippleTouchStart}"
              @touchend="${this.handleRippleDeactivate}"
              @touchcancel="${this.handleRippleDeactivate}">
        <div class="mdc-checkbox__background"
          @animationend="${this.resetAnimationClass}">
          <svg class="mdc-checkbox__checkmark"
              viewBox="0 0 24 24">
            <path class="mdc-checkbox__checkmark-path"
                  fill="none"
                  d="M1.73,12.91 8.1,19.28 22.79,4.59"></path>
          </svg>
          <div class="mdc-checkbox__mixedmark"></div>
        </div>
        ${this.renderRipple()}
      </div>`}_handleFocus(){this.focused=!0,this.handleRippleFocus()}_handleBlur(){this.focused=!1,this.handleRippleBlur()}handleRippleMouseDown(e){const t=()=>{window.removeEventListener("mouseup",t),this.handleRippleDeactivate()};window.addEventListener("mouseup",t),this.rippleHandlers.startPress(e)}handleRippleTouchStart(e){this.rippleHandlers.startPress(e)}handleRippleDeactivate(){this.rippleHandlers.endPress()}handleRippleMouseEnter(){this.rippleHandlers.startHover()}handleRippleMouseLeave(){this.rippleHandlers.endHover()}handleRippleFocus(){this.rippleHandlers.startFocus()}handleRippleBlur(){this.rippleHandlers.endFocus()}_changeHandler(){this.checked=this.formElement.checked,this.indeterminate=this.formElement.indeterminate}resetAnimationClass(){this.animationClass=""}get isRippleActive(){var e;return(null===(e=this.rippleElement)||void 0===e?void 0:e.isActive)||!1}}var al,il;t([ee(".mdc-checkbox")],rl.prototype,"mdcRoot",void 0),t([ee("input")],rl.prototype,"formElement",void 0),t([Y({type:Boolean,reflect:!0})],rl.prototype,"checked",void 0),t([Y({type:Boolean})],rl.prototype,"indeterminate",void 0),t([Y({type:Boolean,reflect:!0})],rl.prototype,"disabled",void 0),t([Y({type:String})],rl.prototype,"value",void 0),t([Y({type:Boolean})],rl.prototype,"reducedTouchTarget",void 0),t([X()],rl.prototype,"animationClass",void 0),t([X()],rl.prototype,"shouldRenderRipple",void 0),t([X()],rl.prototype,"focused",void 0),t([(al="mwc-ripple",(e,t)=>{const r={async get(){return await this.updateComplete,this.renderRoot.querySelector(al)},enumerable:!0,configurable:!0};return void 0!==t?te(r,e,t):re(r,e)})],rl.prototype,"ripple",void 0),t([(il={passive:!0},(e,t)=>void 0!==t?((e,t,r)=>{Object.assign(t[r],e)})(il,e,t):((e,t)=>Object.assign(Object.assign({},t),{finisher(r){Object.assign(r.prototype[t.key],e)}}))(il,e))],rl.prototype,"handleRippleTouchStart",null);
/**
    @license
    Copyright 2018 Google Inc. All Rights Reserved.

    Licensed under the Apache License, Version 2.0 (the "License");
    you may not use this file except in compliance with the License.
    You may obtain a copy of the License at

        http://www.apache.org/licenses/LICENSE-2.0

    Unless required by applicable law or agreed to in writing, software
    distributed under the License is distributed on an "AS IS" BASIS,
    WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
    See the License for the specific language governing permissions and
    limitations under the License.
    */
const sl=oe`.mdc-touch-target-wrapper{display:inline}@keyframes mdc-checkbox-unchecked-checked-checkmark-path{0%,50%{stroke-dashoffset:29.7833385}50%{animation-timing-function:cubic-bezier(0, 0, 0.2, 1)}100%{stroke-dashoffset:0}}@keyframes mdc-checkbox-unchecked-indeterminate-mixedmark{0%,68.2%{transform:scaleX(0)}68.2%{animation-timing-function:cubic-bezier(0, 0, 0, 1)}100%{transform:scaleX(1)}}@keyframes mdc-checkbox-checked-unchecked-checkmark-path{from{animation-timing-function:cubic-bezier(0.4, 0, 1, 1);opacity:1;stroke-dashoffset:0}to{opacity:0;stroke-dashoffset:-29.7833385}}@keyframes mdc-checkbox-checked-indeterminate-checkmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 1);transform:rotate(0deg);opacity:1}to{transform:rotate(45deg);opacity:0}}@keyframes mdc-checkbox-indeterminate-checked-checkmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);transform:rotate(45deg);opacity:0}to{transform:rotate(360deg);opacity:1}}@keyframes mdc-checkbox-checked-indeterminate-mixedmark{from{animation-timing-function:mdc-animation-deceleration-curve-timing-function;transform:rotate(-45deg);opacity:0}to{transform:rotate(0deg);opacity:1}}@keyframes mdc-checkbox-indeterminate-checked-mixedmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);transform:rotate(0deg);opacity:1}to{transform:rotate(315deg);opacity:0}}@keyframes mdc-checkbox-indeterminate-unchecked-mixedmark{0%{animation-timing-function:linear;transform:scaleX(1);opacity:1}32.8%,100%{transform:scaleX(0);opacity:0}}.mdc-checkbox{display:inline-block;position:relative;flex:0 0 18px;box-sizing:content-box;width:18px;height:18px;line-height:0;white-space:nowrap;cursor:pointer;vertical-align:bottom;padding:11px}.mdc-checkbox .mdc-checkbox__native-control:checked~.mdc-checkbox__background::before,.mdc-checkbox .mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background::before,.mdc-checkbox .mdc-checkbox__native-control[data-indeterminate=true]~.mdc-checkbox__background::before{background-color:#018786;background-color:var(--mdc-theme-secondary, #018786)}.mdc-checkbox.mdc-checkbox--selected .mdc-checkbox__ripple::before,.mdc-checkbox.mdc-checkbox--selected .mdc-checkbox__ripple::after{background-color:#018786;background-color:var(--mdc-theme-secondary, #018786)}.mdc-checkbox.mdc-checkbox--selected:hover .mdc-checkbox__ripple::before{opacity:.04}.mdc-checkbox.mdc-checkbox--selected.mdc-ripple-upgraded--background-focused .mdc-checkbox__ripple::before,.mdc-checkbox.mdc-checkbox--selected:not(.mdc-ripple-upgraded):focus .mdc-checkbox__ripple::before{transition-duration:75ms;opacity:.12}.mdc-checkbox.mdc-checkbox--selected:not(.mdc-ripple-upgraded) .mdc-checkbox__ripple::after{transition:opacity 150ms linear}.mdc-checkbox.mdc-checkbox--selected:not(.mdc-ripple-upgraded):active .mdc-checkbox__ripple::after{transition-duration:75ms;opacity:.12}.mdc-checkbox.mdc-checkbox--selected.mdc-ripple-upgraded{--mdc-ripple-fg-opacity: 0.12}.mdc-checkbox.mdc-ripple-upgraded--background-focused.mdc-checkbox--selected .mdc-checkbox__ripple::before,.mdc-checkbox.mdc-ripple-upgraded--background-focused.mdc-checkbox--selected .mdc-checkbox__ripple::after{background-color:#018786;background-color:var(--mdc-theme-secondary, #018786)}.mdc-checkbox .mdc-checkbox__background{top:11px;left:11px}.mdc-checkbox .mdc-checkbox__background::before{top:-13px;left:-13px;width:40px;height:40px}.mdc-checkbox .mdc-checkbox__native-control{top:0px;right:0px;left:0px;width:40px;height:40px}.mdc-checkbox__native-control:enabled:not(:checked):not(:indeterminate):not([data-indeterminate=true])~.mdc-checkbox__background{border-color:rgba(0,0,0,.54);background-color:transparent}.mdc-checkbox__native-control:enabled:checked~.mdc-checkbox__background,.mdc-checkbox__native-control:enabled:indeterminate~.mdc-checkbox__background,.mdc-checkbox__native-control[data-indeterminate=true]:enabled~.mdc-checkbox__background{border-color:#018786;border-color:var(--mdc-theme-secondary, #018786);background-color:#018786;background-color:var(--mdc-theme-secondary, #018786)}@keyframes mdc-checkbox-fade-in-background-8A000000secondary00000000secondary{0%{border-color:rgba(0,0,0,.54);background-color:transparent}50%{border-color:#018786;border-color:var(--mdc-theme-secondary, #018786);background-color:#018786;background-color:var(--mdc-theme-secondary, #018786)}}@keyframes mdc-checkbox-fade-out-background-8A000000secondary00000000secondary{0%,80%{border-color:#018786;border-color:var(--mdc-theme-secondary, #018786);background-color:#018786;background-color:var(--mdc-theme-secondary, #018786)}100%{border-color:rgba(0,0,0,.54);background-color:transparent}}.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-in-background-8A000000secondary00000000secondary}.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-out-background-8A000000secondary00000000secondary}.mdc-checkbox__native-control[disabled]:not(:checked):not(:indeterminate):not([data-indeterminate=true])~.mdc-checkbox__background{border-color:rgba(0,0,0,.38);background-color:transparent}.mdc-checkbox__native-control[disabled]:checked~.mdc-checkbox__background,.mdc-checkbox__native-control[disabled]:indeterminate~.mdc-checkbox__background,.mdc-checkbox__native-control[data-indeterminate=true][disabled]~.mdc-checkbox__background{border-color:transparent;background-color:rgba(0,0,0,.38)}.mdc-checkbox__native-control:enabled~.mdc-checkbox__background .mdc-checkbox__checkmark{color:#fff}.mdc-checkbox__native-control:enabled~.mdc-checkbox__background .mdc-checkbox__mixedmark{border-color:#fff}.mdc-checkbox__native-control:disabled~.mdc-checkbox__background .mdc-checkbox__checkmark{color:#fff}.mdc-checkbox__native-control:disabled~.mdc-checkbox__background .mdc-checkbox__mixedmark{border-color:#fff}@media screen and (-ms-high-contrast: active){.mdc-checkbox__native-control[disabled]:not(:checked):not(:indeterminate):not([data-indeterminate=true])~.mdc-checkbox__background{border-color:GrayText;background-color:transparent}.mdc-checkbox__native-control[disabled]:checked~.mdc-checkbox__background,.mdc-checkbox__native-control[disabled]:indeterminate~.mdc-checkbox__background,.mdc-checkbox__native-control[data-indeterminate=true][disabled]~.mdc-checkbox__background{border-color:GrayText;background-color:transparent}.mdc-checkbox__native-control:disabled~.mdc-checkbox__background .mdc-checkbox__checkmark{color:GrayText}.mdc-checkbox__native-control:disabled~.mdc-checkbox__background .mdc-checkbox__mixedmark{border-color:GrayText}.mdc-checkbox__mixedmark{margin:0 1px}}.mdc-checkbox--disabled{cursor:default;pointer-events:none}.mdc-checkbox__background{display:inline-flex;position:absolute;align-items:center;justify-content:center;box-sizing:border-box;width:18px;height:18px;border:2px solid currentColor;border-radius:2px;background-color:transparent;pointer-events:none;will-change:background-color,border-color;transition:background-color 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1),border-color 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-checkbox__background .mdc-checkbox__background::before{background-color:#000;background-color:var(--mdc-theme-on-surface, #000)}.mdc-checkbox__checkmark{position:absolute;top:0;right:0;bottom:0;left:0;width:100%;opacity:0;transition:opacity 180ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-checkbox--upgraded .mdc-checkbox__checkmark{opacity:1}.mdc-checkbox__checkmark-path{transition:stroke-dashoffset 180ms 0ms cubic-bezier(0.4, 0, 0.6, 1);stroke:currentColor;stroke-width:3.12px;stroke-dashoffset:29.7833385;stroke-dasharray:29.7833385}.mdc-checkbox__mixedmark{width:100%;height:0;transform:scaleX(0) rotate(0deg);border-width:1px;border-style:solid;opacity:0;transition:opacity 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1),transform 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-checkbox--upgraded .mdc-checkbox__background,.mdc-checkbox--upgraded .mdc-checkbox__checkmark,.mdc-checkbox--upgraded .mdc-checkbox__checkmark-path,.mdc-checkbox--upgraded .mdc-checkbox__mixedmark{transition:none !important}.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__background,.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__background,.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__background,.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__background{animation-duration:180ms;animation-timing-function:linear}.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__checkmark-path{animation:mdc-checkbox-unchecked-checked-checkmark-path 180ms linear 0s;transition:none}.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__mixedmark{animation:mdc-checkbox-unchecked-indeterminate-mixedmark 90ms linear 0s;transition:none}.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__checkmark-path{animation:mdc-checkbox-checked-unchecked-checkmark-path 90ms linear 0s;transition:none}.mdc-checkbox--anim-checked-indeterminate .mdc-checkbox__checkmark{animation:mdc-checkbox-checked-indeterminate-checkmark 90ms linear 0s;transition:none}.mdc-checkbox--anim-checked-indeterminate .mdc-checkbox__mixedmark{animation:mdc-checkbox-checked-indeterminate-mixedmark 90ms linear 0s;transition:none}.mdc-checkbox--anim-indeterminate-checked .mdc-checkbox__checkmark{animation:mdc-checkbox-indeterminate-checked-checkmark 500ms linear 0s;transition:none}.mdc-checkbox--anim-indeterminate-checked .mdc-checkbox__mixedmark{animation:mdc-checkbox-indeterminate-checked-mixedmark 500ms linear 0s;transition:none}.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__mixedmark{animation:mdc-checkbox-indeterminate-unchecked-mixedmark 300ms linear 0s;transition:none}.mdc-checkbox__native-control:checked~.mdc-checkbox__background,.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background,.mdc-checkbox__native-control[data-indeterminate=true]~.mdc-checkbox__background{transition:border-color 90ms 0ms cubic-bezier(0, 0, 0.2, 1),background-color 90ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-checkbox__native-control:checked~.mdc-checkbox__background .mdc-checkbox__checkmark-path,.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background .mdc-checkbox__checkmark-path,.mdc-checkbox__native-control[data-indeterminate=true]~.mdc-checkbox__background .mdc-checkbox__checkmark-path{stroke-dashoffset:0}.mdc-checkbox__background::before{position:absolute;transform:scale(0, 0);border-radius:50%;opacity:0;pointer-events:none;content:"";will-change:opacity,transform;transition:opacity 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1),transform 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-checkbox__native-control:focus~.mdc-checkbox__background::before{transform:scale(1);opacity:.12;transition:opacity 80ms 0ms cubic-bezier(0, 0, 0.2, 1),transform 80ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-checkbox__native-control{position:absolute;margin:0;padding:0;opacity:0;cursor:inherit}.mdc-checkbox__native-control:disabled{cursor:default;pointer-events:none}.mdc-checkbox--touch{margin-top:4px;margin-bottom:4px;margin-right:4px;margin-left:4px}.mdc-checkbox--touch .mdc-checkbox__native-control{top:-4px;right:-4px;left:-4px;width:48px;height:48px}.mdc-checkbox__native-control:checked~.mdc-checkbox__background .mdc-checkbox__checkmark{transition:opacity 180ms 0ms cubic-bezier(0, 0, 0.2, 1),transform 180ms 0ms cubic-bezier(0, 0, 0.2, 1);opacity:1}.mdc-checkbox__native-control:checked~.mdc-checkbox__background .mdc-checkbox__mixedmark{transform:scaleX(1) rotate(-45deg)}.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background .mdc-checkbox__checkmark,.mdc-checkbox__native-control[data-indeterminate=true]~.mdc-checkbox__background .mdc-checkbox__checkmark{transform:rotate(45deg);opacity:0;transition:opacity 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1),transform 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background .mdc-checkbox__mixedmark,.mdc-checkbox__native-control[data-indeterminate=true]~.mdc-checkbox__background .mdc-checkbox__mixedmark{transform:scaleX(1) rotate(0deg);opacity:1}:host{outline:none;display:inline-block}.mdc-checkbox .mdc-checkbox__native-control:focus~.mdc-checkbox__background::before{background-color:rgba(0, 0, 0, 0.54);background-color:var(--mdc-checkbox-unchecked-color, rgba(0, 0, 0, 0.54))}.mdc-checkbox .mdc-checkbox__background::before{content:none}.mdc-checkbox__native-control[disabled]:not(:checked):not(:indeterminate):not([data-indeterminate=true])~.mdc-checkbox__background{border-color:rgba(0, 0, 0, 0.38);border-color:var(--mdc-checkbox-disabled-color, rgba(0, 0, 0, 0.38));background-color:transparent}.mdc-checkbox__native-control[disabled]:checked~.mdc-checkbox__background,.mdc-checkbox__native-control[disabled]:indeterminate~.mdc-checkbox__background,.mdc-checkbox__native-control[data-indeterminate=true][disabled]~.mdc-checkbox__background{border-color:transparent;background-color:rgba(0, 0, 0, 0.38);background-color:var(--mdc-checkbox-disabled-color, rgba(0, 0, 0, 0.38))}.mdc-checkbox__native-control:enabled:not(:checked):not(:indeterminate):not([data-indeterminate=true])~.mdc-checkbox__background{border-color:rgba(0, 0, 0, 0.54);border-color:var(--mdc-checkbox-unchecked-color, rgba(0, 0, 0, 0.54));background-color:transparent}.mdc-checkbox__native-control:enabled:checked~.mdc-checkbox__background,.mdc-checkbox__native-control:enabled:indeterminate~.mdc-checkbox__background,.mdc-checkbox__native-control[data-indeterminate=true]:enabled~.mdc-checkbox__background{border-color:#018786;border-color:var(--m-checkbox-checked-color, var(--mdc-theme-secondary, #018786));background-color:#018786;background-color:var(--m-checkbox-checked-color, var(--mdc-theme-secondary, #018786))}@keyframes mdc-checkbox-fade-in-background---mdc-checkbox-unchecked-color--m-checkbox-checked-color00000000--m-checkbox-checked-color{0%{border-color:rgba(0, 0, 0, 0.54);border-color:var(--mdc-checkbox-unchecked-color, rgba(0, 0, 0, 0.54));background-color:transparent}50%{border-color:#018786;border-color:var(--m-checkbox-checked-color, var(--mdc-theme-secondary, #018786));background-color:#018786;background-color:var(--m-checkbox-checked-color, var(--mdc-theme-secondary, #018786))}}@keyframes mdc-checkbox-fade-out-background---mdc-checkbox-unchecked-color--m-checkbox-checked-color00000000--m-checkbox-checked-color{0%,80%{border-color:#018786;border-color:var(--m-checkbox-checked-color, var(--mdc-theme-secondary, #018786));background-color:#018786;background-color:var(--m-checkbox-checked-color, var(--mdc-theme-secondary, #018786))}100%{border-color:rgba(0, 0, 0, 0.54);border-color:var(--mdc-checkbox-unchecked-color, rgba(0, 0, 0, 0.54));background-color:transparent}}.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-in-background---mdc-checkbox-unchecked-color--m-checkbox-checked-color00000000--m-checkbox-checked-color}.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-out-background---mdc-checkbox-unchecked-color--m-checkbox-checked-color00000000--m-checkbox-checked-color}.mdc-checkbox__native-control:enabled~.mdc-checkbox__background .mdc-checkbox__checkmark{color:#fff;color:var(--mdc-checkbox-mark-color, #fff)}.mdc-checkbox__native-control:enabled~.mdc-checkbox__background .mdc-checkbox__mixedmark{border-color:#fff;border-color:var(--mdc-checkbox-mark-color, #fff)}.mdc-checkbox__native-control:disabled~.mdc-checkbox__background .mdc-checkbox__checkmark{color:#fff;color:var(--mdc-checkbox-mark-color, #fff)}.mdc-checkbox__native-control:disabled~.mdc-checkbox__background .mdc-checkbox__mixedmark{border-color:#fff;border-color:var(--mdc-checkbox-mark-color, #fff)}`;let ol=class extends rl{};ol.styles=sl,ol=t([W("mwc-checkbox")],ol);const nl=customElements.get("mwc-checkbox");let cl=class extends nl{firstUpdated(){super.firstUpdated(),this.style.setProperty("--mdc-theme-secondary","var(--primary-color)")}};function ll(e){return"true"==e||"false"!=e&&!!e.length}cl=t([W("ha-checkbox")],cl);let dl=class extends ce{constructor(){super(...arguments),this.min=0,this.max=100,this.step=1,this.value=0,this.show_percentage="false",this.unit="",this.optional="false",this.disabled="false",this.scaleGain=1,this.scaleOffset=0}updated(){}firstUpdated(){ll(this.show_percentage)&&(this.unit="%",this.scaleOffset=this.min,this.scaleGain=(this.max-this.min)/100,this.min=0,this.max=100),ll(this.disabled)&&!ll(this.optional)&&(this.disabled="false"),isNaN(this.value)&&(this.value=this.min),this.requestUpdate()}render(){return L`
      <div class="container">
        <div class="checkbox">
        ${this.getCheckbox()}
        </div>
        <div class="slider">
        ${this.getSlider()}
        </div>
        <div class="value${ll(this.disabled)?" disabled":""}">
        ${this.getScaledValue()}${this.unit}
        </div>
    `}getScaledValue(){let e=this.value,t=Math.round((e-this.scaleOffset)/this.scaleGain);return t<this.min?t=this.min:t>this.max&&(t=this.max),Math.round(t*this.step/this.step)}getSlider(){return ll(this.disabled)?L`
        <ha-paper-slider
        pin
        min=${this.min}
        max=${this.max}
        step=${this.step}
        value=${this.getScaledValue()}
        disabled
        ></ha-paper-slider>`:L`
        <ha-paper-slider
        pin
        min=${this.min}
        max=${this.max}
        step=${this.step}
        value=${this.getScaledValue()}
        @change=${this.updateValue}
        ></ha-paper-slider>`}getCheckbox(){return ll(this.optional)?ll(this.disabled)?L`<ha-checkbox @change="${this.toggleChecked}"></ha-checkbox>`:L`<ha-checkbox @change="${this.toggleChecked}" checked></ha-checkbox>`:L``}toggleChecked(e){let t=e.target.checked;this.disabled=t?"false":"true"}updateValue(e){let t=Number(e.target.value)*this.scaleGain+this.scaleOffset;t=Math.round(t*this.step)/this.step,this.value=t}};dl.styles=oe`

      :host {
        width: 100%;
      }

      div.container {
        display: grid;
        grid-template-columns: min-content 1fr max-content;
        grid-template-rows: min-content;
        grid-template-areas: "checkbox slider value";
      }

      div.checkbox {
        grid-area: checkbox;
        display: flex;
        align-items: center;
      }

      div.slider {
        grid-area: slider;
        display: flex;
        align-items: center;
      }

      div.value {
        grid-area: value;
        min-width: 40px;
        display: flex;
        align-items: center;
      }

      ha-paper-slider {
        width: 100%;
        --paper-slider-pin-start-color: var(--primary-color);
      }
      
       .disabled {
        color: var(--disabled-text-color);
      }
  `,t([Y({type:Number})],dl.prototype,"min",void 0),t([Y({type:Number})],dl.prototype,"max",void 0),t([Y({type:Number})],dl.prototype,"step",void 0),t([Y({type:Number})],dl.prototype,"value",void 0),t([Y({type:String})],dl.prototype,"show_percentage",void 0),t([Y({type:String})],dl.prototype,"unit",void 0),t([Y({type:String})],dl.prototype,"optional",void 0),t([Y({type:String})],dl.prototype,"disabled",void 0),dl=t([W("variable-slider")],dl);function ul(e){return e.endTime-e.startTime}let hl=class extends ce{constructor(){super(...arguments),this.slots=[],this.actions=[],this.stepSize=15,this._activeSlot=null,this._activeThumb=null}updated(){}firstUpdated(){}render(){return L`
      <div class="slider-container">
        <div>
          <div class="slider-track">
            ${this.getSlots()}
          </div>
        </div>
        <div class="slider-legend">
          <div class="slider-legend-item empty"></div>
          <div class="slider-legend-item">03:00</div>
          <div class="slider-legend-item">06:00</div>
          <div class="slider-legend-item">09:00</div>
          <div class="slider-legend-item">12:00</div>
          <div class="slider-legend-item">15:00</div>
          <div class="slider-legend-item">18:00</div>
          <div class="slider-legend-item">21:00</div>
          <div class="slider-legend-item empty"></div>
        </div>
      </div>
      <div>
        ${null!==this._activeSlot&&this.slots.length<10?L`
        <mwc-button @click="${this._addSlot}">
          <ha-icon icon="hass:plus-circle-outline" class="padded-right"></ha-icon>
          Add
        </mwc-button>
        `:L`
        <mwc-button disabled>
          <ha-icon icon="hass:plus-circle-outline" class="padded-right"></ha-icon>
          Add
        </mwc-button>
        `}
        ${null!==this._activeSlot&&this.slots.length>3?L`
        <mwc-button @click="${this._removeSlot}">
          <ha-icon icon="hass:minus-circle-outline" class="padded-right"></ha-icon>
          Remove
        </mwc-button>
        `:L`
        <mwc-button disabled>
          <ha-icon icon="hass:minus-circle-outline" class="padded-right"></ha-icon>
          Remove
        </mwc-button>
        `}
      </div>
    `}getSlots(){let e=[];return this.slots.forEach((t,r)=>{e.push(L`
        <div class="slider-slot${this._activeSlot==r?" active":""}" @click="${this._handleSegmentClick}" index="${r}" style="width: ${ul(t)/1440*100}%">
          ${this.getSlotAction(t)}
        </div>
      `),r<this.slots.length-1&&e.push(L`
        <div class="slider-thumb${this._activeThumb==r?" active":""}" index="${r}">
          <ha-icon icon="hass:unfold-more-vertical"  @mousedown="${this._handleTouchStart}" @touchstart="${this._handleTouchStart}"></ha-icon>
          <div class="slider-thumb-tooltip" value="time" @update="${this._updateMarker}">
            ${_o(this.slots[r].endTime).time}
          </div>
        </div>`)}),e}getSlotAction(e){if(!e.action)return"";let t=this.actions.find(t=>t.id==e.action);if(e.levelEnabled&&void 0!==e.level&&t.variable){let r=t.variable,a=e.level,i=r.unit;if(r.show_percentage){let e=r.min,t=(r.max-r.min)/100;a=Math.round((a-e)/t),i="%"}return`${a}${i}`}return"turn_on"==e.action?"on":"turn_off"==e.action?"off":""+e.action}_handleSegmentClick(e){let t=e.target,r=Number(t.getAttribute("index"));this._activeSlot=this._activeSlot==r?null:r;let a=new CustomEvent("update",{detail:{slot:this._activeSlot}});this.dispatchEvent(a)}_handleTouchStart(e){let t;if(t=e.target,!t)return;let r=t.parentNode,a=Number(r.getAttribute("index"));this._activeThumb=a;let i=r.parentElement,s=i.getBoundingClientRect(),o=r.previousElementSibling,n=r.nextElementSibling,c=r.querySelector(".slider-thumb-tooltip");const l=o.offsetWidth+n.offsetWidth,d=s.width;let u=Array.from(i.querySelectorAll(".slider-slot")),h=u.map(e=>e.offsetWidth),p=0,m=-1;u.forEach((e,t)=>{e==o?m=t:-1==m&&(p+=h[t])});let f=e=>{let t;t=e instanceof TouchEvent?e.changedTouches[0].pageX:e.pageX;let r=t-s.left;r<0?r=0:r>s.width&&(r=s.width),r>l+p&&(r=l+p),r<p&&(r=p),o.style.width=Math.round(r-p)+"px",n.style.width=Math.round(l-(r-p))+"px";let a=r/d*1440;a=a>=1440?a=1440:bo(a,this.stepSize),c.dispatchEvent(new CustomEvent("update",{detail:{time:a}}))};var v=()=>{window.removeEventListener("mousemove",f),window.removeEventListener("touchmove",f),window.removeEventListener("mouseup",v),window.addEventListener("touchend",v);let e=ko(c.innerText),t=ul(this.slots[m])+ul(this.slots[m+1]),r=this.slots[m].startTime,a=[...this.slots];Object.assign(a[m],{endTime:e}),Object.assign(a[m+1],{startTime:e,endTime:r+t});let i=new CustomEvent("update",{detail:{slots:a}});this.dispatchEvent(i),f=()=>{},this._activeThumb=null};window.addEventListener("mouseup",v),window.addEventListener("touchend",v),window.addEventListener("mousemove",f),window.addEventListener("touchmove",f)}_updateMarker(e){let t=e.detail,r=0;if(t.hasOwnProperty("time"))r=Number(t.time);else if(t.hasOwnProperty("index")){let e=t.index;r=this.slots[e].endTime}1440==r&&(r-=1),e.target.innerText=_o(r).time}_addSlot(){let e=this.slots[this._activeSlot],t=e.startTime,r=e.endTime,a=bo(t+ul(e)/2,this.stepSize),i=[...this.slots];Object.assign(i[this._activeSlot],{endTime:a}),i.splice(this._activeSlot+1,0,{startTime:a,endTime:r});let s=new CustomEvent("update",{detail:{slots:i}});this.dispatchEvent(s)}_removeSlot(){let e=this._activeSlot==this.slots.length-1?this._activeSlot-1:this._activeSlot,t=Object.assign({},this.slots[e]);Object.assign(t,{endTime:this.slots[e+1].endTime});let r=[...this.slots];r.splice(e,2,t);let a=new CustomEvent("update",{detail:{slots:r}});this.dispatchEvent(a)}};hl.styles=oe`

      div.slider-track {
        height: 45px;
        width: 100%;
        display: flex;
      }
      
      div.slider-slot {
        height: calc(100%);
        width: 50%;
        display: flex;
        background: var(--primary-color);
        opacity: 0.85;
        z-index: 1;
        cursor: pointer;
        color: var(--text-primary-color);
        justify-content: center;
        align-items: center;
      }
      div.slider-slot.active {
        opacity: 0.85;
        background: var(--accent-color);
      }
      div.slider-slot:hover, div.slider-slot.active:hover {
        opacity: 1;
      }
      
      div.slider-track div.slider-slot:first-of-type {
        border-radius: 4px 0px 0px 4px;
      }
      div.slider-track div.slider-slot:last-of-type {
        border-radius: 0px 4px 4px 0px;
      }
      div.slider-thumb {
        height: 100%;
        width: 2px;
        background: var(--card-background-color);
        display: flex;
        cursor: pointer;
        z-index: 5;
        margin: 0px -1px;
      }
      div.slider-thumb ha-icon {
        background: var(--card-background-color);
        color: var(--primary-text-color);
        width: 26px;
        height: 26px;
        --mdc-icon-size: 26px;
        border-radius: 100%;
        margin-left: -12px;
        margin-top: 10px;
      }

      div.slider-legend {
        display: flex;
        width: 100%;
      }
      div.slider-legend-item {
        width: calc(100% / 8);
        font-size: 0.8em;
        display: flex;
        justify-content: center;
      }
      div.slider-legend-item.empty {
        width: calc(100% / 16);
        display: flex;
      }
      div.slider-thumb-tooltip {
        background: var(--primary-color);
        color: var(--text-primary-color);
        border-radius: 5px;
        font-size: 0.8em;
        position: absolute;
        height: 20px;
        width: 50px;
        margin-top: -21px;
        margin-left: -25px;
        text-align: center;
        line-height: 20px;
      }

      .padded-right {
        margin-right: 11px;
      }
      
      mwc-button {
        margin: 2px 0px;
      }

      mwc-button.active {
        background: var(--primary-color);
        --mdc-theme-primary: var(--text-primary-color);
        border-radius: 4px;
      }
  `,t([Y({type:Array})],hl.prototype,"slots",void 0),t([Y({type:Array})],hl.prototype,"actions",void 0),t([Y({type:Number})],hl.prototype,"stepSize",void 0),t([Y({type:Number})],hl.prototype,"_activeSlot",void 0),t([Y({type:Number})],hl.prototype,"_activeThumb",void 0),hl=t([W("timeslot-editor")],hl),window.customCards=window.customCards||[],window.customCards.push({type:"scheduler-card",name:"Scheduler Card",description:"Card to manage schedule entities made with scheduler-component."}),e.SchedulerCard=class extends ce{constructor(){super(...arguments),this._config=Mc,this.Config=new Go,this.scheduleItems=[],this.selection=Object.assign({},Vc),this.await_update=!0}static get styles(){return Ko}set hass(e){this.await_update&&(this._hass||this.init(e),this.updateScheduleList(e),this._hass=e)}init(e){void 0!==e.states["sun.sun"]&&Object.assign(this._config,{sunrise:ko(e.states["sun.sun"].attributes.next_rising),sunset:ko(e.states["sun.sun"].attributes.next_setting)}),console.info(`%c   SCHEDULER-CARD   \n%c   Version: ${"1.4.0".padEnd(8," ")}\n%c   Language: ${yo().padEnd(7," ")}`,"color: orange; font-weight: bold; background: black","color: white; font-weight: bold; background: dimgray","color: white; font-weight: bold; background: dimgray"),this.Config.LoadEntities(e.states)}updateScheduleList(e){let t=Va(e.states,e=>Io(e.entity_id)).map(e=>function(e,t){let r=e.attributes.actions.map(e=>{let r=String(e.entity),a=String(e.service),i=Object.entries(e).filter(([e])=>!["entity","service"].includes(e)).reduce((e,[t,r])=>Object.assign(e,{[t]:r}),{});if(To(r)||(r=`${To(a)}.${r}`),To(a)==To(r)&&(a=String(a.split(".").pop())),!t.FindEntity(r))return{};let s=Object.keys(i).length?No({service:a,service_data:i}):No({service:a}),o={entity:r,action:s};if(!t.FindAction(r,s)){let e=t.GetActionsForEntity(r).find(e=>e.hasOwnProperty("variable")&&i.hasOwnProperty(e.variable.field));if(!e)return o;{let t=e.variable.field;Object.assign(o,{level:Number(i[t]),levelEnabled:!0}),delete i[t],s=Object.keys(i).length?No({service:a,service_data:i}):No({service:a})}}return Object.assign(o,{action:s}),o}),a=[];return e.attributes.entries.forEach(e=>{let t,i=Fo.exec(e),s=zo.exec(i[3]),o=Ro.exec(i[2]);t=o?{event:"SR"==o[2]?"sunrise":"sunset",value:o[1]?-ko(o[1]):ko(o[3])}:{value:ko(i[2])},s.map(Number).filter(e=>!isNaN(e)).forEach(e=>{e>=r.length||a.push(Object.assign(Object.assign({},r[e]),{time:t,days:i[1].split("").map(Number)}))})}),{id:e.entity_id,enabled:"off"!=e.state,entries:a}}(e,this.Config));t!=this.scheduleItems&&(this.scheduleItems=t,this.await_update=!1,this.requestUpdate())}awaitUpdate(){this.await_update=!0}render(){return this.selection.newItem||this.selection.editItem?this.selection.newItem&&!this.selection.actionConfirmed?L`
        <ha-card>
          ${this.getTitle()}
          <div class="card-section first">
            <div class="header">${go("fields.group")}</div>
            <div class="option-list">
            ${this.getGroups()}
            </div>
          </div>
          <div class="card-section">
            <div class="header">${go("fields.entity")}</div>
            <div class="option-list">
            ${this.getEntities()}
            </div>
          </div>
          ${this.getActions()}
          <div class="card-section last">
            <mwc-button outlined @click="${()=>this.editItemCancel()}">${go("actions.cancel")}</mwc-button>
            ${this.selection.action?L`<mwc-button outlined @click="${()=>this.newItemConfirm()}">${go("actions.next")}</mwc-button>`:L`<mwc-button outlined disabled>${go("actions.next")}</mwc-button>`}
          </div>
        </ha-card>
      `:this.selection.action==$o.id?L`
      <ha-card>
        ${this.getTitle()}
        ${this.showRoutineEditor()}
      </ha-card>
      `:L`
      <ha-card>
        ${this.getTitle()}
        ${this.showEditor()}
      </ha-card>
      `:L`
      <ha-card>
        ${this.getTitle()}
        <div class="card-section first">
        ${this.getEntries()}
        </div>
        <div class="card-section last">
          <mwc-button outlined @click="${()=>{this.newItem()}}">${go("actions.add")}</mwc-button>
        </div>
      </ha-card>
      `}getTitle(){return"string"==typeof this._config.title?L`<div class="card-header">${this._config.title}</div>`:this._config.title?L`<div class="card-header">${go("scheduler")}</div>`:L``}newItem(){this.selection=Xt(Object.assign({},Vc),{newItem:!0}),this.requestUpdate()}editItemCancel(){this.selection=Object.assign({},Vc),this.requestUpdate()}newItemConfirm(){this.selection=Xt(Object.assign({},Vc),{newItem:!0,actionConfirmed:!0,entity:this.selection.entity,action:this.selection.action}),this.requestUpdate()}getEntries(){return this.scheduleItems&&this.scheduleItems.length?this.scheduleItems.map(e=>{let t=this.Config.FindEntity(e.entries[0].entity),r=this.Config.FindAction(e.entries[0].entity,e.entries[0].action);if(!t||!r)return L``;if(1==e.entries.length)return L`
          <div class="list-item${e.enabled?"":" disabled"}" @click="${()=>this.editItem(e.id)}">
            <div class="list-item-icon">
              ${t.icon?L`<ha-icon icon="${Mo(t.icon)}"></ha-icon>`:""}
            </div>
            <div class="list-item-name">
              ${Vo(t.name)}
            </div>
            <div class="list-item-action">
              ${Ho(e.entries[0],r)}
            </div>
            <div class="list-item-days">
              ${Qo(Uo(e.entries[0].days))}
            </div>
            <div class="list-item-time">
              ${Qo(qo(e.entries[0].time,{amPm:this._config.am_pm,sunrise:this._config.sunrise,sunset:this._config.sunset}))}
            </div>
            <div class="list-item-switch">
              ${e.enabled?L`<ha-switch checked="checked" @click="${t=>this.toggleDisable(e.id,t)}"></ha-switch>`:L`<ha-switch @click="${t=>this.toggleDisable(e.id,t)}"></ha-switch>`}
            </div>
          </div>
      `;{let r=e.entries.map(e=>{let t=Ho(e,this.Config.FindAction(e.entity,e.action)),r=qo(e.time,{amPm:this._config.am_pm,sunrise:this._config.sunrise,sunset:this._config.sunset});return L`${t} ${r}<br>`});return L`
          <div class="list-item${e.enabled?"":" disabled"}" @click="${()=>this.editItem(e.id)}">
            <div class="list-item-icon">
              ${t.icon?L`<ha-icon icon="${Mo(t.icon)}"></ha-icon>`:""}
            </div>
            <div class="list-item-name">
              ${Vo(t.name)}
            </div>
            <div class="list-item-action">
              ${r}
            </div>
            <div class="list-item-days">
              ${Qo(Uo(e.entries[0].days))}
            </div>
            <div class="list-item-time">
            </div>
            <div class="list-item-switch">
              ${e.enabled?L`<ha-switch checked="checked" @click="${t=>this.toggleDisable(e.id,t)}"></ha-switch>`:L`<ha-switch @click="${t=>this.toggleDisable(e.id,t)}"></ha-switch>`}
            </div>
          </div>
        `}}):[L`
      <div class="text-field">
        ${go("instructions.no_entries_defined")}
      </div>
    `]}toggleDisable(e,t){t.stopPropagation(),!t.target.checked?this._hass.callService("switch","turn_on",{entity_id:e}):this._hass.callService("switch","turn_off",{entity_id:e}),this.awaitUpdate()}editItem(e){let t=Qa(this.scheduleItems,{id:e});1==t.entries.length?(this.selection=Xt(Object.assign({},Vc),{editItem:e,entity:t.entries[0].entity,action:t.entries[0].action,time:t.entries[0].time,days:t.entries[0].days,daysType:Lo(t.entries[0].days)}),void 0!==t.entries[0].level&&Object.assign(this.selection,{levelEnabled:!0,level:t.entries[0].level})):this.selection=Xt(Object.assign({},Vc),{editItem:e,entity:t.entries[0].entity,action:$o.id,days:t.entries[0].days,daysType:Lo(t.entries[0].days),plannerSlots:Bo(t.entries)}),this.requestUpdate()}getGroups(){let e=this.Config.GetGroups();return e.length?e.map(e=>L`
        <mwc-button class="${this.selection.group==e.id?" active":""}" @click="${()=>{this.selectGroup(e.id)}}">
          ${e.icon?L`<ha-icon icon="${Mo(e.icon)}" class="padded-right"></ha-icon>`:""}
          ${Vo(e.name)}
        </mwc-button>
      `):[L`<div class="text-field">${go("instructions.no_groups_defined")}</div>`]}selectGroup(e){Object.assign(this.selection,{group:e,entity:null,action:null}),this.requestUpdate()}getEntities(){if(!this.selection.group)return[L`<div class="text-field">${go("instructions.no_group_selected")}</div>`];let e=this.Config.GetEntitiesForGroup(this.selection.group);return e.length?e.map(e=>L`
        <mwc-button class="${this.selection.entity==e.id?" active":""}" @click="${()=>{this.selectEntity(e.id)}}">
          ${e.icon?L`<ha-icon icon="${Mo(e.icon)}" class="padded-right"></ha-icon>`:""}
          ${Vo(e.name)}
        </mwc-button>
      `):[L`<div class="text-field">${go("instructions.no_entities_for_group")}</div>`]}selectEntity(e){Object.assign(this.selection,{entity:e,action:null}),this.requestUpdate()}getActions(){if(!this.selection.entity)return L`
          <div class="card-section">
            <div class="header">${go("fields.action")}</div>
            <div class="option-list">
              <div class="text-field">${go("instructions.no_entity_selected")}</div>
            </div>
          </div>
      `;let e=this.Config.GetActionsForEntity(this.selection.entity);if(!e.length)return L`
          <div class="card-section">
            <div class="header">${go("fields.action")}</div>
            <div class="option-list">
              <div class="text-field">${go("instructions.no_actions_for_entity")}</div>
            </div>
          </div>
      `;let t=e.filter(e=>e.id!=$o.id).map(e=>L`
        <mwc-button class="${this.selection.action==e.id?" active":""}" @click="${()=>{this.selectAction(e.id)}}">
          ${e.icon?L`<ha-icon icon="${Mo(e.icon)}" class="padded-right"></ha-icon>`:""}
          ${Vo(e.name)}
        </mwc-button>
      `),r=[L``];return r=e.filter(e=>e.id==$o.id).map(e=>L`
        <div class="card-section first">
          <div class="header">or</div>
          <div class="option-list">
            <mwc-button class="${this.selection.action==e.id?" active":""}" @click="${()=>{this.selectAction(e.id)}}">
              ${e.icon?L`<ha-icon icon="${Mo(e.icon)}" class="padded-right"></ha-icon>`:""}
              ${Vo(e.name)}
            </mwc-button>
          </div>
        </div>
      `),L`
          <div class="card-section">
            <div class="header">${go("fields.action")}</div>
            <div class="option-list">
              ${t}
            </div>
          </div>
          ${r}
      `}selectAction(e){Object.assign(this.selection,{action:e}),this.requestUpdate()}setConfig(e){let t={},r={};!function(e){if(!Uc.validate(qc,e)){let e=Uc.errors.map(e=>{let t="",r=e.dataPath.substr(1).split("/"),a=r.pop();return r.length&&(t+=`in '${r.join("->")}' `),"type"==e.keyword&&(t+="type of "),a?a&&(t+=(isNaN(+a)?`'${a}'`:`[item ${a}]`)+" "):t+="card ",t+=e.message,e.params.hasOwnProperty("additionalProperty")&&(t+=` '${e.params.additionalProperty}'`),t.charAt(0).toUpperCase()+t.slice(1)+"."});throw new Error("Invalid configuration provided. "+e.map((e,t)=>`(${t+1}) ${e}`).join(" "))}}(e);const a=["groups","domains","entities","discover_existing","standard_configuration"];t=Object.entries(e).filter(([e])=>a.includes(e)).reduce((e,[t,r])=>Object.assign(e,{[t]:r}),{}),r=Object.entries(e).filter(([e])=>Object.keys(this._config).includes(e)).reduce((e,[t,r])=>Object.assign(e,{[t]:r}),{}),Object.assign(this._config,r),this.Config.setUserConfig(t)}showEditor(){let e=this.Config.FindEntity(this.selection.entity),t=this.Config.FindAction(this.selection.entity,this.selection.action);return e&&t?L`
    <div class="card-section first">
      <div class="header">${go("fields.action")}</div>
      <div class="summary">
        <div class="summary-entity">
          <div class="summary-icon">
            ${e.icon?L`<ha-icon icon="${Mo(e.icon)}"></ha-icon>`:""}
          </div>
          <div class="summary-text">
            ${Vo(e.name)}
          </div>
        </div>
        <div class="summary-arrow">
          <ha-icon icon="hass:arrow-right"></ha-icon>
        </div>
        <div class="summary-action">
          <div class="summary-icon">
            ${t.icon?L`<ha-icon icon="${Mo(t.icon)}"></ha-icon>`:""}
          </div>
          <div class="summary-text">
            ${Vo(t.name)}
          </div>
        </div>
      </div>
     </div>
     ${t.hasOwnProperty("variable")?this.getLevelPanel(t.variable):""}
    <div class="card-section">
      <div class="header">${go("fields.days")}</div>
      <div class="day-list">
        <mwc-button class="day-item${"daily"==this.selection.daysType?" active":""}" index="daily" @click="${e=>this.updateDays(e.target.getAttribute("index"))}">${go("fields.day_type_daily")}</mwc-button>
        <mwc-button class="day-item${"weekdays"==this.selection.daysType?" active":""}" index="weekdays" @click="${e=>this.updateDays(e.target.getAttribute("index"))}">${go("fields.day_type_weekdays")}</mwc-button>
        <mwc-button class="day-item${"custom"==this.selection.daysType?" active":""}" index="custom" @click="${e=>this.updateDays(e.target.getAttribute("index"))}">${go("fields.day_type_custom")}</mwc-button>
      </div>
      <div class="day-list${"custom"==this.selection.daysType?"":" closed"}" id="day-list-custom">
        <mwc-button class="day-item${this.selection.daysCustom.includes(1)?" active":""}" index="1" @click="${e=>this.updateDays(e.target.getAttribute("index"))}">${go("days_short.mon")}</mwc-button>
        <mwc-button class="day-item${this.selection.daysCustom.includes(2)?" active":""}" index="2" @click="${e=>this.updateDays(e.target.getAttribute("index"))}">${go("days_short.tue")}</mwc-button>
        <mwc-button class="day-item${this.selection.daysCustom.includes(3)?" active":""}" index="3" @click="${e=>this.updateDays(e.target.getAttribute("index"))}">${go("days_short.wed")}</mwc-button>
        <mwc-button class="day-item${this.selection.daysCustom.includes(4)?" active":""}" index="4" @click="${e=>this.updateDays(e.target.getAttribute("index"))}">${go("days_short.thu")}</mwc-button>
        <mwc-button class="day-item${this.selection.daysCustom.includes(5)?" active":""}" index="5" @click="${e=>this.updateDays(e.target.getAttribute("index"))}">${go("days_short.fri")}</mwc-button>
        <mwc-button class="day-item${this.selection.daysCustom.includes(6)?" active":""}" index="6" @click="${e=>this.updateDays(e.target.getAttribute("index"))}">${go("days_short.sat")}</mwc-button>
        <mwc-button class="day-item${this.selection.daysCustom.includes(7)?" active":""}" index="7" @click="${e=>this.updateDays(e.target.getAttribute("index"))}">${go("days_short.sun")}</mwc-button>
      </div>
    </div>
      
    <div class="card-section">
      <div class="header">${go("fields.time")}</div>
      <time-picker value=${this.selection.time.value} event=${this.selection.time.event} stepSize="${this._config.time_step}" formatAmPm="${this._config.am_pm}" sunrise="${this._config.sunrise}" sunset="${this._config.sunset}" @change="${this.updateTime}"></timepicker>
    </div>

    <div class="card-section last">
      <mwc-button outlined @click="${()=>this.editItemCancel()}">${go("actions.cancel")}</mwc-button>
      ${void 0===this.selection.editItem?"":L`<mwc-button outlined @click="${()=>this.editItemDelete()}">${go("actions.delete")}</mwc-button>`}
      <mwc-button outlined @click="${()=>this.editItemSave()}">${go("actions.save")}</mwc-button>
    </div>
    `:L``}showRoutineEditor(){let e=this.Config.FindEntity(this.selection.entity),t=this.Config.FindAction(this.selection.entity,this.selection.action),r=this.Config.GetActionsForEntity(this.selection.entity).filter(e=>e.routine),a=isNaN(this.selection.activePlannerSlot)?null:this.selection.plannerSlots[this.selection.activePlannerSlot],i=a?r.find(e=>e.id==a.action):null;if(this.selection.plannerSlots||Object.assign(this.selection,{plannerSlots:Oo}),i&&i.variable){let e=this.selection.activePlannerSlot,t=[...this.selection.plannerSlots],r=Object.assign({},t[e]);Object.assign(r,{level:this.selection.level,levelEnabled:this.selection.levelEnabled}),t[e]=r,this.selection.plannerSlots=t}return e&&t?L`
    <div class="card-section first">
      <div class="header">${go("fields.action")}</div>
      <div class="summary">
        <div class="summary-entity">
          <div class="summary-icon">
            ${e.icon?L`<ha-icon icon="${Mo(e.icon)}"></ha-icon>`:""}
          </div>
          <div class="summary-text">
            ${Vo(e.name)}
          </div>
        </div>
        <div class="summary-arrow">
          <ha-icon icon="hass:arrow-right"></ha-icon>
        </div>
        <div class="summary-action">
          <div class="summary-icon">
            ${t.icon?L`<ha-icon icon="${Mo(t.icon)}"></ha-icon>`:""}
          </div>
          <div class="summary-text">
            ${Vo(t.name)}
          </div>
        </div>
      </div>
     </div>
    <div class="card-section">
      <div class="header">${go("fields.days")}</div>
      <div class="day-list">
        <mwc-button class="day-item${"daily"==this.selection.daysType?" active":""}" index="daily" @click="${e=>this.updateDays(e.target.getAttribute("index"))}">${go("fields.day_type_daily")}</mwc-button>
        <mwc-button class="day-item${"weekdays"==this.selection.daysType?" active":""}" index="weekdays" @click="${e=>this.updateDays(e.target.getAttribute("index"))}">${go("fields.day_type_weekdays")}</mwc-button>
        <mwc-button class="day-item${"custom"==this.selection.daysType?" active":""}" index="custom" @click="${e=>this.updateDays(e.target.getAttribute("index"))}">${go("fields.day_type_custom")}</mwc-button>
      </div>
      <div class="day-list${"custom"==this.selection.daysType?"":" closed"}" id="day-list-custom">
        <mwc-button class="day-item${this.selection.daysCustom.includes(1)?" active":""}" index="1" @click="${e=>this.updateDays(e.target.getAttribute("index"))}">${go("days_short.mon")}</mwc-button>
        <mwc-button class="day-item${this.selection.daysCustom.includes(2)?" active":""}" index="2" @click="${e=>this.updateDays(e.target.getAttribute("index"))}">${go("days_short.tue")}</mwc-button>
        <mwc-button class="day-item${this.selection.daysCustom.includes(3)?" active":""}" index="3" @click="${e=>this.updateDays(e.target.getAttribute("index"))}">${go("days_short.wed")}</mwc-button>
        <mwc-button class="day-item${this.selection.daysCustom.includes(4)?" active":""}" index="4" @click="${e=>this.updateDays(e.target.getAttribute("index"))}">${go("days_short.thu")}</mwc-button>
        <mwc-button class="day-item${this.selection.daysCustom.includes(5)?" active":""}" index="5" @click="${e=>this.updateDays(e.target.getAttribute("index"))}">${go("days_short.fri")}</mwc-button>
        <mwc-button class="day-item${this.selection.daysCustom.includes(6)?" active":""}" index="6" @click="${e=>this.updateDays(e.target.getAttribute("index"))}">${go("days_short.sat")}</mwc-button>
        <mwc-button class="day-item${this.selection.daysCustom.includes(7)?" active":""}" index="7" @click="${e=>this.updateDays(e.target.getAttribute("index"))}">${go("days_short.sun")}</mwc-button>
      </div>
    </div>
      
    <div class="card-section">
      <div class="header">${go("fields.time")}</div>
      <timeslot-editor
        actions=${JSON.stringify(r)}
        slots=${JSON.stringify(this.selection.plannerSlots)}
        @update=${this.handlePlannerUpdate}
      >
      </timeslot-editor>
    </div>
    <div class="card-section">
      <div class="header">${go("fields.action")}</div>
      <div class="option-list">
        <div class="text-field">${this.getPlannerActions()}</div>
      </div>
    </div>
     ${i&&i.hasOwnProperty("variable")?this.getLevelPanel(i.variable,!0):""}

    <div class="card-section last">
      <mwc-button outlined @click="${()=>this.editItemCancel()}">${go("actions.cancel")}</mwc-button>
      ${void 0===this.selection.editItem?"":L`<mwc-button outlined @click="${()=>this.editItemDelete()}">${go("actions.delete")}</mwc-button>`}
      <mwc-button outlined @click="${()=>this.editItemSave()}">${go("actions.save")}</mwc-button>
    </div>
    `:L``}handlePlannerUpdate(e){e.target;if(e.detail.hasOwnProperty("slot")){let t=Number(e.detail.slot);this.selection.activePlannerSlot=t;let r=this.selection.plannerSlots[t];void 0!==r.level?Object.assign(this.selection,{level:r.level,levelEnabled:r.levelEnabled}):Object.assign(this.selection,{level:null,levelEnabled:null})}else if(e.detail.hasOwnProperty("slots")){let t=e.detail.slots;this.selection.plannerSlots=[...t]}this.requestUpdate()}getPlannerActions(){if(null===this.selection.activePlannerSlot||void 0===this.selection.activePlannerSlot)return L`<div class="text-field">select a timeslot first</div>`;let e=this.Config.GetActionsForEntity(this.selection.entity),t=this.selection.plannerSlots[this.selection.activePlannerSlot];return e.filter(e=>e.id!=$o.id).map(e=>L`
        <mwc-button class="${t.action==e.id?" active":""}" @click="${()=>{this.selectPlannerAction(e)}}">
          ${e.icon?L`<ha-icon icon="${Mo(e.icon)}" class="padded-right"></ha-icon>`:""}
          ${Vo(e.name)}
        </mwc-button>
      `)}selectPlannerAction(e){let t=this.selection.activePlannerSlot,r=[...this.selection.plannerSlots],a=Object.assign({},r[t]);Object.assign(a,{action:a.action==e.id?null:e.id}),a.action&&e.variable&&Object.assign(this.selection,{level:void 0!==a.level?a.level:e.variable.min,levelEnabled:void 0!==a.levelEnabled?a.levelEnabled:!e.variable.optional}),r[t]=a,this.selection.plannerSlots=r,this.requestUpdate()}getLevelPanel(e,t=!1){return L`
    <div class="card-section">
      <div class="header">${e.name}</div>
      <div class="option-item">
        <variable-slider
          min=${e.min}
          max=${e.max}
          step=${e.step}
          value=${this.selection.level}      
          unit=${e.unit}
          optional=${e.optional}
          disabled=${!this.selection.levelEnabled}
          show_percentage=${e.show_percentage}
          @change="${e=>{this.updateLevel(e,t)}}"
        >
        </variable-slider>
      </div>
     </div>`}updateLevel(e,t){let r=e.target;this.selection.level=Number(r.value),this.selection.levelEnabled="false"==String(r.disabled),t&&this.requestUpdate()}updateDays(e){var t=Array("daily","weekdays","custom");t.includes(e)?this.selection.daysType=e:(this.selection.daysCustom.includes(Number(e))?hi(this.selection.daysCustom,Number(e)):this.selection.daysCustom.push(Number(e)),this.selection.daysType="custom"),this.shadowRoot.querySelectorAll(".day-item").forEach(e=>{let r=String(e.getAttribute("index"));t.includes(r)?this.selection.daysType==r?e.classList.add("active"):e.classList.remove("active"):this.selection.daysCustom.includes(Number(r))?e.classList.add("active"):e.classList.remove("active")}),"custom"==this.selection.daysType?this.shadowRoot.querySelector("#day-list-custom").classList.remove("closed"):this.shadowRoot.querySelector("#day-list-custom").classList.add("closed")}updateTime(e){let t=e.target,r=Number(t.value),a=e.detail.event;this.selection.time=a?{event:a,value:r}:{value:r}}editItemSave(){let e,t;if(void 0!==this.selection.plannerSlots){let e=this.selection.plannerSlots;e=e.filter(e=>e.action),t=e.map(e=>Object.assign(Object.assign({},e),{time:{value:e.startTime},days:xo(this.selection),action:e.action,entity:this.selection.entity}))}else t=[Object.assign(Object.assign({},this.selection),{days:xo(this.selection)})];e=Do(t,this.Config),this.selection.newItem?this._hass.callService("scheduler","add",e):this.selection.editItem&&this._hass.callService("scheduler","edit",Object.assign(e,{entity_id:this.selection.editItem})),this.selection=Object.assign({},Vc),this.awaitUpdate()}editItemDelete(){let e=this.selection.editItem;this._hass.callService("scheduler","remove",{entity_id:e}),this.selection=Object.assign({},Vc),this.awaitUpdate()}},t([Y()],e.SchedulerCard.prototype,"_hass",void 0),e.SchedulerCard=t([W("scheduler-card")],e.SchedulerCard)}({});
